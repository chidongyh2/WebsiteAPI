function rotate(n,t){$({d:angleStart}).animate({d:t},{step:function(t){$(n).css({transform:"rotate("+t+"deg)"}).find("label").css({transform:"rotate("+-t+"deg)"})},duration:0})}function toggleOptions(n){var i,r,t,u,f;for($(n).toggleClass("open"),i=$(n).find("li"),r=$(n).hasClass("half")?180/(i.length-1):360/27,t=0;t<i.length;t++)u=t<=4?t*r+57:t*r+171,f=$(n).hasClass("half")?t*r-90:u,$(n).hasClass("open")?rotate(i[t],f):rotate(i[t],angleStart)}function HomeViewModel(){var n=this;n.isMobile=ko.observable(!1);n.isSelect=ko.observable(!1);n.listVideo=ko.observableArray([]);n.videoLinkId=ko.observable("");n.videoTitle=ko.observable("");n.isSelectVideo=ko.observable(!1);n.id=ko.observable("");n.listValue=ko.observableArray([]);n.valueId=ko.observable(1);n.valueImage=ko.observable();n.valueName=ko.observable();n.valueSeoLink=ko.observable();n.listProductCategoryHot=ko.observableArray([]);n.productCategoryId=ko.observable();n.listProductHot=ko.observableArray([]);n.firstIndex=ko.observable(0);n.lastIndex=ko.observable(4);n.totalRows=ko.observable(0);n.pageSize=ko.observable(20);n.currentPage=ko.observable(1);n.totalPage=ko.observable(1);n.listPage=ko.observableArray([]);n.selectValue=function(t){t&&(n.valueId(t.Id),n.valueImage(t.Image),n.valueName(t.Name),n.valueSeoLink(t.SeoLink))};n.selectVideo=function(t){t&&(n.videoLinkId(t.VideoLinkId),n.videoTitle(t.Title),n.id(t.Id),n.isSelectVideo(!0))};n.checkUrlVideo=function(n){return n.indexOf("uploads/")>-1?!0:!1};n.selectProductCategory=function(t){n.productCategoryId(t.Id);$.get("/get-product-by-category",{seolink:t.SeoLink},function(t){n.listProductHot([]);console.log(t.items);$("div").remove(".lslide");n.listProductHot(t.items)})};n.initProductSlider=function(){$(`#product-hot-slider-${n.productCategoryId()}`).lightSlider({item:4,auto:!1,loop:!1,slideMove:1,speed:1500,pause:3e3,slideEndAnimation:!1,slideMargin:10,pauseOnHover:!1,controls:!0,prevHtml:'<img src="/images/facion/pev.png" />',nextHtml:'<img src="/images/facion/nex.png" />',pager:!1,responsive:[{breakpoint:800,settings:{item:2,slideMove:1}},{breakpoint:480,settings:{item:2,slideMove:1}}]})};n.rendProductCategoryActive=function(){_.each(n.listProductCategoryHot(),function(t,i){t.IsActive(i<=n.lastIndex()&&i>=n.firstIndex())})};n.nextIndex=function(){if(n.listProductCategoryHot()&&n.lastIndex()<=n.listProductCategoryHot().length-1){n.firstIndex(n.firstIndex()+1);n.lastIndex(n.lastIndex()+1);n.rendProductCategoryActive();var t=_.findIndex(n.listProductCategoryHot(),function(t){return t.Id===n.productCategoryId()});t<n.firstIndex()&&(n.productCategoryId(n.listProductCategoryHot()[n.firstIndex()].Id),n.selectProductCategory(n.listProductCategoryHot()[n.firstIndex()]))}};n.prevIndex=function(){if(n.listProductCategoryHot()&&n.firstIndex()>0){n.firstIndex(n.firstIndex()-1);n.lastIndex(n.lastIndex()-1);n.rendProductCategoryActive();var t=_.findIndex(n.listProductCategoryHot(),function(t){return t.Id===n.productCategoryId()});t>n.lastIndex()&&(n.productCategoryId(n.listProductCategoryHot()[n.lastIndex()].Id),n.selectProductCategory(n.listProductCategoryHot()[n.lastIndex()]))}};n.searchPageIndex=function(t){n.currentPage(t.page);n.search()};n.renderPage=function(t){if(n.totalRows(t),n.totalPage(Math.ceil(n.totalRows()/n.pageSize())),n.listPage([]),n.totalPage()>1)for(var i=1;i<=n.totalPage();i++)n.listPage.push({page:i})};n.firstPage=function(){n.currentPage(1);n.search();$("html, body").animate({scrollTop:$("#product-categoty-hot-in-homepage").offset().top-50},1e3)};n.lastPage=function(){n.currentPage(n.totalPage());n.search();$("html, body").animate({scrollTop:$("#product-categoty-hot-in-homepage").offset().top-50},1e3)};n.prevPage=function(){n.currentPage(n.currentPage()-1);n.search();$("html, body").animate({scrollTop:$("#product-categoty-hot-in-homepage").offset().top-50},1e3)};n.nextPage=function(){n.currentPage(n.currentPage()+1);n.search();$("html, body").animate({scrollTop:$("#product-categoty-hot-in-homepage").offset().top-50},1e3)};n.searchPageIndex=function(t){n.currentPage(t.page);n.search()};n.rendTree=function(t){_.each(t,function(t){t.state.show=ko.observable(t.state.opened);t.children&&t.children.length>0&&n.rendTree(t.children)})};n.search=function(){$.get("/search-product",{page:n.currentPage(),pageSize:n.pageSize()},function(t){n.listProductHot(t.items);n.renderPage(t.totalRows)})};$(document).ready(function(){window.innerWidth<768&&n.lastIndex(1);n.listVideo(listVideo);n.videoLinkId(videoLinkId);n.videoTitle(videoTitle);n.id(videoId);window.innerWidth<768&&n.isMobile(!0);n.listProductHot([]);$("div").remove(".lslide");n.listProductHot(products);n.renderPage(totalProducts)})}var nbOptions,angleStart,viewModel;$(document).ready(function(){$("#myCarousel").slick({slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplayTimeout:5e3,focusOnSelect:!1,infinite:!1,touchMove:!0,dots:!0,lazyLoad:"ondemand",prevArrow:'<button class="slick-prev"> <img src="/images/facion/pev.png" /> <\/button>',nextArrow:'<button class="slick-next"> <img src="/images/facion/nex.png" /> <\/button>',responsive:[{breakpoint:500,settings:"unslick"}]});$("#video-silder").lightSlider({onBeforeStart:function(){},onSliderLoad:function(n){setTimeout(()=>{n.find("img").each(function(n,t){$(t).attr("src",$(t).attr("data-src"));$(t).css("display","initial")})},3e3)},item:6,auto:!1,loop:!0,slideMove:1,speed:1500,pause:3e3,slideMargin:15,pauseOnHover:!1,controls:!0,prevHtml:'<img src="/images/facion/pev.png" />',nextHtml:'<img src="/images/facion/nex.png" />',pager:!1,responsive:[{breakpoint:800,settings:{item:4,slideMove:1}},{breakpoint:480,settings:{item:3,slideMove:1}}]})});nbOptions=10;angleStart=-60;$(".selector button").click(function(){});setTimeout(function(){toggleOptions(".selector")},500);viewModel=new HomeViewModel;ko.applyBindings(viewModel,document.getElementsByClassName("body-content")[0]);