{"version":3,"sources":["webpack:///./src/app/base-list.component.ts","webpack:///./src/app/shareds/components/ghm-paging/ghm-paging.component.html","webpack:///./src/app/shareds/components/ghm-paging/ghm-paging.component.scss","webpack:///./src/app/shareds/components/ghm-paging/ghm-paging.component.ts","webpack:///./src/app/shareds/components/ghm-paging/ghm-paging.module.ts"],"names":[],"mappings":"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","file":"modules-banners-banner-module~modules-brand-brand-module~modules-configs-config-module~modules-custo~c12edc57.js","sourcesContent":["import { Observable, Subscriber } from 'rxjs';\r\nimport {ComponentFactoryResolver, OnDestroy, Type, ViewContainerRef} from '@angular/core';\r\nimport { AppInjector } from './shareds/helpers/app-injector';\r\nimport { AppService } from './shareds/services/app.service';\r\nimport { BriefUser } from './shareds/models/brief-user.viewmodel';\r\nimport { PermissionViewModel } from './shareds/view-models/permission.viewmodel';\r\nimport {APP_CONFIG, IAppConfig} from './configs/app.config';\r\nimport {IPageId, PAGE_ID} from './configs/page-id.config';\r\n\r\nexport class BaseListComponent<TEntity> implements OnDestroy {\r\n    currentUser: BriefUser;\r\n    appService: AppService;\r\n    keyword: string;\r\n    currentPage = 1;\r\n    pageSize = 10;\r\n    totalRows = 0;\r\n    totalRows$: Observable<number>;\r\n    isSearching = false;\r\n    listItems: TEntity[] = [];\r\n    listItems$: Observable<TEntity[]>;\r\n    subscribers: any = {};\r\n    // Permission.\r\n    permission: PermissionViewModel = {\r\n        view: false,\r\n        add: false,\r\n        edit: false,\r\n        delete: false,\r\n        export: false,\r\n        print: false,\r\n        approve: false,\r\n        report: false\r\n    };\r\n\r\n    constructor() {\r\n        this.appService = AppInjector.get(AppService);\r\n        setTimeout(() => {\r\n            this.permission = this.appService.getPermissionByPageId();\r\n        });\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        for (const subscriberKey in this.subscribers) {\r\n            if (this.subscribers.hasOwnProperty(subscriberKey)) {\r\n                const subscriber = this.subscribers[subscriberKey];\r\n                if (subscriber instanceof Subscriber) {\r\n                    subscriber.unsubscribe();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    // getPermission(appService: AppService, pageId: number) {\r\n    //     this.permission.view = appService.checkPermission(pageId, Permission.view);\r\n    //     this.permission.add = appService.checkPermission(pageId, Permission.insert);\r\n    //     this.permission.edit = appService.checkPermission(pageId, Permission.update);\r\n    //     this.permission.delete = appService.checkPermission(pageId, Permission.delete);\r\n    //     this.permission.export = appService.checkPermission(pageId, Permission.export);\r\n    //     this.permission.print = appService.checkPermission(pageId, Permission.print);\r\n    //     this.permission.approve = appService.checkPermission(pageId, Permission.approve);\r\n    //     this.permission.report = appService.checkPermission(pageId, Permission.report);\r\n    // }\r\n    loadComponent<T>(viewContainerRef: ViewContainerRef,\r\n                    component: Type<T>) {\r\n        const {injector} = viewContainerRef;\r\n        const componentFactoryResolver = injector.get(ComponentFactoryResolver);\r\n        const componentFactory = componentFactoryResolver.resolveComponentFactory(component);\r\n        viewContainerRef.clear();\r\n        const componentRef = viewContainerRef.createComponent(componentFactory);\r\n        return (<T>componentRef.instance);\r\n    }\r\n}\r\n","module.exports = \"<div class=\\\"row\\\">\\r\\n    <div class=\\\"col-sm-6\\\" *ngIf=\\\"isShowSummary\\\">\\r\\n        {{ summaryMessage }}\\r\\n    </div>\\r\\n    <div class=\\\"text-right\\\" [ngClass]=\\\"isShowSummary ? 'col-sm-6' : 'col-sm-12'\\\" *ngIf=\\\"totalRows > 0\\\">\\r\\n        <ul class=\\\"pagination\\\" *ngIf=\\\"isShowPaging\\\">\\r\\n            <li *ngIf=\\\"isShowPrevious\\\" (click)=\\\"previousClick()\\\" [class.disabled]=\\\"isDisabled\\\">\\r\\n                <a href=\\\"javascript://\\\" aria-label=\\\"Previous\\\">\\r\\n                    <span aria-hidden=\\\"true\\\">&laquo;</span>\\r\\n                </a>\\r\\n            </li>\\r\\n            <li *ngFor=\\\"let item of listPageShow\\\" [class.active]=\\\"item === currentPage\\\"\\r\\n                [class.disabled]=\\\"isDisabled\\\"><a href=\\\"javascript://\\\" (click)=\\\"onClick(item)\\\">{{item}}</a></li>\\r\\n            <li *ngIf=\\\"isShowNext\\\" (click)=\\\"nextClick()\\\" [class.disabled]=\\\"isDisabled\\\">\\r\\n                <a href=\\\"javascript://\\\" aria-label=\\\"Next\\\">\\r\\n                    <span aria-hidden=\\\"true\\\">&raquo;</span>\\r\\n                </a>\\r\\n            </li>\\r\\n        </ul>\\r\\n    </div>\\r\\n</div>\\r\\n\"","module.exports = \"ghm-paging ul.pagination {\\n  margin: 0;\\n  display: block;\\n  width: 100%; }\\n  ghm-paging ul.pagination li {\\n    display: inline !important; }\\n\"","﻿import { Component, Input, Output, EventEmitter, OnInit, OnChanges, SimpleChanges, ViewEncapsulation } from '@angular/core';\r\n\r\n@Component({\r\n    selector: 'ghm-paging',\r\n    templateUrl: './ghm-paging.component.html',\r\n    styleUrls: ['./ghm-paging.component.scss'],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\n\r\nexport class GhmPagingComponent implements OnInit, OnChanges {\r\n    @Input() totalRows: number;\r\n    @Input() pageSize = 20;\r\n    @Input() isShowSummary = false;\r\n    @Input() pageShow = 5;\r\n    @Input() currentPage = 5;\r\n    @Input() isDisabled = false;\r\n    @Input() pageName = false;\r\n    @Input() summaryMessage: string;\r\n\r\n    @Output() pageClick = new EventEmitter();\r\n\r\n    isShowPaging = true;\r\n    isShowNext = false;\r\n    isShowPrevious = false;\r\n    totalPage = 0;\r\n    fromPageSummary = 1;\r\n    toPageSummary = 1;\r\n\r\n    listPageShow = [];\r\n\r\n    constructor() {\r\n\r\n    }\r\n\r\n    ngOnInit(): void {\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        if (changes.hasOwnProperty('totalRows') && changes['totalRows'].currentValue !== 0) {\r\n            this.buildPaging();\r\n        }\r\n\r\n        if (changes.hasOwnProperty('totalRows') && changes['totalRows'].currentValue === 0) {\r\n            this.summaryMessage = `Chưa có ${this.pageName} nào để hiển thị.`;\r\n        }\r\n    }\r\n\r\n    onClick(currentPage: number) {\r\n        this.currentPage = currentPage;\r\n        this.refreshPaging();\r\n        this.pageClick.emit(currentPage);\r\n    }\r\n\r\n    previousClick() {\r\n        this.currentPage -= 1;\r\n        this.refreshPaging();\r\n        this.pageClick.emit(this.currentPage);\r\n    }\r\n\r\n    nextClick() {\r\n        this.currentPage += 1;\r\n        this.refreshPaging();\r\n        this.pageClick.emit(this.currentPage);\r\n    }\r\n\r\n    buildPaging() {\r\n        let pageForShow = this.pageShow;\r\n        this.totalPage = Math.ceil(this.totalRows / this.pageSize);\r\n        if (this.totalPage <= 1) {\r\n            this.isShowPaging = false;\r\n        } else {\r\n            this.isShowPaging = true;\r\n        }\r\n\r\n        if (this.totalPage > 0) {\r\n            this.listPageShow = [];\r\n\r\n            if (this.totalPage < this.pageShow) {\r\n                pageForShow = this.totalPage;\r\n            } else {\r\n                pageForShow = this.pageShow;\r\n            }\r\n\r\n            for (let i = 1; i <= pageForShow; i++) {\r\n                this.listPageShow.push(i);\r\n            }\r\n\r\n            this.isShowPrevious = this.currentPage > 1;\r\n            this.isShowNext = this.currentPage < this.totalPage;\r\n            this.renderSummary();\r\n        }\r\n    }\r\n\r\n    refreshPaging() {\r\n        if (this.totalPage > this.pageShow) {\r\n            const pageStep = Math.floor(this.pageShow / 2);\r\n            let previousPage = this.currentPage - (pageStep - (this.pageShow % 2 > 0 ? 0 : 1));\r\n            let nextPage = this.currentPage + pageStep;\r\n\r\n            if (previousPage < 1) {\r\n                previousPage = 1;\r\n                nextPage = this.pageShow;\r\n            }\r\n\r\n            if (nextPage > this.totalPage) {\r\n                nextPage = this.totalPage;\r\n            }\r\n\r\n            if (this.totalPage - this.currentPage < pageStep) {\r\n                previousPage = this.totalPage - this.pageShow + 1;\r\n                nextPage = this.totalPage;\r\n            }\r\n\r\n            this.listPageShow = [];\r\n\r\n            for (let i = previousPage; i < this.currentPage; i++) {\r\n                this.listPageShow.push(i);\r\n            }\r\n\r\n            for (let i = this.currentPage; i <= nextPage; i++) {\r\n                this.listPageShow.push(i);\r\n            }\r\n        }\r\n\r\n        this.isShowPrevious = this.currentPage > 1;\r\n        this.isShowNext = this.currentPage < this.totalPage;\r\n        this.renderSummary();\r\n    }\r\n\r\n    renderSummary() {\r\n        this.fromPageSummary = (this.currentPage - 1) * this.pageSize + 1;\r\n        this.toPageSummary = this.currentPage * this.pageSize;\r\n\r\n        if (this.toPageSummary > this.totalRows) {\r\n            this.toPageSummary = this.totalRows;\r\n        }\r\n        // console.log(this.summaryMessage);\r\n        // this.summaryMessage = `Hiển thị từ ${this.fromPageSummary} đến ${this.toPageSummary} của  ${this.totalRows} ${this.pageName}`;\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { GhmPagingComponent } from './ghm-paging.component';\r\nimport { CommonModule } from '@angular/common';\r\n\r\n@NgModule({\r\n    imports: [CommonModule],\r\n    exports: [GhmPagingComponent],\r\n    declarations: [GhmPagingComponent],\r\n    providers: [],\r\n})\r\nexport class GhmPagingModule {\r\n}\r\n"],"sourceRoot":""}