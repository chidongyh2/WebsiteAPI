{"version":3,"sources":["webpack:///./src/app/shareds/components/nh-image-viewer/nh-image-viewer.directive.ts","webpack:///./src/app/shareds/components/nh-image-viewer/nh-image-viewer.model.ts","webpack:///./src/app/shareds/components/nh-image-viewer/nh-image-viewer.module.ts","webpack:///./src/app/shareds/components/nh-image-viewer/nh-image-viewer.service.ts","webpack:///./src/app/shareds/components/nh-image-viewer/nh-image-viewer/nh-image-viewer.component.html","webpack:///./src/app/shareds/components/nh-image-viewer/nh-image-viewer/nh-image-viewer.component.scss","webpack:///./src/app/shareds/components/nh-image-viewer/nh-image-viewer/nh-image-viewer.component.ts"],"names":[],"mappings":"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","file":"modules-configs-config-module~modules-folders-folder-module~modules-warehouse-product-product-module~00164b2a.js","sourcesContent":["import { AfterViewInit, Directive, HostListener, Injector, Input, OnDestroy, OnInit, ViewContainerRef } from '@angular/core';\r\nimport { NhImageViewerService } from './nh-image-viewer.service';\r\nimport { ImageViewer } from './nh-image-viewer.model';\r\nimport { GlobalPositionStrategy, Overlay, OverlayRef } from '@angular/cdk/overlay';\r\nimport { ComponentPortal } from '@angular/cdk/portal';\r\nimport { NhImageViewerComponent } from './nh-image-viewer/nh-image-viewer.component';\r\n\r\n@Directive({\r\n    selector: '[nhImageViewer]'\r\n})\r\nexport class NhImageViewerDirective implements OnInit, AfterViewInit, OnDestroy {\r\n    private readonly _id: string;\r\n\r\n    @Input() nhImageViewer: string;\r\n\r\n    private overlayRef: OverlayRef;\r\n    private positionStrategy = new GlobalPositionStrategy();\r\n\r\n    constructor(\r\n        private overlay: Overlay,\r\n        private viewContainerRef: ViewContainerRef,\r\n        private nhImageViewerService: NhImageViewerService) {\r\n        this._id = Math.random().toString(36).substr(2, 9);\r\n        this.nhImageViewerService.dismissImageViewer$.subscribe(() => {\r\n            this.dismissImageViewer();\r\n        });\r\n    }\r\n\r\n    @HostListener('click', ['$event'])\r\n    click(event: MouseEvent) {\r\n        // this.nhImageViewerService.showImageViewer$.next(this._id);\r\n        this.showImageViewer();\r\n    }\r\n\r\n    ngOnInit() {\r\n        const windowWidth = window.innerWidth;\r\n        const windowHeight = window.innerHeight;\r\n        this.overlayRef = this.overlay.create({\r\n            positionStrategy: this.positionStrategy,\r\n            width: windowWidth,\r\n            height: windowHeight\r\n        });\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        this.nhImageViewerService.add(new ImageViewer(this._id, this.nhImageViewer));\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        if (this.overlayRef.hasAttached()) {\r\n            this.dismissImageViewer();\r\n        }\r\n    }\r\n\r\n    private showImageViewer() {\r\n        if (!this.overlayRef.hasAttached()) {\r\n            const injector = Injector.create({\r\n                providers: [{provide: 'id', useValue: this._id.toString()}]\r\n            });\r\n            this.overlayRef.attach(new ComponentPortal(NhImageViewerComponent, this.viewContainerRef, injector));\r\n            this.positionStrategy.top('0px');\r\n            this.positionStrategy.left('0px');\r\n            this.positionStrategy.apply();\r\n        }\r\n    }\r\n\r\n    private dismissImageViewer() {\r\n        this.overlayRef.detach();\r\n    }\r\n}\r\n","export class ImageViewer {\r\n    id: string;\r\n    src: string;\r\n    name: string;\r\n    description?: string;\r\n\r\n    constructor(id: string, src: string, name?: string, description?: string) {\r\n        this.id = id;\r\n        this.src = src;\r\n        this.name = name;\r\n        this.description = description;\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { NhImageViewerComponent } from './nh-image-viewer/nh-image-viewer.component';\r\nimport { MatIconModule } from '@angular/material';\r\nimport { NhImageViewerDirective } from './nh-image-viewer.directive';\r\nimport { NhImageViewerService } from './nh-image-viewer.service';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        MatIconModule\r\n    ],\r\n    declarations: [NhImageViewerComponent, NhImageViewerDirective],\r\n    entryComponents: [NhImageViewerComponent],\r\n    exports: [NhImageViewerDirective],\r\n    providers: [NhImageViewerService]\r\n})\r\nexport class NhImageViewerModule {\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ImageViewer } from './nh-image-viewer.model';\r\nimport * as _ from 'lodash';\r\nimport { Subject } from 'rxjs';\r\n\r\n@Injectable()\r\nexport class NhImageViewerService {\r\n    private _images: ImageViewer[] = [];\r\n    // showImageViewer$ = new Subject<string>();\r\n    dismissImageViewer$ = new Subject();\r\n\r\n    constructor() {\r\n    }\r\n\r\n    get images() {\r\n        return this._images;\r\n    }\r\n\r\n    add(imageViewer: ImageViewer) {\r\n        this._images = [...this._images, imageViewer];\r\n    }\r\n\r\n    getCurrentImage(id: string): ImageViewer {\r\n        const image = _.find(this.images, (imageViewer: ImageViewer) => {\r\n            return imageViewer.id === id;\r\n        });\r\n        return image;\r\n    }\r\n}\r\n","module.exports = \"<div class=\\\"nh-image-viewer-container\\\">\\r\\n    <div class=\\\"nh-image-viewer-header\\\">\\r\\n        <div class=\\\"close-viewer\\\" (click)=\\\"closeViewer()\\\">\\r\\n            <svg\\r\\n                width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\" focusable=\\\"false\\\"\\r\\n                role=\\\"presentation\\\">\\r\\n                <path\\r\\n                    d=\\\"M12 10.586L6.707 5.293a1 1 0 0 0-1.414 1.414L10.586 12l-5.293 5.293a1 1 0 0 0 1.414 1.414L12 13.414l5.293 5.293a1 1\\r\\n0 0 0 1.414-1.414L13.414 12l5.293-5.293a1 1 0 1 0-1.414-1.414L12 10.586z\\\"\\r\\n                    fill=\\\"currentColor\\\">\\r\\n                </path>\\r\\n            </svg>\\r\\n        </div>\\r\\n        <div class=\\\"nh-image-viewer-name\\\">\\r\\n\\r\\n        </div>\\r\\n        <!--<ul class=\\\"nh-image-viewer-actions\\\">-->\\r\\n            <!--<li>-->\\r\\n                <!--<button type=\\\"button\\\" (click)=\\\"print()\\\">-->\\r\\n                    <!--<mat-icon>print</mat-icon>-->\\r\\n                <!--</button>-->\\r\\n            <!--</li>-->\\r\\n            <!--<li>-->\\r\\n                <!--<button type=\\\"button\\\" (click)=\\\"download()\\\">-->\\r\\n                    <!--<mat-icon>vertical_align_bottom</mat-icon>-->\\r\\n                <!--</button>-->\\r\\n            <!--</li>-->\\r\\n        <!--</ul>-->\\r\\n    </div><!-- END: .nh-image-viewer-header -->\\r\\n    <div class=\\\"nh-image-viewer-content\\\">\\r\\n        <button type=\\\"button\\\" class=\\\"navigation back\\\" (click)=\\\"back()\\\">\\r\\n            <mat-icon>arrow_back</mat-icon>\\r\\n        </button>\\r\\n        <img\\r\\n            #imageViewport\\r\\n            draggable=\\\"false\\\"\\r\\n            src=\\\"{{ image?.src }}\\\"\\r\\n            alt=\\\"{{ image?.name }}\\\">\\r\\n\\r\\n        <ul class=\\\"nh-image-viewer-actions\\\">\\r\\n            <li>\\r\\n                <button type=\\\"button\\\" (click)=\\\"zoomOut()\\\">\\r\\n                    <mat-icon>minimize</mat-icon>\\r\\n                </button>\\r\\n            </li>\\r\\n            <li>\\r\\n                <button type=\\\"button\\\" (click)=\\\"reset()\\\">\\r\\n                    <mat-icon>replay</mat-icon>\\r\\n                </button>\\r\\n            </li>\\r\\n            <li>\\r\\n                <button type=\\\"button\\\" (click)=\\\"zoomIn()\\\">\\r\\n                    <mat-icon>add</mat-icon>\\r\\n                </button>\\r\\n            </li>\\r\\n        </ul>\\r\\n        <button type=\\\"button\\\" class=\\\"navigation next\\\" (click)=\\\"next()\\\">\\r\\n            <mat-icon>arrow_forward</mat-icon>\\r\\n        </button>\\r\\n    </div><!-- END: .nh-image-viewer-content -->\\r\\n</div><!-- END: .nh-image-viewer-container -->\\r\\n\"","module.exports = \"nh-image-viewer {\\n  display: block;\\n  width: 100%;\\n  background: rgba(0, 0, 0, 0.7); }\\n  nh-image-viewer .nh-image-viewer-container {\\n    display: block;\\n    width: 100%;\\n    height: 100%; }\\n  nh-image-viewer .nh-image-viewer-container .close-viewer, nh-image-viewer .nh-image-viewer-container ul.nh-image-viewer-actions li button, nh-image-viewer .nh-image-viewer-container button.navigation {\\n      padding: 5px 7px;\\n      border: none;\\n      background: none;\\n      color: white; }\\n  nh-image-viewer .nh-image-viewer-container .close-viewer:hover, nh-image-viewer .nh-image-viewer-container ul.nh-image-viewer-actions li button:hover, nh-image-viewer .nh-image-viewer-container button.navigation:hover {\\n        cursor: pointer;\\n        border-radius: 3px !important;\\n        background: rgba(255, 255, 255, 0.5); }\\n  nh-image-viewer .nh-image-viewer-container .close-viewer:focus, nh-image-viewer .nh-image-viewer-container .close-viewer:active, nh-image-viewer .nh-image-viewer-container .close-viewer:hover, nh-image-viewer .nh-image-viewer-container .close-viewer:visited, nh-image-viewer .nh-image-viewer-container ul.nh-image-viewer-actions li button:focus, nh-image-viewer .nh-image-viewer-container ul.nh-image-viewer-actions li button:active, nh-image-viewer .nh-image-viewer-container ul.nh-image-viewer-actions li button:hover, nh-image-viewer .nh-image-viewer-container ul.nh-image-viewer-actions li button:visited, nh-image-viewer .nh-image-viewer-container button.navigation:focus, nh-image-viewer .nh-image-viewer-container button.navigation:active, nh-image-viewer .nh-image-viewer-container button.navigation:hover, nh-image-viewer .nh-image-viewer-container button.navigation:visited {\\n        outline: none; }\\n  nh-image-viewer .nh-image-viewer-container ul.nh-image-viewer-actions {\\n      list-style: none;\\n      float: right;\\n      margin-bottom: 0; }\\n  nh-image-viewer .nh-image-viewer-container ul.nh-image-viewer-actions li {\\n        display: inline-block; }\\n  nh-image-viewer .nh-image-viewer-container .nh-image-viewer-header {\\n      display: flex;\\n      align-items: center;\\n      justify-content: space-between;\\n      padding: 10px; }\\n  nh-image-viewer .nh-image-viewer-container .nh-image-viewer-header .close-viewer svg {\\n        color: white; }\\n  nh-image-viewer .nh-image-viewer-container .nh-image-viewer-content {\\n      text-align: center;\\n      position: relative;\\n      -webkit-user-select: none;\\n         -moz-user-select: none;\\n          -ms-user-select: none;\\n              user-select: none; }\\n  nh-image-viewer .nh-image-viewer-container .nh-image-viewer-content img {\\n        transition: all 300ms ease-in-out;\\n        position: absolute;\\n        -webkit-user-select: none;\\n           -moz-user-select: none;\\n            -ms-user-select: none;\\n                user-select: none; }\\n  nh-image-viewer .nh-image-viewer-container .nh-image-viewer-content ul.nh-image-viewer-actions {\\n        position: fixed;\\n        bottom: 40px;\\n        left: 0;\\n        right: 0;\\n        margin: 0 auto; }\\n  nh-image-viewer .nh-image-viewer-container .nh-image-viewer-content button.navigation {\\n        position: fixed; }\\n  nh-image-viewer .nh-image-viewer-container .nh-image-viewer-content button.navigation.back, nh-image-viewer .nh-image-viewer-container .nh-image-viewer-content button.navigation.next {\\n          top: 50%; }\\n  nh-image-viewer .nh-image-viewer-container .nh-image-viewer-content button.navigation.back {\\n          left: 20px; }\\n  nh-image-viewer .nh-image-viewer-container .nh-image-viewer-content button.navigation.next {\\n          right: 20px; }\\n\"","import { Component, ElementRef, HostListener, Injector, OnInit, Renderer2, ViewChild, ViewEncapsulation } from '@angular/core';\r\nimport { NhImageViewerService } from '../nh-image-viewer.service';\r\nimport { ImageViewer } from '../nh-image-viewer.model';\r\n\r\n@Component({\r\n    selector: 'nh-image-viewer',\r\n    templateUrl: './nh-image-viewer.component.html',\r\n    styleUrls: ['./nh-image-viewer.component.scss'],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\nexport class NhImageViewerComponent implements OnInit {\r\n    @ViewChild('imageViewport') imageViewport: ElementRef;\r\n    image: ImageViewer;\r\n    private scale = 1;\r\n\r\n    constructor(\r\n        private el: ElementRef,\r\n        private renderer: Renderer2,\r\n        private injector: Injector,\r\n        private nhImageViewerService: NhImageViewerService\r\n    ) {\r\n    }\r\n\r\n    @HostListener('mousewheel', ['$event'])\r\n    onMouseWheel(event: MouseWheelEvent) {\r\n        const deltaY = event.deltaY;\r\n        if (deltaY < 0) {\r\n            this.zoomIn();\r\n        } else {\r\n            this.zoomOut();\r\n        }\r\n    }\r\n\r\n    @HostListener('window:keyup', ['$event'])\r\n    onKeyUp(event: KeyboardEvent) {\r\n        if (event.key === 'ArrowRight' || event.key === 'ArrowUp') {\r\n            this.next();\r\n        }\r\n        if (event.key === 'ArrowLeft' || event.key === 'ArrowDown') {\r\n            this.back();\r\n        }\r\n    }\r\n\r\n    ngOnInit() {\r\n        const id = this.injector.get('id');\r\n        if (id) {\r\n            this.image = this.nhImageViewerService.getCurrentImage(id);\r\n            this.updateImagePosition();\r\n        }\r\n    }\r\n\r\n    closeViewer() {\r\n        this.nhImageViewerService.dismissImageViewer$.next();\r\n    }\r\n\r\n    print() {\r\n        console.log('print');\r\n    }\r\n\r\n    download() {\r\n        console.log('download');\r\n    }\r\n\r\n    reset() {\r\n        this.scale = 1;\r\n        this.updateScale();\r\n    }\r\n\r\n    zoomIn() {\r\n        if (this.scale >= 4.5) {\r\n            return;\r\n        }\r\n        this.scale += .5;\r\n        this.updateScale();\r\n    }\r\n\r\n    zoomOut() {\r\n        if (this.scale <= 0.5) {\r\n            return;\r\n        }\r\n        this.scale -= .5;\r\n        this.updateScale();\r\n    }\r\n\r\n    back() {\r\n        const currentIndex = this.nhImageViewerService.images.indexOf(this.image);\r\n        let backIndex = currentIndex - 1;\r\n        if (backIndex <= 0) {\r\n            backIndex = this.nhImageViewerService.images.length - 1;\r\n        }\r\n        this.image = this.nhImageViewerService.images[backIndex];\r\n        this.updateImagePosition();\r\n    }\r\n\r\n    next() {\r\n        // const currentImage = this.nhImageViewerService.getCurrentImage(this.image.id);\r\n        const currentIndex = this.nhImageViewerService.images.indexOf(this.image);\r\n        let nextIndex = currentIndex + 1;\r\n        if (nextIndex >= this.nhImageViewerService.images.length) {\r\n            nextIndex = 0;\r\n        }\r\n        this.image = this.nhImageViewerService.images[nextIndex];\r\n        this.updateImagePosition();\r\n    }\r\n\r\n    private updateScale() {\r\n        this.renderer.setStyle(this.imageViewport.nativeElement, 'transform', `scale(${this.scale})`);\r\n    }\r\n\r\n    private updateImagePosition() {\r\n        setTimeout(() => {\r\n            this.renderer.setStyle(this.imageViewport.nativeElement, 'transform', `scale(1)`);\r\n            const windowWidth = window.innerWidth;\r\n            const windowHeight = window.innerHeight;\r\n            const imageViewerRect = this.imageViewport.nativeElement.getBoundingClientRect();\r\n            const left = (windowWidth - Math.round(imageViewerRect.width)) / 2;\r\n            const top = (windowHeight - Math.round(imageViewerRect.height)) / 2;\r\n            this.renderer.setStyle(this.imageViewport.nativeElement, 'top', `${top}px`);\r\n            this.renderer.setStyle(this.imageViewport.nativeElement, 'left', `${left}px`);\r\n        });\r\n    }\r\n}\r\n"],"sourceRoot":""}