{"version":3,"sources":["webpack:///./src/app/modules/customer/contact-person/contact-person.component.html","webpack:///./src/app/modules/customer/contact-person/contact-person.component.ts","webpack:///./src/app/modules/customer/customer-contact/customer-contact.component.html","webpack:///./src/app/modules/customer/customer-contact/customer-contact.component.ts","webpack:///./src/app/modules/customer/customer-detail/customer-detail.component.html","webpack:///./src/app/modules/customer/customer-detail/customer-detail.component.ts","webpack:///./src/app/modules/customer/customer-form/customer-form.component.html","webpack:///./src/app/modules/customer/customer-form/customer-form.component.ts","webpack:///./src/app/modules/customer/customer-routing.module.ts","webpack:///./src/app/modules/customer/customer.component.html","webpack:///./src/app/modules/customer/customer.component.ts","webpack:///./src/app/modules/customer/customer.module.ts","webpack:///./src/app/modules/customer/feedback/feedback-detail/feedback-detail.component.html","webpack:///./src/app/modules/customer/feedback/feedback-detail/feedback-detail.component.ts","webpack:///./src/app/modules/customer/feedback/feedback.component.html","webpack:///./src/app/modules/customer/feedback/feedback.component.ts","webpack:///./src/app/modules/customer/feedback/feedback.service.ts","webpack:///./src/app/modules/customer/model/contact-person.model.ts","webpack:///./src/app/modules/customer/model/customer-detail.viewmodel.ts","webpack:///./src/app/modules/customer/model/customer-translation.model.ts","webpack:///./src/app/modules/customer/model/customer.model.ts","webpack:///./src/app/modules/customer/model/patient-contact.model.ts","webpack:///./src/app/shareds/components/nh-image/nh-image.component.ts","webpack:///./src/app/shareds/components/nh-image/nh-image.module.ts"],"names":[],"mappings":"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","file":"modules-customer-customer-module.js","sourcesContent":["module.exports = \"<div class=\\\"table-responsive\\\">\\r\\n    <table class=\\\"table table-striped table-hover\\\">\\r\\n        <thead>\\r\\n        <tr>\\r\\n            <th class=\\\"middle center w50\\\" i18n=\\\"@@no\\\">No</th>\\r\\n            <th class=\\\"middle center \\\" i18n=\\\"@@contactPerson\\\">Contact Person</th>\\r\\n            <th class=\\\"middle center w200\\\" i18n=\\\"@@phoneNumber\\\">Phone Number</th>\\r\\n            <th class=\\\"middle center w200\\\" i18n=\\\"@@action\\\" *ngIf=\\\"permission.add && !isDetail\\\">Action</th>\\r\\n        </tr>\\r\\n        </thead>\\r\\n        <tbody>\\r\\n        <tr *ngFor=\\\"let person of listContactPerson ; let i = index\\\">\\r\\n            <td class=\\\"center middle\\\">{{ (currentPage - 1) * pageSize + i + 1 }}</td>\\r\\n            <td class=\\\"middle\\\">\\r\\n                <input class=\\\"form-control\\\" [(ngModel)]=\\\"person.fullName\\\" [disabled]=\\\"isDetail\\\">\\r\\n            </td>\\r\\n            <td class=\\\"middle right\\\">\\r\\n                <div class=\\\"input-group\\\" [class.has-error]=\\\"phoneNumber.invalid\\\">\\r\\n                    <input class=\\\"form-control\\\" [(ngModel)]=\\\"person.phoneNumber\\\"\\r\\n                           [disabled]=\\\"isDetail\\\"\\r\\n                           [pattern]=\\\"'^[+]?[(]?[0-9]{3}[)]?[-s.]?[0-9]{3}[-s.]?[0-9]{4,6}$'\\\"\\r\\n                           #phoneNumber=\\\"ngModel\\\">\\r\\n                    <span class=\\\"input-group-addon\\\" *ngIf=\\\"phoneNumber.invalid\\\" class=\\\"help-block\\\">\\r\\n                        {{'Số điện thoại không đúng định dạng'}}\\r\\n                    </span>\\r\\n                </div>\\r\\n            </td>\\r\\n            <td class=\\\"center middle\\\">\\r\\n                <ghm-button type=\\\"button\\\"\\r\\n                            *ngIf=\\\"permission.delete && i>0\\\"\\r\\n                            icon=\\\"fa fa-trash-o\\\" classes=\\\"btn btn-danger btn-sm\\\"\\r\\n                            (clicked)=\\\"delete(person.id)\\\"></ghm-button>\\r\\n                <ghm-button type=\\\"button\\\" *ngIf=\\\"permission.edit && customerId\\\"\\r\\n                            icon=\\\"fa fa-save\\\" classes=\\\"btn btn-primary btn-sm\\\"\\r\\n                            (clicked)=\\\"edit(person)\\\"></ghm-button>\\r\\n                <ghm-button type=\\\"button\\\"\\r\\n                            *ngIf=\\\"permission.add && !isDetail\\\"\\r\\n                            icon=\\\"fa fa-plus\\\" classes=\\\"btn btn-primary btn-sm\\\"\\r\\n                            (clicked)=\\\"add(person)\\\"></ghm-button>\\r\\n            </td>\\r\\n        </tr>\\r\\n        </tbody>\\r\\n    </table>\\r\\n</div>\\r\\n\\r\\n<swal\\r\\n    #confirmDeleteContactPerson\\r\\n    i18n-title=\\\"@@confirmDeleteContactPerson\\\"\\r\\n    i18n-text=\\\"@@confirmDeleteText\\\"\\r\\n    title=\\\"Are you sure for delete this contactPerson?\\\"\\r\\n    text=\\\"You can't recover this title after delete.\\\"\\r\\n    type=\\\"question\\\"\\r\\n    i18n-confirmButtonText=\\\"@@accept\\\"\\r\\n    i18n-cancelButtonText=\\\"@@cancel\\\"\\r\\n    confirmButtonText=\\\"Accept\\\"\\r\\n    cancelButtonText=\\\"Cancel\\\">\\r\\n</swal>\\r\\n\\r\\n\\r\\n\"","import { Component, EventEmitter, OnInit, Output } from '@angular/core';\r\nimport { Input } from '@angular/core';\r\nimport { ContactPerson } from '../model/contact-person.model';\r\nimport { BaseListComponent } from '../../../base-list.component';\r\nimport { CustomerService } from '../service/customer.service';\r\nimport * as _ from 'lodash';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { IActionResultResponse } from '../../../interfaces/iaction-result-response.result';\r\n\r\n@Component({\r\n    selector: 'app-customer-contact-person',\r\n    templateUrl: './contact-person.component.html'\r\n})\r\nexport class ContactPersonComponent extends BaseListComponent<ContactPerson> {\r\n    @Input() customerId: string;\r\n    @Input() isDetail = false;\r\n    @Input() isUpdate = true;\r\n    @Input() listContactPerson: ContactPerson[] = [];\r\n    @Output() selectListContactPerson = new EventEmitter<ContactPerson[]>();\r\n\r\n    constructor(private toastr: ToastrService,\r\n                private customerService: CustomerService) {\r\n        super();\r\n    }\r\n\r\n    edit(contactPerson: ContactPerson) {\r\n        if (!contactPerson.phoneNumber || contactPerson.fullName === undefined) {\r\n            return this.toastr.error('FullName or PhoneNumber is not empty!');\r\n        }\r\n        if (contactPerson.id) {\r\n            this.customerService.updateContactPerson(this.customerId, contactPerson.id, contactPerson).subscribe(() => {\r\n            });\r\n        } else {\r\n            this.customerService.insertContactPerson(this.customerId, contactPerson).subscribe((result: IActionResultResponse) => {\r\n                contactPerson.id = result.data;\r\n                const person = new ContactPerson();\r\n                person.patientId = this.customerId;\r\n                this.listContactPerson.push(person);\r\n            });\r\n        }\r\n    }\r\n\r\n    delete(id: string) {\r\n        if (this.customerId && id) {\r\n            this.customerService.deleteContactPerson(this.customerId, id).subscribe((result: any) => {\r\n                _.remove(this.listContactPerson, (item: ContactPerson) => {\r\n                    return item.id === id;\r\n                });\r\n            });\r\n        } else {\r\n            _.remove(this.listContactPerson, (item: ContactPerson) => {\r\n                return item.id === id;\r\n            });\r\n        }\r\n    }\r\n\r\n    add(contactPerson: ContactPerson) {\r\n        if (!contactPerson.phoneNumber || contactPerson.fullName === undefined) {\r\n            this.toastr.error('FullName or PhoneNumber is not empty!');\r\n            return;\r\n        }\r\n\r\n        if (contactPerson.phoneNumber && this.validatePhone(contactPerson.phoneNumber)) {\r\n            return;\r\n        }\r\n        const person = new ContactPerson();\r\n        person.patientId = this.customerId;\r\n        this.listContactPerson.push(person);\r\n    }\r\n\r\n    private validatePhone(phoneNumber: string) {\r\n        const re = /^[+]?[(]?[0-9]{3}[)]?[-s.]?[0-9]{3}[-s.]?[0-9]{4,6}$/;\r\n        return re.test(phoneNumber);\r\n    }\r\n}\r\n","module.exports = \"<div class=\\\"form-group\\\"\\r\\n     *ngFor=\\\" let patientContact of listPatientContact; let i = index\\\">\\r\\n    <label class=\\\"col-md-4 col-sm-6 control-label\\\">{{label}}</label>\\r\\n    <div class=\\\"col-md-8 col-sm-6\\\" [class.has-error]=\\\"contactValue.invalid\\\" *ngIf=\\\"!isDetail\\\">\\r\\n        <div class=\\\"input-group\\\">\\r\\n            <input type=\\\"text\\\" class=\\\"form-control\\\"\\r\\n                   [disabled]=\\\"isDetail\\\"\\r\\n                   placeholder=\\\"{{placeholder}}\\\"\\r\\n                   [(ngModel)]=\\\"patientContact.contactValue\\\"\\r\\n                   [pattern]=\\\"type === contactType.email ? '[a-zA-Z0-9.-_]{1,}@[a-zA-Z.-]{2,}[.]{1}[a-zA-Z]{2,}' : '^[+]?[(]?[0-9]{3}[)]?[-s.]?[0-9]{3}[-s.]?[0-9]{4,6}$'\\\"\\r\\n                   #contactValue = \\\"ngModel\\\"\\r\\n                   (keypress)=\\\"onKeyPress(patientContact, $event)\\\"/>\\r\\n            <div class=\\\"input-group-btn\\\" *ngIf=\\\"i > 0 && !isDetail\\\">\\r\\n                <button class=\\\"btn btn-danger\\\" type=\\\"button\\\"\\r\\n                        (click)=\\\"delete(patientContact)\\\">\\r\\n                    <i class=\\\"fa fa-times\\\"></i>\\r\\n                </button>\\r\\n            </div>\\r\\n            <!--<div class=\\\"input-group-btn\\\" *ngIf=\\\"customerId\\\">-->\\r\\n                <!--<button class=\\\"btn btn-primary\\\" type=\\\"button\\\" [disabled]=\\\"contactValue.invalid\\\"-->\\r\\n                        <!--(click)=\\\"updatePatientContact(patientContact)\\\">-->\\r\\n                    <!--<i class=\\\"fa fa-save\\\"></i>-->\\r\\n                <!--</button>-->\\r\\n            <!--</div>-->\\r\\n            <div class=\\\"input-group-btn\\\">\\r\\n                <button class=\\\"btn btn-primary\\\" type=\\\"button\\\" [disabled]=\\\"contactValue.invalid\\\"\\r\\n                        (click)=\\\"add(patientContact)\\\">\\r\\n                    <i class=\\\"fa fa-plus\\\"></i>\\r\\n                </button>\\r\\n            </div>\\r\\n        </div>\\r\\n        <span *ngIf=\\\"contactValue.invalid && !isDetail\\\" class=\\\"help-block\\\">\\r\\n           {{type == contactType.email ? 'Email không đúng định dạng.' : 'Số điện thoại không đúng định dạng'}}\\r\\n        </span>\\r\\n    </div>\\r\\n    <div class=\\\"col-md-8 col-sm-6\\\" *ngIf=\\\"isDetail\\\">\\r\\n        <div class=\\\"form-control\\\">\\r\\n            {{patientContact.contactValue}}\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n\"","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\nimport { PatientContact } from '../model/patient-contact.model';\r\nimport { ContactType, UserContact } from '../../hr/user/models/user-contact.model';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { CustomerService } from '../service/customer.service';\r\nimport { finalize } from 'rxjs/internal/operators';\r\nimport * as _ from 'lodash';\r\nimport { IActionResultResponse } from '../../../interfaces/iaction-result-response.result';\r\n\r\n@Component({\r\n    selector: 'app-patient-contact',\r\n    templateUrl: './customer-contact.component.html'\r\n})\r\n\r\nexport class CustomerContactComponent implements OnInit {\r\n    @Input() customerId;\r\n    @Input() listPatientContact: PatientContact[];\r\n    @Input() type;\r\n    @Input() isUpdate;\r\n    @Input() label = 'Mobile';\r\n    @Input() placeholder = '';\r\n    @Input() isDetail = false;\r\n    @Output() onSelectPatientContact = new EventEmitter<PatientContact[]>();\r\n    contactType = ContactType;\r\n\r\n    constructor(private toastr: ToastrService,\r\n                private customerService: CustomerService) {\r\n    }\r\n\r\n    ngOnInit() {\r\n    }\r\n\r\n    add(patientContact: PatientContact) {\r\n        if (patientContact.contactValue === '' || patientContact.contactValue === undefined) {\r\n            return this.toastr.error(this.label + ' is not empty!');\r\n        }\r\n\r\n        if (patientContact.contactValue && this.type === this.contactType.email && !this.validateEmail(patientContact.contactValue)) {\r\n            return;\r\n        }\r\n\r\n        if (patientContact.contactValue && this.type === this.contactType.mobilePhone\r\n            && !this.validatePhoneNumber(patientContact.contactValue)) {\r\n            return;\r\n        }\r\n\r\n        const countPatientContact = _.filter(this.listPatientContact, (item: UserContact) => {\r\n            return item.contactType === patientContact.contactType && item.contactValue === patientContact.contactValue;\r\n        });\r\n\r\n        if (countPatientContact && countPatientContact.length > 1) {\r\n            this.toastr.error(this.label + ' already exists!');\r\n            return;\r\n        }\r\n\r\n        if (!this.customerId || patientContact.id) {\r\n            const patientContactInsert = new PatientContact();\r\n            patientContactInsert.contactValue = '';\r\n            patientContactInsert.contactType = this.type;\r\n            patientContactInsert.patientId = this.customerId;\r\n            patientContactInsert.id = '';\r\n            this.listPatientContact.push(patientContactInsert);\r\n            this.onSelectPatientContact.emit(this.listPatientContact);\r\n        } else {\r\n            if (patientContact.id === '') {\r\n                this.customerService.insertPatientContact(this.customerId, patientContact).pipe(finalize(() => {\r\n                }))\r\n                    .subscribe((result: IActionResultResponse) => {\r\n                        patientContact.id = result.data;\r\n                        const patientContactInsert = new PatientContact();\r\n                        patientContactInsert.contactValue = '';\r\n                        patientContactInsert.contactType = this.type;\r\n                        patientContactInsert.patientId = this.customerId;\r\n                        patientContactInsert.id = '';\r\n                        this.listPatientContact.push(patientContactInsert);\r\n                        this.onSelectPatientContact.emit(this.listPatientContact);\r\n                    });\r\n            }\r\n        }\r\n    }\r\n\r\n    delete(patientContact: PatientContact) {\r\n        if (patientContact) {\r\n            if (!this.customerId || !patientContact.id) {\r\n                _.remove(this.listPatientContact, (item: PatientContact) => {\r\n                    return item.contactValue === patientContact.contactValue && item.contactType === patientContact.contactType;\r\n                });\r\n                this.onSelectPatientContact.emit(this.listPatientContact);\r\n            } else {\r\n                this.customerService.deletePatientContact(this.customerId, patientContact.id).subscribe(() => {\r\n                    _.remove(this.listPatientContact, (item: UserContact) => {\r\n                        return item.contactValue === patientContact.contactValue && item.contactType === patientContact.contactType;\r\n                    });\r\n                    this.onSelectPatientContact.emit(this.listPatientContact);\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    onKeyPress(patientContact: PatientContact, event) {\r\n        if (event.keyCode === 13) {\r\n            if (this.customerId && this.isUpdate) {\r\n                this.updatePatientContact(patientContact);\r\n            } else {\r\n                this.add(patientContact);\r\n            }\r\n            event.preventDefault();\r\n        }\r\n    }\r\n\r\n    updatePatientContact(patientContact: PatientContact) {\r\n        if (patientContact.contactValue === '' || patientContact.contactValue === undefined) {\r\n            return this.toastr.error(this.label + ' is not empty!');\r\n        }\r\n\r\n        if (patientContact.contactValue && this.type === this.contactType.email && !this.validateEmail(patientContact.contactValue)) {\r\n            return;\r\n        }\r\n\r\n        if (patientContact.contactValue && this.type === this.contactType.mobilePhone\r\n            && !this.validatePhoneNumber(patientContact.contactValue)) {\r\n            return;\r\n        }\r\n\r\n        const countPatientContact = _.filter(this.listPatientContact, (item: UserContact) => {\r\n            return item.contactType === patientContact.contactType && item.contactValue === patientContact.contactValue;\r\n        });\r\n\r\n        if (countPatientContact && countPatientContact.length > 1) {\r\n            this.toastr.error(this.label + ' already exists!');\r\n            return;\r\n        }\r\n\r\n        if (this.customerId) {\r\n            countPatientContact.customer = this.customerId;\r\n            this.customerService.updatePatientContact(this.customerId, patientContact.id, patientContact).subscribe((result: any) => {\r\n                this.onSelectPatientContact.emit(this.listPatientContact);\r\n            });\r\n        }\r\n    }\r\n\r\n    private removeContact(contactId: string) {\r\n        _.remove(this.listPatientContact, (contact: PatientContact) => {\r\n            return contact.id === contactId;\r\n        });\r\n    }\r\n\r\n    private validateEmail(email) {\r\n        const re = /^[a-zA-Z0-9.-_]{1,}@[a-zA-Z.-]{2,}[.]{1}[a-zA-Z]{2,}/;\r\n        return re.test(email);\r\n    }\r\n\r\n    private validatePhoneNumber(phoneNumber) {\r\n        const re = /^[+]?[(]?[0-9]{3}[)]?[-s.]?[0-9]{3}[-s.]?[0-9]{4,6}$/;\r\n        return re.test(phoneNumber);\r\n    }\r\n}\r\n","module.exports = \"<nh-modal #customerDetailModal size=\\\"lg\\\"\\r\\n          (onShown)=\\\"onModalShow()\\\">\\r\\n    <nh-modal-header>\\r\\n        <ng-container i18n=\\\"@@informationCustomer\\\">Information customer</ng-container>\\r\\n    </nh-modal-header>\\r\\n    <form class=\\\"form-horizontal user-form\\\">\\r\\n        <nh-modal-content>\\r\\n            <div class=\\\"tabbable-custom\\\">\\r\\n                <ul class=\\\"nav nav-tabs\\\">\\r\\n                    <li role=\\\"presentation\\\" [class.active]=\\\"tabNo === 1\\\">\\r\\n                        <a href=\\\"javascript://\\\" role=\\\"tab\\\" data-toggle=\\\"tab\\\"\\r\\n                           i18n=\\\"@@informationCustomer\\\" (click)=\\\"clickTabNo(1)\\\">Information Customer </a>\\r\\n                    </li>\\r\\n                    <li role=\\\"presentation\\\" [class.active]=\\\"tabNo === 2\\\">\\r\\n                        <a href=\\\"javascript://\\\" role=\\\"tab\\\" data-toggle=\\\"tab\\\" (click)=\\\"clickTabNo(2)\\\">Relationship</a>\\r\\n                    </li>\\r\\n                </ul>\\r\\n                <div class=\\\"tab-content\\\">\\r\\n                    <div role=\\\"tabpanel\\\" class=\\\"tab-pane active\\\">\\r\\n                        <div class=\\\"row\\\">\\r\\n                            <div class=\\\"col-md-12\\\">\\r\\n                                <div class=\\\"portlet light bordered\\\">\\r\\n                                    <div class=\\\"portlet-title tabbable-line\\\">\\r\\n                                        <div class=\\\"caption caption-md\\\">\\r\\n                                            <i class=\\\"icon-globe theme-font hide\\\"></i>\\r\\n                                            <span class=\\\"caption-subject font-blue-madison bold uppercase\\\"\\r\\n                                                  i18n=\\\"@@informationCustomer\\\">Information Customer</span>\\r\\n                                        </div>\\r\\n                                    </div>\\r\\n                                    <div class=\\\"portlet-body\\\">\\r\\n                                        <!--Họ Tên-->\\r\\n                                        <div class=\\\"form-group\\\">\\r\\n                                            <label class=\\\"col-md-2 col-sm-3 control-label\\\" [required]=\\\"true\\\"\\r\\n                                                   i18n-ghmLabel=\\\"@@customerName\\\"\\r\\n                                                   ghmLabel=\\\"Customer Name\\\"></label>\\r\\n                                            <div class=\\\"col-md-4 col-sm-3\\\">\\r\\n                                                <div class=\\\"form-control\\\">{{customerDetail.fullName}}</div>\\r\\n                                            </div>\\r\\n                                            <label class=\\\"col-md-2 col-sm-3 control-label\\\"\\r\\n                                                   i18n-ghmLabel=\\\"@@customerCode\\\"\\r\\n                                                   ghmLabel=\\\"Customer Code\\\"></label>\\r\\n                                            <div class=\\\"col-md-4 col-sm-3\\\">\\r\\n                                                <div class=\\\"form-control\\\" disabled>{{customerDetail.customerCode}}\\r\\n                                                </div>\\r\\n                                            </div>\\r\\n                                        </div>\\r\\n                                        <!--Ngày sinh giới tính-->\\r\\n                                        <div class=\\\"form-group\\\">\\r\\n                                            <label class=\\\"col-md-2 col-sm-3 control-label\\\" [required]=\\\"true\\\"\\r\\n                                                   i18n-ghmLabel=\\\"@@birthday\\\" ghmLabel=\\\"Birthday\\\"></label>\\r\\n                                            <div class=\\\"col-md-4 col-sm-3\\\">\\r\\n                                                <div class=\\\"form-control\\\">{{customerDetail.birthday |\\r\\n                                                    dateTimeFormat:\\\"DD/MM/YYYY\\\"}}\\r\\n                                                </div>\\r\\n                                            </div>\\r\\n                                            <label class=\\\"col-md-2 col-sm-3 control-label\\\" [required]=\\\"true\\\"\\r\\n                                                   i18n-ghmLabel=\\\"@@gender\\\" ghmLabel=\\\"Gender\\\"></label>\\r\\n                                            <div class=\\\"col-md-4 col-sm-3\\\">\\r\\n                                                <div class=\\\"form-control \\\">\\r\\n                                                    {{ customerDetail.gender === gender.female ? 'Nữ' : gender.male\\r\\n                                                    ?\\r\\n                                                    'Nam' : 'Giới tính khác' }}\\r\\n                                                </div>\\r\\n                                            </div>\\r\\n                                        </div>\\r\\n                                        <!--Số điện thoại email-->\\r\\n                                        <div class=\\\"row\\\">\\r\\n                                            <div class=\\\"col-sm-6\\\">\\r\\n                                                <app-patient-contact [listPatientContact]=\\\"listPatientContact\\\"\\r\\n                                                                     [isDetail]=\\\"true\\\"\\r\\n                                                                     [label]=\\\"'Mobile'\\\"\\r\\n                                                                     i18n=\\\"@@placeholderMobile\\\"\\r\\n                                                                     i18n-placeholder\\r\\n                                                                     [placeholder]=\\\"'Please enter mobile'\\\"\\r\\n                                                                     [type]=\\\"contactType.mobilePhone\\\"></app-patient-contact>\\r\\n                                            </div>\\r\\n                                            <div class=\\\"col-sm-6\\\">\\r\\n                                                <app-patient-contact [listPatientContact]=\\\"listPatientContact\\\"\\r\\n                                                                     [isDetail]=\\\"true\\\"\\r\\n                                                                     [label]=\\\"'Email'\\\"\\r\\n                                                                     i18n=\\\"@@placeholderEmail\\\"\\r\\n                                                                     i18n-placeholder\\r\\n                                                                     [placeholder]=\\\"'Please enter email'\\\"\\r\\n                                                                     [type]=\\\"contactType.email\\\"></app-patient-contact>\\r\\n                                            </div>\\r\\n                                        </div>\\r\\n                                        <!--Nguồn khách Số CMND-->\\r\\n                                        <div class=\\\"form-group\\\">\\r\\n                                            <label class=\\\"col-md-2 col-sm-3 control-label\\\"\\r\\n                                                   i18n-ghmLabel=\\\"@@customerSource\\\"\\r\\n                                                   ghmLabel=\\\"Customer Source\\\"></label>\\r\\n                                            <div class=\\\"col-md-4 col-sm-3\\\">\\r\\n                                                <nh-select [data]=\\\"listPatientResource\\\"\\r\\n                                                           [isEnable]=\\\"false\\\"\\r\\n                                                           [value]=\\\"customerDetail.patientResourceId\\\"></nh-select>\\r\\n                                            </div>\\r\\n                                            <label class=\\\"col-md-2 col-sm-3 control-label\\\"\\r\\n                                                   i18n-ghmLabel=\\\"@@identificationCard\\\"\\r\\n                                                   ghmLabel=\\\"ID Card\\\"></label>\\r\\n                                            <div class=\\\"col-md-4 col-sm-3\\\">\\r\\n                                                <div class=\\\"form-control\\\">{{customerDetail.idCardNumber}}</div>\\r\\n                                            </div>\\r\\n                                        </div>\\r\\n                                        <!--Nghề nghiệp quốc gia-->\\r\\n                                        <div class=\\\"form-group\\\">\\r\\n                                            <label class=\\\"col-md-2 col-sm-3 control-label\\\"\\r\\n                                                   i18n-ghmLabel=\\\"@@job\\\" ghmLabel=\\\"Job\\\"></label>\\r\\n                                            <div class=\\\"col-md-4 col-sm-3\\\">\\r\\n                                                <nh-select\\r\\n                                                    [data]=\\\"listJob\\\"\\r\\n                                                    [value]=\\\"customerDetail.jobId\\\"\\r\\n                                                    [isEnable]=\\\"false\\\"></nh-select>\\r\\n                                            </div>\\r\\n                                            <label class=\\\"col-md-2 col-sm-3 control-label\\\"\\r\\n                                                   i18n-ghmLabel=\\\"@@national\\\"\\r\\n                                                   ghmLabel=\\\"National\\\"></label>\\r\\n                                            <div class=\\\"col-md-4 col-sm-3\\\">\\r\\n                                                <div class=\\\"form-control\\\">{{customerDetail.nationalName}}</div>\\r\\n                                            </div>\\r\\n                                        </div>\\r\\n                                        <!--Tỉnh thành, quận huyện-->\\r\\n                                        <div class=\\\"form-group\\\">\\r\\n                                            <label class=\\\"col-md-2 col-sm-3 control-label\\\"\\r\\n                                                   i18n-ghmLabel=\\\"@@province\\\" ghmLabel=\\\"Province\\\"></label>\\r\\n                                            <div class=\\\"col-md-4 col-sm-3\\\">\\r\\n                                                <div class=\\\"form-control\\\">\\r\\n                                                    {{customerDetail.provinceName}}\\r\\n                                                </div>\\r\\n                                            </div>\\r\\n                                            <label class=\\\"col-md-2 col-sm-3 control-label\\\"\\r\\n                                                   i18n-ghmLabel=\\\"@@district\\\" ghmLabel=\\\"District\\\"></label>\\r\\n                                            <div class=\\\"col-md-4 col-sm-3\\\">\\r\\n                                                <div class=\\\"form-control\\\">\\r\\n                                                    {{customerDetail.districtName}}\\r\\n                                                </div>\\r\\n                                            </div>\\r\\n                                        </div>\\r\\n                                        <!--Dân tộc, tôn giáo-->\\r\\n                                        <div class=\\\"form-group\\\">\\r\\n                                            <label class=\\\"col-md-2 col-sm-3 control-label\\\"\\r\\n                                                   i18n-ghmLabel=\\\"@@ethnic\\\" ghmLabel=\\\"Ethnic\\\"></label>\\r\\n                                            <div class=\\\"col-md-4 col-sm-3\\\">\\r\\n                                                <div class=\\\"form-control\\\">\\r\\n                                                    {{customerDetail.ethnicName}}\\r\\n                                                </div>\\r\\n                                            </div>\\r\\n                                            <label class=\\\"col-md-2 col-sm-3 control-label\\\" i18n-ghmLabel=\\\"@@religion\\\"\\r\\n                                                   ghmLabel=\\\"Religion\\\"></label>\\r\\n                                            <div class=\\\"col-md-4 col-sm-3\\\">\\r\\n                                                <div class=\\\"form-control\\\">\\r\\n                                                    {{customerDetail.religionName}}\\r\\n                                                </div>\\r\\n                                            </div>\\r\\n                                        </div>\\r\\n                                        <!--Địa chỉ liên  hệ-->\\r\\n                                        <div class=\\\"form-group\\\">\\r\\n                                            <label class=\\\"col-md-2 col-sm-3 control-label\\\"\\r\\n                                                   i18n-ghmLabel=\\\"@@addressContact\\\"\\r\\n                                                   ghmLabel=\\\"Address\\\"></label>\\r\\n                                            <div class=\\\"col-md-10 col-sm-9\\\">\\r\\n                                                <div class=\\\"form-control\\\">\\r\\n                                                    {{customerDetail.address}}\\r\\n                                                </div>\\r\\n                                            </div>\\r\\n                                        </div>\\r\\n                                        <!--Quan hệ với nhân viên-->\\r\\n                                        <div class=\\\"form-group\\\">\\r\\n                                            <label class=\\\"col-md-2 col-sm-3 control-label\\\"\\r\\n                                                   i18n=\\\"@@isRelationship\\\" i18n-ghmLabel\\r\\n                                                   ghmLabel=\\\"Is Relationship\\\"></label>\\r\\n                                            <div class=\\\"col-md-4 col-sm-3\\\">\\r\\n                                                <nh-select [liveSearch]=\\\"true\\\" [data]=\\\"listTypeRelationship\\\"\\r\\n                                                           [isEnable]=\\\"false\\\"></nh-select>\\r\\n                                            </div>\\r\\n                                            <label class=\\\"col-md-2 col-sm-3 control-label\\\" i18n=\\\"@@employee\\\"\\r\\n                                                   i18n-ghmLabel ghmLabel=\\\"Employee\\\"></label>\\r\\n                                            <div class=\\\"col-md-4 col-sm-3\\\">\\r\\n                                                <!--<ghm-user-suggestion-->\\r\\n                                                <!--(userSelected)=\\\"onSelectEmployee($event)\\\"-->\\r\\n                                                <!--&gt;</ghm-user-suggestion>-->\\r\\n                                            </div>\\r\\n                                        </div>\\r\\n                                    </div>\\r\\n                                    <div class=\\\"portlet-body\\\">\\r\\n                                        <div class=\\\"portlet-title tabbable-line\\\">\\r\\n                                            <div class=\\\"caption caption-md\\\">\\r\\n                                                <i class=\\\"icon-globe theme-font hide\\\"></i>\\r\\n                                                <span class=\\\"caption-subject font-blue-madison bold uppercase\\\"\\r\\n                                                      i18n=\\\"@@contactPerson\\\">Contact Person</span>\\r\\n                                            </div>\\r\\n                                        </div>\\r\\n                                        <div class=\\\"portlet-body\\\">\\r\\n                                            <div class=\\\"row\\\">\\r\\n                                                <div class=\\\"col-sm-12\\\">\\r\\n                                                    <app-customer-contact-person\\r\\n                                                        [isDetail]=\\\"true\\\"\\r\\n                                                        [listContactPerson]=\\\"listContactPerson\\\"></app-customer-contact-person>\\r\\n                                                </div>\\r\\n                                            </div>\\r\\n                                        </div>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </nh-modal-content>\\r\\n        <nh-modal-footer>\\r\\n            <div class=\\\"form-group pull-right\\\">\\r\\n                <div class=\\\"col-sm-12\\\">\\r\\n                    <button class=\\\"btn btn-default\\\" type=\\\"button\\\" (click)=\\\"closeModal()\\\" i18n=\\\"@@close\\\">\\r\\n                        <i class=\\\"fa fa-times\\\"></i>\\r\\n                        Close\\r\\n                    </button>\\r\\n                </div>\\r\\n            </div>\\r\\n        </nh-modal-footer>\\r\\n    </form>\\r\\n</nh-modal>\\r\\n\"","import {Component, ViewChild} from '@angular/core';\r\nimport {CustomerDetailViewModel} from '../model/customer-detail.viewmodel';\r\nimport {NhModalComponent} from '../../../shareds/components/nh-modal/nh-modal.component';\r\nimport {CustomerService, Gender} from '../service/customer.service';\r\nimport {ContactType, PatientContact} from '../model/patient-contact.model';\r\nimport {JobService} from '../config/jobs/service/job.service';\r\nimport {PatientResourceService} from '../config/patient-source/service/patient-resource.service';\r\nimport {IActionResultResponse} from '../../../interfaces/iaction-result-response.result';\r\nimport {UserContact} from '../../hr/user/models/user-contact.model';\r\nimport {ContactPerson} from '../model/contact-person.model';\r\nimport * as _ from 'lodash';\r\n\r\n@Component({\r\n    selector: 'app-customer-detail',\r\n    templateUrl: './customer-detail.component.html',\r\n    providers: [CustomerService, JobService, PatientResourceService]\r\n})\r\n\r\nexport class CustomerDetailComponent {\r\n    @ViewChild('customerDetailModal') customerDetailModal: NhModalComponent;\r\n    tabNo = 1;\r\n    customerDetail = new CustomerDetailViewModel();\r\n    gender = Gender;\r\n    listPatientContact = [];\r\n    contactType = ContactType;\r\n    listPatientResource = [];\r\n    listJob = [];\r\n    listTypeRelationship = [];\r\n    listContactPerson = [];\r\n\r\n    constructor(private jobService: JobService,\r\n                private patientResourceService: PatientResourceService,\r\n                private customerService: CustomerService) {\r\n    }\r\n\r\n    onModalShow() {\r\n        this.getListJob();\r\n        this.getListPatientSource();\r\n    }\r\n\r\n    clickTabNo(tabNo) {\r\n        this.tabNo = tabNo;\r\n    }\r\n\r\n    closeModal() {\r\n        this.customerDetailModal.dismiss();\r\n    }\r\n\r\n    getDetail(id: string) {\r\n        this.customerService\r\n            .getDetail(id)\r\n            .subscribe((result: IActionResultResponse<CustomerDetailViewModel>) => {\r\n                    if (result.data) {\r\n                        this.customerDetail = result.data;\r\n                        this.listContactPerson = result.data.contactPatients;\r\n                        this.listPatientContact = result.data.patientContacts;\r\n                        this.insertPatientContactDefault(this.contactType.mobilePhone);\r\n                        this.insertPatientContactDefault(this.contactType.email);\r\n                        this.insertDefaultContactPerson();\r\n                    }\r\n                    this.customerDetailModal.open();\r\n                }\r\n            );\r\n    }\r\n\r\n    private getListJob() {\r\n        this.jobService.searchForSelect('', 1, 20).subscribe(result => {\r\n            this.listJob = result;\r\n        });\r\n    }\r\n\r\n    private getListPatientSource() {\r\n        this.patientResourceService.searchForSelect('', 1, 20).subscribe(result => {\r\n            this.listPatientResource = result;\r\n        });\r\n    }\r\n\r\n    private insertPatientContactDefault(contactType: number) {\r\n        const listPatientContact = _.filter(this.listPatientContact, (item: UserContact) => {\r\n            return item.contactType === contactType;\r\n        });\r\n        if (!listPatientContact || listPatientContact.length === 0) {\r\n            const item = new PatientContact();\r\n            item.contactType = contactType;\r\n            item.contactValue = '';\r\n            this.listPatientContact.push(item);\r\n        }\r\n    }\r\n\r\n    private insertDefaultContactPerson() {\r\n        if (!this.listContactPerson || this.listContactPerson.length === 0) {\r\n            const person = new ContactPerson();\r\n            person.id = this.customerDetail.id;\r\n            this.listContactPerson.push(person);\r\n        }\r\n    }\r\n}\r\n","module.exports = \"<nh-modal #customerModal size=\\\"lg\\\"\\r\\n          (show)=\\\"onModalShow()\\\"\\r\\n          (hidden)=\\\"onModalHidden()\\\">\\r\\n    <nh-modal-header>\\r\\n        {isUpdate, select, 0 {Add new customer} 1 {Update customer} other {}}\\r\\n    </nh-modal-header>\\r\\n    <form class=\\\"form-horizontal user-form\\\" (ngSubmit)=\\\"save()\\\" [formGroup]=\\\"model\\\" autocomplete=\\\"off\\\">\\r\\n        <nh-modal-content>\\r\\n            <div class=\\\"tabbable-custom\\\">\\r\\n                <ul class=\\\"nav nav-tabs\\\">\\r\\n                    <li role=\\\"presentation\\\" [class.active]=\\\"tabNo === 0\\\">\\r\\n                        <a href=\\\"javascript://\\\" role=\\\"tab\\\" data-toggle=\\\"tab\\\"\\r\\n                           i18n=\\\"@@informationCustomer\\\" (click)=\\\"changeTabView(0)\\\">Information Customer </a>\\r\\n                    </li>\\r\\n                    <li role=\\\"presentation\\\" [class.active]=\\\"tabNo === 1\\\">\\r\\n                        <a href=\\\"javascript://\\\" role=\\\"tab\\\" data-toggle=\\\"tab\\\" (click)=\\\"changeTabView(1)\\\">Relationship</a>\\r\\n                    </li>\\r\\n                </ul>\\r\\n                <div class=\\\"tab-content\\\">\\r\\n                    <div role=\\\"tabpanel\\\" class=\\\"tab-pane active\\\">\\r\\n                        <div class=\\\"row\\\">\\r\\n                            <div class=\\\"col-md-12\\\">\\r\\n                                <div class=\\\"portlet light bordered\\\">\\r\\n                                    <div class=\\\"portlet-title tabbable-line\\\">\\r\\n                                        <div class=\\\"caption caption-md\\\">\\r\\n                                            <i class=\\\"icon-globe theme-font hide\\\"></i>\\r\\n                                            <span class=\\\"caption-subject font-blue-madison bold uppercase\\\"\\r\\n                                                  i18n=\\\"@@informationCustomer\\\">Information Customer</span>\\r\\n                                        </div>\\r\\n                                    </div>\\r\\n                                    <div class=\\\"portlet-body\\\">\\r\\n                                        <!--Họ Tên-->\\r\\n                                        <div class=\\\"form-group cm-mgb-5\\\" [formGroup]=\\\"model\\\">\\r\\n                                            <label class=\\\"col-md-2 col-sm-3 control-label\\\" [required]=\\\"true\\\"\\r\\n                                                   i18n=\\\"@@customerName\\\" i18n-ghmLabel\\r\\n                                                   ghmLabel=\\\"Customer Name\\\"></label>\\r\\n                                            <div class=\\\"col-md-4 col-sm-3\\\" [class.has-error]=\\\"formErrors.fullName\\\">\\r\\n                                                <input type=\\\"text\\\" value=\\\"\\\" class=\\\"form-control\\\"\\r\\n                                                       autocomplete=\\\"off\\\"\\r\\n                                                       i18n-placeholder=\\\"@@enterFullNamePlaceHolder\\\"\\r\\n                                                       placeholder=\\\"Enter Customer Name\\\"\\r\\n                                                       formControlName=\\\"fullName\\\"/>\\r\\n                                                <span class=\\\"help-block\\\">\\r\\n                                                    {{ formErrors.fullName }}\\r\\n                                                    </span>\\r\\n                                            </div>\\r\\n                                            <label class=\\\"col-md-2 col-sm-3 control-label\\\"\\r\\n                                                   i18n=\\\"@@customerCode\\\" i18n-ghmLabel\\r\\n                                                   ghmLabel=\\\"Customer Code\\\"></label>\\r\\n                                            <div class=\\\"col-md-4 col-sm-3\\\">\\r\\n                                                <div class=\\\"form-control\\\" disabled>{{model.value.customerCode}}\\r\\n                                                </div>\\r\\n                                            </div>\\r\\n                                        </div>\\r\\n                                        <!--Ngày sinh giới tính-->\\r\\n                                        <div class=\\\"form-group cm-mgb-5\\\" [formGroup]=\\\"model\\\">\\r\\n                                            <label class=\\\"col-md-2 col-sm-3 control-label\\\" [required]=\\\"true\\\"\\r\\n                                                   i18n=\\\"@@birthday\\\" i18n-ghmLabel ghmLabel=\\\"Birthday\\\"></label>\\r\\n                                            <div class=\\\"col-md-4 col-sm-3\\\" [class.has-error]=\\\"formErrors.birthday\\\">\\r\\n                                                <nh-date [type]=\\\"'inputButton'\\\"\\r\\n                                                         [title]=\\\"'Chọn ngày sinh'\\\"\\r\\n                                                         [format]=\\\"'MM/DD/YYYY'\\\"\\r\\n                                                         formControlName=\\\"birthday\\\"\\r\\n                                                         [mask]=\\\"true\\\"></nh-date>\\r\\n                                                <span class=\\\"help-block\\\">\\r\\n                                                        {{ formErrors.birthday}}\\r\\n                                                    </span>\\r\\n                                            </div>\\r\\n                                            <label class=\\\"col-md-2 col-sm-3 control-label\\\" [required]=\\\"true\\\"\\r\\n                                                   i18n=\\\"@@gender\\\" i18n-ghmLabel ghmLabel=\\\"Gender\\\"></label>\\r\\n                                            <div class=\\\"col-md-4 col-sm-3\\\" [class.has-error]=\\\"formErrors.gender\\\">\\r\\n                                                <nh-select\\r\\n                                                    [data]=\\\"[{id: gender.female, name: 'Nữ'},{id: gender.male, name: 'Nam'}, {id: gender.other, name: 'Giới tính khác'}]\\\"\\r\\n                                                    i18n-title=\\\"@@selectGender\\\"\\r\\n                                                    [title]=\\\"'-- Select Gender --'\\\"\\r\\n                                                    formControlName=\\\"gender\\\"></nh-select>\\r\\n                                                <span class=\\\"help-block\\\">\\r\\n                                                        {{formErrors.gender}}\\r\\n                                                    </span>\\r\\n                                            </div>\\r\\n                                        </div>\\r\\n                                        <!--Số điện thoại email-->\\r\\n                                        <div class=\\\"row\\\">\\r\\n                                            <div class=\\\"col-sm-6\\\">\\r\\n                                                <app-patient-contact [listPatientContact]=\\\"listPatientContact\\\"\\r\\n                                                                     [customerId]=\\\"id\\\"\\r\\n                                                                     [isUpdate]=\\\"isUpdate\\\"\\r\\n                                                                     [type]=\\\"contactType.mobilePhone\\\"\\r\\n                                                                     [label]=\\\"'Mobile'\\\"\\r\\n                                                                     i18n-placeholder=\\\"@@placeholderMobile\\\"\\r\\n                                                                     [placeholder]=\\\"'Please enter mobile'\\\"\\r\\n                                                                     (onSelectPatientContact)=\\\"selectPatientContact($event)\\\"></app-patient-contact>\\r\\n                                            </div>\\r\\n                                            <div class=\\\"col-sm-6\\\">\\r\\n                                                <app-patient-contact [listPatientContact]=\\\"listPatientContact\\\"\\r\\n                                                                     [customerId]=\\\"id\\\"\\r\\n                                                                     [isUpdate]=\\\"isUpdate\\\"\\r\\n                                                                     [type]=\\\"contactType.email\\\"\\r\\n                                                                     [label]=\\\"'Email'\\\"\\r\\n                                                                     i18n-placeholder=\\\"@@placeholderEmail\\\"\\r\\n                                                                     [placeholder]=\\\"'Please enter email'\\\"\\r\\n                                                                     (onSelectPatientContact)=\\\"selectPatientContact($event)\\\"></app-patient-contact>\\r\\n                                            </div>\\r\\n                                        </div>\\r\\n                                        <!--Nguồn khách Số CMND-->\\r\\n                                        <div class=\\\"form-group cm-mgb-5\\\" [formGroup]=\\\"model\\\">\\r\\n                                            <label class=\\\"col-md-2 col-sm-3 control-label\\\"\\r\\n                                                   i18n=\\\"@@customerSource\\\" i18n-ghmLabel\\r\\n                                                   ghmLabel=\\\"Customer Source\\\"></label>\\r\\n                                            <div class=\\\"col-md-4 col-sm-3\\\"\\r\\n                                                 [class.has-error]=\\\"formErrors.patientResourceId\\\">\\r\\n                                                <nh-select [data]=\\\"listPatientResource\\\"\\r\\n                                                           i18n-title=\\\"@@selectPatientSource\\\"\\r\\n                                                           [liveSearch]=\\\"true\\\"\\r\\n                                                           [title]=\\\"' -- Select customer source --'\\\"\\r\\n                                                           (onInsertValue)=\\\"insertPatientResource($event)\\\"\\r\\n                                                           formControlName=\\\"patientResourceId\\\"></nh-select>\\r\\n                                                <span class=\\\"help-block\\\">\\r\\n                                                        {{ formErrors.patientResourceId }}\\r\\n                                                    </span>\\r\\n                                            </div>\\r\\n                                            <label class=\\\"col-md-2 col-sm-3 control-label\\\"\\r\\n                                                   i18n=\\\"@@identificationCard\\\" i18n-ghmLabel\\r\\n                                                   ghmLabel=\\\"ID Card\\\"></label>\\r\\n                                            <div class=\\\"col-md-4 col-sm-3\\\"\\r\\n                                                 [class.has-error]=\\\"formErrors.idCardNumber \\\">\\r\\n                                                <input type=\\\"text\\\" value=\\\"\\\" class=\\\"form-control\\\"\\r\\n                                                       i18n-placeholder=\\\"@@enterIdentificationCardPlaceHolder\\\"\\r\\n                                                       placeholder=\\\"Enter Identification Card\\\"\\r\\n                                                       formControlName=\\\"idCardNumber\\\"/>\\r\\n                                                <span class=\\\"help-block\\\">\\r\\n                                                        {{ formErrors.idCardNumber}}\\r\\n                                                    </span>\\r\\n                                            </div>\\r\\n                                        </div>\\r\\n                                        <!--Nghề nghiệp quốc gia-->\\r\\n                                        <div class=\\\"form-group cm-mgb-5\\\" [formGroup]=\\\"model\\\">\\r\\n                                            <label class=\\\"col-md-2 col-sm-3 control-label\\\"\\r\\n                                                   i18n=\\\"@@job\\\" i18n-ghmLabel ghmLabel=\\\"Job\\\"></label>\\r\\n                                            <div class=\\\"col-md-4 col-sm-3\\\" [class.has-error]=\\\"formErrors.jobId\\\">\\r\\n                                                <nh-select formControlName=\\\"jobId\\\"\\r\\n                                                           [data]=\\\"listJob\\\"\\r\\n                                                           [liveSearch]=\\\"true\\\"\\r\\n                                                           (onInsertValue)=\\\"insertJob($event)\\\"\\r\\n                                                           i18n-title=\\\"@@selectJob\\\"\\r\\n                                                           [title]=\\\"'-- Select job --'\\\"></nh-select>\\r\\n                                                <span class=\\\"help-block\\\">\\r\\n                                                        {{formErrors.jobId}}\\r\\n                                                    </span>\\r\\n                                            </div>\\r\\n                                            <label class=\\\"col-md-2 col-sm-3 control-label\\\"\\r\\n                                                   i18n=\\\"@@national\\\" i18n-ghmLabel\\r\\n                                                   ghmLabel=\\\"National\\\"></label>\\r\\n                                            <div class=\\\"col-md-4 col-sm-3\\\"\\r\\n                                                 [class.has-error]=\\\"formErrors.nationalId\\\">\\r\\n                                                <nh-select [liveSearch]=\\\"true\\\" [data]=\\\"listNational\\\"\\r\\n                                                           i18n-title=\\\"@@selectNationality\\\"\\r\\n                                                           [title]=\\\"'-- Select National --'\\\"\\r\\n                                                           formControlName=\\\"nationalId\\\"\\r\\n                                                           (onSelectItem)=\\\"onSelectNational($event)\\\"></nh-select>\\r\\n                                                <span class=\\\"help-block\\\">\\r\\n                                                        {{formErrors.nationalId}}\\r\\n                                                    </span>\\r\\n                                            </div>\\r\\n                                        </div>\\r\\n                                        <!--Tỉnh thành, quận huyện-->\\r\\n                                        <div class=\\\"form-group cm-mgb-5\\\" [formGroup]=\\\"model\\\">\\r\\n                                            <label class=\\\"col-md-2 col-sm-3 control-label\\\"\\r\\n                                                   i18n=\\\"@@province\\\" i18n-ghmLabel ghmLabel=\\\"Province\\\"></label>\\r\\n                                            <div class=\\\"col-md-4 col-sm-3\\\"\\r\\n                                                 [class.has-error]=\\\"formErrors.provinceId\\\">\\r\\n                                                <nh-select [liveSearch]=\\\"true\\\" [data]=\\\"listProvince\\\"\\r\\n                                                           i18n-title=\\\"@@selectProvince\\\"\\r\\n                                                           [title]=\\\"'-- Select Province --'\\\"\\r\\n                                                           formControlName=\\\"provinceId\\\"\\r\\n                                                           [isEnable]=\\\"enableSelectProvince\\\"\\r\\n                                                           (onSelectItem)=\\\"onProvinceSelect($event)\\\"></nh-select>\\r\\n                                                <span class=\\\"help-block\\\">\\r\\n                                                        {{formErrors.provinceId}}\\r\\n                                                    </span>\\r\\n                                            </div>\\r\\n                                            <label class=\\\"col-md-2 col-sm-3 control-label\\\"\\r\\n                                                   i18n=\\\"@@district\\\" i18n-ghmLabel ghmLabel=\\\"District\\\"></label>\\r\\n                                            <div class=\\\"col-md-4 col-sm-3\\\"\\r\\n                                                 [class.has-error]=\\\"formErrors.districtId\\\">\\r\\n                                                <nh-select [liveSearch]=\\\"true\\\" [data]=\\\"listDistrict\\\"\\r\\n                                                           i18n-title=\\\"@@selectDistrict\\\"\\r\\n                                                           [title]=\\\"'-- Select District --'\\\"\\r\\n                                                           [isEnable]=\\\"enableSelectDistrict\\\"\\r\\n                                                           formControlName=\\\"districtId\\\"></nh-select>\\r\\n                                                <span class=\\\"help-block\\\">{{formErrors.districtId}}</span>\\r\\n                                            </div>\\r\\n                                        </div>\\r\\n                                        <!--Dân tộc, tôn giáo-->\\r\\n                                        <div class=\\\"form-group cm-mgb-5\\\" [formGroup]=\\\"model\\\">\\r\\n                                            <label class=\\\"col-md-2 col-sm-3 control-label\\\"\\r\\n                                                   i18n=\\\"@@ethnic\\\" i18n-ghmLabel ghmLabel=\\\"Ethnic\\\"></label>\\r\\n                                            <div class=\\\"col-md-4 col-sm-3\\\" [class.has-error]=\\\"formErrors.ethnicId\\\">\\r\\n                                                <nh-select [liveSearch]=\\\"true\\\" [data]=\\\"listEthnic\\\"\\r\\n                                                           i18n-title=\\\"@@selectEthic\\\"\\r\\n                                                           [title]=\\\"'-- Select Ethnic --'\\\"\\r\\n                                                           formControlName=\\\"ethnicId\\\"></nh-select>\\r\\n                                                <span class=\\\"help-block\\\">\\r\\n                                                        {{formErrors.ethnicId}}\\r\\n                                                    </span>\\r\\n                                            </div>\\r\\n                                            <label class=\\\"col-md-2 col-sm-3 control-label\\\" i18n=\\\"@@religion\\\"\\r\\n                                                   i18n-ghmLabel ghmLabel=\\\"Religion\\\"></label>\\r\\n                                            <div class=\\\"col-md-4 col-sm-3\\\"\\r\\n                                                 [class.has-error]=\\\"formErrors.religionId\\\">\\r\\n                                                <nh-select [liveSearch]=\\\"true\\\"\\r\\n                                                           [data]=\\\"listReligion\\\"\\r\\n                                                           i18n-title=\\\"@@selectDenomination\\\"\\r\\n                                                           [title]=\\\"'-- Select religion --'\\\"\\r\\n                                                           formControlName=\\\"religionId\\\"></nh-select>\\r\\n                                                <span class=\\\"help-block\\\">{{formErrors.religionId}}</span>\\r\\n                                            </div>\\r\\n                                        </div>\\r\\n                                        <!--Địa chỉ liên  hệ-->\\r\\n                                        <div class=\\\"form-group cm-mgb-5\\\" [formGroup]=\\\"model\\\"\\r\\n                                             [class.has-error]=\\\"formErrors.address\\\">\\r\\n                                            <label class=\\\"col-md-2 col-sm-3 control-label\\\"\\r\\n                                                   i18n-ghmLabel = \\\"@@addressContact\\\"\\r\\n                                                   ghmLabel=\\\"Address\\\"></label>\\r\\n                                            <div class=\\\"col-md-10 col-sm-9\\\">\\r\\n                                                <textarea type=\\\"text\\\" value=\\\"\\\" class=\\\"form-control\\\"\\r\\n                                                          autocomplete=\\\"off\\\"\\r\\n                                                          i18n-placeHolder=\\\"@@addressPlaceHolder\\\"\\r\\n                                                          placeholder=\\\"Enter Address\\\"\\r\\n                                                          formControlName=\\\"address\\\" rows=\\\"3\\\"></textarea>\\r\\n                                                <div class=\\\"help-block\\\">\\r\\n                                                    {{formErrors.address}}\\r\\n                                                </div>\\r\\n                                            </div>\\r\\n                                        </div>\\r\\n                                        <!--Quan hệ với nhân viên-->\\r\\n                                        <div class=\\\"form-group cm-mgb-5\\\">\\r\\n                                            <label class=\\\"col-md-2 col-sm-3 control-label\\\"\\r\\n                                                   i18n-ghmLabel=\\\"@@isRelationship\\\"\\r\\n                                                   ghmLabel=\\\"Is Relationship\\\"></label>\\r\\n                                            <div class=\\\"col-md-4 col-sm-3\\\">\\r\\n                                                <nh-select [liveSearch]=\\\"true\\\" [data]=\\\"listRelationshipTypes\\\"\\r\\n                                                           i18n=\\\"@@selectTypeRelation\\\"\\r\\n                                                           i18n-title\\r\\n                                                           [title]=\\\"'-- Select type relationship --'\\\"></nh-select>\\r\\n                                            </div>\\r\\n                                            <label class=\\\"col-md-2 col-sm-3 control-label\\\"\\r\\n                                                   i18n-ghmLabel=\\\"@@employee\\\" ghmLabel=\\\"Employee\\\"></label>\\r\\n                                            <div class=\\\"col-md-4 col-sm-3\\\">\\r\\n                                                <ghm-user-suggestion\\r\\n                                                    (userSelected)=\\\"onSelectEmployee($event)\\\"\\r\\n                                                ></ghm-user-suggestion>\\r\\n                                            </div>\\r\\n                                        </div>\\r\\n                                    </div>\\r\\n                                    <div class=\\\"portlet-body\\\">\\r\\n                                        <div class=\\\"portlet-title tabbable-line\\\">\\r\\n                                            <div class=\\\"caption caption-md\\\">\\r\\n                                                <i class=\\\"icon-globe theme-font hide\\\"></i>\\r\\n                                                <span class=\\\"caption-subject font-blue-madison bold uppercase\\\"\\r\\n                                                      i18n=\\\"@@contactPerson\\\">Contact Person</span>\\r\\n                                            </div>\\r\\n                                        </div>\\r\\n                                        <div class=\\\"portlet-body\\\">\\r\\n                                            <div class=\\\"row\\\">\\r\\n                                                <div class=\\\"col-sm-12\\\">\\r\\n                                                    <app-customer-contact-person\\r\\n                                                        [customerId]=\\\"id\\\"\\r\\n                                                        [listContactPerson]=\\\"listContactPerson\\\"></app-customer-contact-person>\\r\\n                                                </div>\\r\\n                                            </div>\\r\\n                                        </div>\\r\\n                                    </div>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </nh-modal-content>\\r\\n        <nh-modal-footer>\\r\\n            <div class=\\\"form-group pull-right\\\">\\r\\n                <div class=\\\"col-sm-12\\\">\\r\\n                    <mat-checkbox [checked]=\\\"isCreateAnother\\\" (change)=\\\"isCreateAnother = !isCreateAnother\\\"\\r\\n                                  *ngIf=\\\"!isUpdate\\\"\\r\\n                                  i18n=\\\"@@isCreateAnother\\\"\\r\\n                                  class=\\\"cm-mgr-5\\\"\\r\\n                                  color=\\\"primary\\\">\\r\\n                        Create another\\r\\n                    </mat-checkbox>\\r\\n                    <button class=\\\"btn btn-primary cm-mgr-5\\\" type=\\\"submit\\\"\\r\\n                            [disabled]=\\\"isSaving\\\">\\r\\n                        <i class=\\\"fa fa-save\\\" *ngIf=\\\"!isSaving\\\"></i>\\r\\n                        <i class=\\\"fa fa-spinner fa-pulse\\\" *ngIf=\\\"isSaving\\\"></i>\\r\\n                        Lưu lại\\r\\n                    </button>\\r\\n                    <button class=\\\"btn btn-default\\\" type=\\\"button\\\" (click)=\\\"closeModal()\\\"\\r\\n                            [disabled]=\\\"isSaving || formErrors.length > 0\\\">\\r\\n                        <i class=\\\"fa fa-times\\\"></i>\\r\\n                        Hủy bỏ\\r\\n                    </button>\\r\\n                </div>\\r\\n            </div>\\r\\n        </nh-modal-footer>\\r\\n    </form>\\r\\n</nh-modal>\\r\\n\"","import { EventEmitter, Input, Output, ViewChild, Component, Inject, OnInit, AfterViewInit } from '@angular/core';\r\nimport { NhModalComponent } from '../../../shareds/components/nh-modal/nh-modal.component';\r\nimport { BaseFormComponent } from '../../../base-form.component';\r\nimport { CustomerService } from '../service/customer.service';\r\nimport { UtilService } from '../../../shareds/services/util.service';\r\nimport { NumberValidator } from '../../../validators/number.validator';\r\nimport * as _ from 'lodash';\r\nimport { IPageId, PAGE_ID } from '../../../configs/page-id.config';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { SpinnerService } from '../../../core/spinner/spinner.service';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { Customer } from '../model/customer.model';\r\nimport { DateTimeValidator } from '../../../validators/datetime.validator';\r\nimport { CustomerTranslation } from '../model/customer-translation.model';\r\nimport { finalize } from 'rxjs/internal/operators';\r\nimport { NationalService } from '../../hr/user/services/national.service';\r\nimport { Gender } from '../../hr/user/models/user.model';\r\nimport { PatientContact, ContactType } from '../model/patient-contact.model';\r\nimport { UserContact } from '../../hr/user/models/user-contact.model';\r\nimport { IActionResultResponse } from '../../../interfaces/iaction-result-response.result';\r\nimport { CustomerDetailViewModel } from '../model/customer-detail.viewmodel';\r\nimport { JobService } from '../config/jobs/service/job.service';\r\nimport { APP_CONFIG, IAppConfig } from '../../../configs/app.config';\r\nimport { Job } from '../config/jobs/models/job.model';\r\nimport { PatientResource } from '../config/patient-source/models/patient-resource.model';\r\nimport { PatientResourceService } from '../config/patient-source/service/patient-resource.service';\r\nimport { ContactPerson } from '../model/contact-person.model';\r\nimport { ISearchResult } from '../../../interfaces/isearch.result';\r\n\r\n@Component({\r\n    selector: 'app-customer-form',\r\n    templateUrl: './customer-form.component.html',\r\n    providers: [CustomerService, NationalService, NumberValidator, DateTimeValidator,\r\n        JobService, PatientResourceService]\r\n})\r\n\r\nexport class CustomerFormComponent extends BaseFormComponent implements OnInit {\r\n    @ViewChild('customerModal') customerModal: NhModalComponent;\r\n    @Input() elementId: string;\r\n    @Output() onEditorKeyup = new EventEmitter<any>();\r\n    @Output() onCloseForm = new EventEmitter<any>();\r\n    customer = new Customer();\r\n    modelTranslation = new CustomerTranslation();\r\n    listPatientResource = [];\r\n    listJob = [];\r\n    listNational = [];\r\n    listProvince = [];\r\n    listDistrict = [];\r\n    listEthnic = [];\r\n    listReligion = [];\r\n    listContactPerson = [];\r\n    listRelationshipTypes = [];\r\n    enableSelectProvince = false;\r\n    enableSelectDistrict = false;\r\n    gender = Gender;\r\n    listPatientContact: PatientContact[] = [];\r\n    customerId;\r\n    contactType = ContactType;\r\n    urlSearchJobForSelect;\r\n    urlJob;\r\n    patientSourceUrl;\r\n    tabNo = 0;\r\n\r\n    constructor(@Inject(PAGE_ID) pageId: IPageId,\r\n                @Inject(APP_CONFIG) appConfig: IAppConfig,\r\n                private fb: FormBuilder,\r\n                private toastr: ToastrService,\r\n                private spinnerService: SpinnerService,\r\n                private customerService: CustomerService,\r\n                private datetimeValidator: DateTimeValidator,\r\n                private numberValidator: NumberValidator,\r\n                private nationalService: NationalService,\r\n                private jobService: JobService,\r\n                private patientResourceService: PatientResourceService,\r\n                private utilService: UtilService) {\r\n        super();\r\n        this.urlJob = `${appConfig.PATIENT_API_URL}jobs/`;\r\n        this.patientSourceUrl = `${appConfig.PATIENT_API_URL}patientSources/`;\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.renderForm();\r\n    }\r\n\r\n    onModalShow() {\r\n        this.nationalService.getAll().subscribe((result: any) => {\r\n            this.listNational = result.listNationals.items;\r\n            this.listEthnic = result.listEthnics.items;\r\n            this.listReligion = result.listReligions.items;\r\n        });\r\n        this.getListJob();\r\n        this.getListPatientSource();\r\n        this.isModified = false;\r\n    }\r\n\r\n    onModalHidden() {\r\n        this.isUpdate = false;\r\n        this.resetForm();\r\n        if (this.isModified) {\r\n            this.saveSuccessful.emit();\r\n        }\r\n    }\r\n\r\n    add() {\r\n        this.resetForm();\r\n        this.insertPatientContactDefault(this.contactType.mobilePhone);\r\n        this.insertPatientContactDefault(this.contactType.email);\r\n        this.insertDefaultContactPerson();\r\n        this.customerModal.open();\r\n    }\r\n\r\n    edit(id: string) {\r\n        this.isUpdate = true;\r\n        this.id = id;\r\n        this.getDetail(id);\r\n        this.insertPatientContactDefault(this.contactType.mobilePhone);\r\n        this.insertPatientContactDefault(this.contactType.email);\r\n        // this.insertDefaultContactPerson();\r\n        this.customerModal.open();\r\n    }\r\n\r\n    save() {\r\n        const isValid = this.utilService.onValueChanged(\r\n            this.model,\r\n            this.formErrors,\r\n            this.validationMessages,\r\n            true\r\n        );\r\n        const isLanguageValid = this.checkLanguageValid();\r\n        if (isValid && isLanguageValid) {\r\n            this.customer = this.model.value;\r\n            this.customer.patientContact = _.filter(this.listPatientContact, (item: PatientContact) => {\r\n                return item.contactValue !== '' && item.contactValue !== undefined;\r\n            });\r\n            this.customer.contactPersons = _.filter(this.listContactPerson, (contactPerson: ContactPerson) => {\r\n                return contactPerson.fullName && contactPerson.phoneNumber;\r\n            });\r\n            this.isSaving = true;\r\n            if (this.isUpdate) {\r\n                this.customerService\r\n                    .update(this.id, this.customer)\r\n                    .pipe(finalize(() => (this.isSaving = false)))\r\n                    .subscribe(() => {\r\n                        this.isModified = true;\r\n                        this.customerModal.dismiss();\r\n                    });\r\n            } else {\r\n                this.customerService\r\n                    .insert(this.customer)\r\n                    .pipe(finalize(() => (this.isSaving = false)))\r\n                    .subscribe(() => {\r\n                        this.isModified = true;\r\n                        if (this.isCreateAnother) {\r\n                            this.resetForm();\r\n                        } else {\r\n                            this.customerModal.dismiss();\r\n                        }\r\n                    });\r\n            }\r\n        }\r\n    }\r\n\r\n    onSelectNational(national) {\r\n        this.enableSelectProvince = true;\r\n        if (national) {\r\n            this.getProvinceByNationalId(national.id);\r\n        }\r\n    }\r\n\r\n    closeModal() {\r\n        this.customerModal.dismiss();\r\n    }\r\n\r\n    onSelectEmployee(value) {\r\n        if (value) {\r\n        }\r\n    }\r\n\r\n    insertJob(value) {\r\n        if (value) {\r\n            const job = new Job();\r\n            job.isActive = true;\r\n            job.modelTranslations.push({\r\n                jobId: 0,\r\n                languageId: this.currentLanguage,\r\n                name: value,\r\n                description: '',\r\n            });\r\n            this.jobService.insert(job).subscribe((result: any) => {\r\n                if (result) {\r\n                    this.model.patchValue({jobId: result.data});\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    insertPatientResource(value) {\r\n        if (value) {\r\n            const patientResource = new PatientResource();\r\n            patientResource.isActive = true;\r\n            patientResource.modelTranslations.push({\r\n                patientResourceId: '',\r\n                languageId: this.currentLanguage,\r\n                name: value,\r\n                description: '',\r\n            });\r\n            this.patientResourceService.insert(patientResource).subscribe((result: IActionResultResponse) => {\r\n                if (result) {\r\n                    this.model.patchValue({patientSourceId: result.data});\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    changeTabView(tabNo: number) {\r\n        this.tabNo = tabNo;\r\n    }\r\n\r\n    private getDetail(id: string) {\r\n        this.subscribers.customerService = this.customerService\r\n            .getDetail(id)\r\n            .subscribe((result: IActionResultResponse<CustomerDetailViewModel>) => {\r\n                    const customerDetail = result.data;\r\n                    if (customerDetail) {\r\n                        this.model.patchValue(customerDetail);\r\n                        this.model.patchValue({address: customerDetail.address});\r\n                        this.listContactPerson = customerDetail.contactPatients;\r\n                        this.listPatientContact = customerDetail.patientContacts;\r\n                        this.id = customerDetail.id;\r\n                        if (customerDetail.nationalId) {\r\n                            this.getProvinceByNationalId(customerDetail.nationalId);\r\n                        }\r\n\r\n                        if (customerDetail.provinceId) {\r\n                            this.getDistrictByProvinceId(customerDetail.provinceId);\r\n                        }\r\n                        this.insertPatientContactDefault(this.contactType.mobilePhone);\r\n                        this.insertPatientContactDefault(this.contactType.email);\r\n                        this.insertDefaultContactPerson();\r\n                    }\r\n                }\r\n            );\r\n    }\r\n\r\n    selectPatientContact(value) {\r\n        if (value) {\r\n            this.listPatientContact = value;\r\n        }\r\n    }\r\n\r\n    private insertPatientContactDefault(contactType: number) {\r\n        const listPatientContact = _.filter(this.listPatientContact, (item: UserContact) => {\r\n            return item.contactType === contactType;\r\n        });\r\n        if (!listPatientContact || listPatientContact.length === 0) {\r\n            const item = new PatientContact();\r\n            item.contactType = contactType;\r\n            item.contactValue = '';\r\n            this.listPatientContact.push(item);\r\n        }\r\n    }\r\n\r\n    private getProvinceByNationalId(nationalId: number) {\r\n        this.enableSelectProvince = true;\r\n        this.nationalService.getProvinceByNational(nationalId).subscribe((result: ISearchResult<any>) => {\r\n            this.listProvince = result.items;\r\n        });\r\n    }\r\n\r\n    onProvinceSelect(province) {\r\n        this.enableSelectDistrict = true;\r\n        this.model.patchValue({provinceId: province.id});\r\n        this.getDistrictByProvinceId(province.id);\r\n    }\r\n\r\n    private getDistrictByProvinceId(provinceId: number) {\r\n        this.nationalService.getDistrictByProvinceId(provinceId).subscribe((result: ISearchResult<any>) => {\r\n            this.enableSelectDistrict = true;\r\n            this.listDistrict = result.items;\r\n        });\r\n    }\r\n\r\n    private getListJob() {\r\n        this.jobService.searchForSelect('', 1, 20).subscribe(result => {\r\n            this.listJob = result;\r\n        });\r\n    }\r\n\r\n    private getListPatientSource() {\r\n        this.patientResourceService.searchForSelect('', 1, 20).subscribe(result => {\r\n            this.listPatientResource = result;\r\n        });\r\n    }\r\n\r\n    private renderForm() {\r\n        this.buildForm();\r\n        this.renderTranslationFormArray(this.buildFormLanguage);\r\n    }\r\n\r\n    private buildForm() {\r\n        this.formErrors = this.utilService.renderFormError(['fullName', 'customerCode', 'birthday',\r\n            'gender', 'ethnicId', 'religionId', 'provinceId', 'districtId',\r\n            'patientResourceId', 'idCardNumber', 'jobId', 'nationalId', 'address']);\r\n\r\n        this.validationMessages = {\r\n            'fullName': {\r\n                'required': 'Tên người dùng không được để trống',\r\n                'maxlength': 'Tên người dùng không được phép vượt quá 100 ký tự'\r\n            },\r\n            'birthday': {\r\n                'required': 'Vui lòng chọn ngày sinh.',\r\n                'isValid': 'Ngày sinh không hợp lệ. Vui lòng kiểm tra lại.'\r\n            },\r\n            'gender': {\r\n                'required': 'Vui lòng chọn giới tính',\r\n                'isValid': 'Giới tính không  hợp lệ. Vui lòng kiểm tra lại'\r\n            },\r\n            'ethnicId': {\r\n                'isValid': 'Dân tộc không hợp lệ. Vui lòng kiểm tra lại.'\r\n            },\r\n            'religionId': {\r\n                'isValid': 'Tôn giáo không hợp lệ. Vui lòng kiểm tra lại.'\r\n            },\r\n            'nationalId': {\r\n                'isValid': 'Quốc gia không hợp lệ. Vui lòng kiểm tra lại'\r\n            },\r\n            'provinceId': {\r\n                'isValid': 'Tỉnh/TP không hợp lệ. Vui lòng kiểm tra lại.'\r\n            },\r\n            'districtId': {\r\n                'isValid': 'Quận/Huyện không hợp lệ. Vui lòng kiểm tra lại'\r\n            },\r\n            'idCardNumber': {\r\n                'maxlength': 'Số CMND không được phép vượt quá 30 ký tự.',\r\n            },\r\n            'jobId': {\r\n                'isValid': 'Nghề nghiệp không hợp lệ. Vui lòng kiểm tra lại'\r\n            },\r\n            'patientResourceId': {},\r\n            'address': {\r\n                'maxLength': 'Địa chỉ không được  vượt quá 500 ký tự'\r\n            }\r\n        };\r\n\r\n        this.model = this.fb.group({\r\n            customerCode: [this.customer.customerCode],\r\n            fullName: [this.customer.fullName, [\r\n                Validators.required,\r\n                Validators.maxLength(50)\r\n            ]],\r\n            birthday: [this.customer.birthday, [\r\n                Validators.required,\r\n                this.datetimeValidator.isValid\r\n            ]],\r\n            gender: [this.customer.gender, [\r\n                Validators.required,\r\n                this.numberValidator.isValid\r\n            ]],\r\n            ethnicId: [this.customer.ethnicId,\r\n                [this.numberValidator.isValid]],\r\n            religionId: [this.customer.religionId, [\r\n                this.numberValidator.isValid\r\n            ]],\r\n            idCardNumber: [this.customer.idCardNumber, [\r\n                Validators.maxLength(30)\r\n            ]],\r\n            nationalId: [this.customer.nationalId, [\r\n                this.numberValidator.isValid\r\n            ]],\r\n            provinceId: [this.customer.provinceId, [\r\n                this.numberValidator.isValid\r\n            ]],\r\n            districtId: [this.customer.districtId, [\r\n                this.numberValidator.isValid\r\n            ]],\r\n            jobId: [this.customer.jobId, [\r\n                this.numberValidator.isValid\r\n            ]],\r\n            patientResourceId: [this.customer.patientResourceId],\r\n            address: [this.customer.address, [\r\n                Validators.maxLength(500)\r\n            ]],\r\n            concurrencyStamp: [this.customer.concurrencyStamp],\r\n            modelTranslations: this.fb.array([]),\r\n        });\r\n\r\n        this.model.valueChanges.subscribe(data => this.validateModel(false));\r\n    }\r\n\r\n    private buildFormLanguage = (language: string) => {\r\n        this.translationFormErrors[language] = this.utilService.renderFormError(['address']);\r\n        this.translationValidationMessage[language] = this.utilService.renderFormErrorMessage([\r\n            {'address': ['maxlength']},\r\n        ]);\r\n        const pageTranslationModel = this.fb.group({\r\n            languageId: [language],\r\n            address: [this.modelTranslation.address, [\r\n                Validators.maxLength(500)\r\n            ]],\r\n        });\r\n        pageTranslationModel.valueChanges.subscribe((data: any) => this.validateTranslationModel(false));\r\n        return pageTranslationModel;\r\n    }\r\n\r\n    private insertDefaultContactPerson() {\r\n        if (!this.listContactPerson || this.listContactPerson.length === 0) {\r\n            const person = new ContactPerson();\r\n            person.patientId = this.customerId;\r\n            this.listContactPerson.push(person);\r\n        }\r\n    }\r\n\r\n    private resetForm() {\r\n        this.model.reset();\r\n        this.model.patchValue({});\r\n        this.listContactPerson = [];\r\n        this.listPatientContact = [];\r\n        this.clearFormError(this.formErrors);\r\n        this.clearFormError(this.translationFormErrors);\r\n        this.insertPatientContactDefault(this.contactType.mobilePhone);\r\n        this.insertPatientContactDefault(this.contactType.email);\r\n        this.insertDefaultContactPerson();\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport {CustomerComponent} from './customer.component';\r\nimport {CustomerService} from './service/customer.service';\r\nimport {FeedbackComponent} from './feedback/feedback.component';\r\nimport {FeedbackService} from './feedback/feedback.service';\r\n\r\nconst routes: Routes = [\r\n    {\r\n        path: '',\r\n        component: CustomerComponent,\r\n        resolve: {\r\n            data: CustomerService\r\n        }\r\n    },\r\n    {\r\n        path: 'feedback',\r\n        component: FeedbackComponent,\r\n        resolve: {\r\n             data: FeedbackService\r\n        }\r\n    }\r\n]\r\n\r\n@NgModule({\r\n    imports: [RouterModule.forChild(routes)],\r\n    exports: [RouterModule],\r\n    providers: [CustomerService]\r\n})\r\nexport class CustomerRoutingModule {\r\n}\r\n","module.exports = \"<h1 class=\\\"page-title\\\">\\r\\n    <span class=\\\"cm-mgr-5\\\" i18n=\\\"@@listCustomerPageTitle\\\">List customer</span>\\r\\n    <small i18n=\\\"@@customerModuleTitle\\\">Customer management</small>\\r\\n</h1>\\r\\n<form class=\\\"form-inline cm-mgb-10\\\" (ngSubmit)=\\\"search(1)\\\">\\r\\n    <div class=\\\"form-group cm-mgr-5\\\">\\r\\n        <input type=\\\"text\\\" class=\\\"form-control\\\" i18n=\\\"@@keywordSearch\\\" i18n-placeholder\\r\\n               placeholder=\\\"Enter keyword for search please.\\\"\\r\\n               name=\\\"searchInput\\\" [(ngModel)]=\\\"keyword\\\">\\r\\n    </div>\\r\\n    <div class=\\\"form-group cm-mgr-5\\\">\\r\\n        <nh-date [(ngModel)]=\\\"createDate\\\"\\r\\n                 i18n=\\\"@@selectCreateDate\\\"\\r\\n                 i18n-placeholder\\r\\n                 [format]=\\\"'MM/DD/YYYY'\\\"\\r\\n                 [placeholder]=\\\"'Select to date'\\\"\\r\\n                 (removedDateEvent)=\\\"search(1)\\\"\\r\\n                 name=\\\"toDate\\\"></nh-date>\\r\\n    </div>\\r\\n    <div class=\\\"form-group\\\">\\r\\n        <button class=\\\"btn btn-primary\\\" type=\\\"submit\\\">\\r\\n            <i class=\\\"fa fa-search\\\" *ngIf=\\\"!isSearching\\\"></i>\\r\\n            <i class=\\\"fa fa-pulse fa-spinner\\\" *ngIf=\\\"isSearching\\\"></i>\\r\\n        </button>\\r\\n    </div>\\r\\n    <div class=\\\"form-group cm-mgl-5\\\">\\r\\n        <button class=\\\"btn btn-default\\\" type=\\\"button\\\" (click)=\\\"resetFormSearch()\\\">\\r\\n            <i class=\\\"fa fa-refresh\\\"></i>\\r\\n        </button>\\r\\n    </div>\\r\\n    <div class=\\\"form-group pull-right\\\">\\r\\n        <button class=\\\"btn btn-primary cm-mgr-5\\\" *ngIf=\\\"permission.add\\\" i18n=\\\"@@add\\\" (click)=\\\"add()\\\"\\r\\n                type=\\\"button\\\">\\r\\n            Add\\r\\n        </button>\\r\\n    </div>\\r\\n</form>\\r\\n<div class=\\\"table-responsive\\\">\\r\\n    <table class=\\\"table table-striped table-hover\\\">\\r\\n        <thead>\\r\\n        <tr>\\r\\n            <th class=\\\"middle center w50\\\" i18n=\\\"@@no\\\">No</th>\\r\\n            <th class=\\\"middle w150\\\" i18n=\\\"@@patientCode\\\">Patient Code</th>\\r\\n            <th class=\\\"middle w200\\\" i18n=\\\"@@fullName\\\">Full Name</th>\\r\\n            <!--<th class=\\\"middle center w200\\\" i18n=\\\"@@phoneNumber\\\">Phone Number</th>-->\\r\\n            <th class=\\\"middle\\\" i18n=\\\"@@address\\\">Address</th>\\r\\n            <th class=\\\"middle text-right w150\\\" i18n=\\\"@@action\\\">Action</th>\\r\\n        </tr>\\r\\n        </thead>\\r\\n        <tbody>\\r\\n        <tr *ngFor=\\\"let customer of listItems$ | async; let i = index\\\">\\r\\n            <td class=\\\"center middle\\\">{{ (currentPage - 1) * pageSize + i + 1 }}</td>\\r\\n            <td class=\\\"middle\\\">{{customer.patientCode}}</td>\\r\\n            <td class=\\\"middle\\\">{{ customer.fullName }}</td>\\r\\n            <!--<td class=\\\"middle right\\\">{{customer.phoneNumber }}</td>-->\\r\\n            <td class=\\\"middle\\\">{{customer.address}}</td>\\r\\n            <td class=\\\"text-right middle\\\">\\r\\n                <ghm-button\\r\\n                    *ngIf=\\\"permission.view\\\"\\r\\n                    icon=\\\"fa fa-eye\\\" classes=\\\"btn btn-default btn-sm\\\"\\r\\n                    (clicked)=\\\"detail(customer.id)\\\"></ghm-button>\\r\\n                <ghm-button\\r\\n                    *ngIf=\\\"permission.edit\\\"\\r\\n                    icon=\\\"fa fa-edit\\\" classes=\\\"btn btn-primary btn-sm\\\"\\r\\n                    (clicked)=\\\"edit(customer.id)\\\"></ghm-button>\\r\\n                <ghm-button\\r\\n                    *ngIf=\\\"permission.delete\\\"\\r\\n                    icon=\\\"fa fa-trash-o\\\" classes=\\\"btn btn-danger btn-sm\\\"\\r\\n                    [swal]=\\\"confirmDeleteCustomer\\\"\\r\\n                    (confirm)=\\\"delete(customer.id)\\\"></ghm-button>\\r\\n            </td>\\r\\n        </tr>\\r\\n        </tbody>\\r\\n    </table>\\r\\n</div>\\r\\n<ghm-paging [totalRows]=\\\"totalRows\\\" [currentPage]=\\\"currentPage\\\" [pageShow]=\\\"6\\\" (pageClick)=\\\"search($event)\\\"\\r\\n            [isDisabled]=\\\"isSearching\\\" i18n=\\\"@@customer\\\" i18n-pageName [pageName]=\\\"'Customer'\\\"></ghm-paging>\\r\\n\\r\\n<app-customer-form (saveSuccessful)=\\\"search(1)\\\" (onCloseForm)=\\\"search(1)\\\"></app-customer-form>\\r\\n<app-customer-detail (onCloseForm)=\\\"search(1)\\\"></app-customer-detail>\\r\\n<swal\\r\\n    #confirmDeleteCustomer\\r\\n    i18n=\\\"@@confirmDeleteCustomer\\\"\\r\\n    i18n-title\\r\\n    i18n-text\\r\\n    title=\\\"Are you sure for delete this customer?\\\"\\r\\n    text=\\\"You can't recover this customer after delete.\\\"\\r\\n    type=\\\"question\\\"\\r\\n    [showCancelButton]=\\\"true\\\"\\r\\n    [focusCancel]=\\\"true\\\">\\r\\n</swal>\\r\\n\\r\\n\\r\\n\\r\\n\"","import {Component, OnInit, Inject, AfterContentInit, ViewChild, AfterViewInit} from '@angular/core';\r\nimport {Location, LocationStrategy, PathLocationStrategy} from '@angular/common';\r\nimport {Router, ActivatedRoute} from '@angular/router';\r\nimport {finalize, map} from 'rxjs/operators';\r\nimport {ToastrService} from 'ngx-toastr';\r\nimport {BaseListComponent} from '../../base-list.component';\r\nimport {HelperService} from '../../shareds/services/helper.service';\r\nimport * as moment from 'moment';\r\nimport {IPageId, PAGE_ID} from '../../configs/page-id.config';\r\nimport {UtilService} from '../../shareds/services/util.service';\r\nimport {CustomerSearchViewModel} from './model/customer-search.viewmodel';\r\nimport {ISearchResult} from '../../interfaces/isearch.result';\r\nimport {CustomerService} from './service/customer.service';\r\nimport {FilterLink} from '../../shareds/models/filter-link.model';\r\nimport {CustomerFormComponent} from './customer-form/customer-form.component';\r\nimport {CustomerDetailComponent} from './customer-detail/customer-detail.component';\r\nimport {APP_CONFIG, IAppConfig} from '../../configs/app.config';\r\n\r\n@Component({\r\n    selector: 'app-customer',\r\n    templateUrl: './customer.component.html',\r\n    providers: [\r\n        Location, {provide: LocationStrategy, useClass: PathLocationStrategy},\r\n        HelperService, CustomerService\r\n    ]\r\n})\r\n\r\nexport class CustomerComponent extends BaseListComponent<CustomerSearchViewModel> implements OnInit {\r\n    @ViewChild(CustomerFormComponent) customerForm: CustomerFormComponent;\r\n    @ViewChild(CustomerDetailComponent) customerDetail: CustomerDetailComponent;\r\n    createDate;\r\n\r\n    constructor(@Inject(PAGE_ID) public pageId: IPageId,\r\n                @Inject(APP_CONFIG) public appConfig: IAppConfig,\r\n                private location: Location,\r\n                private route: ActivatedRoute,\r\n                private router: Router,\r\n                private toastr: ToastrService,\r\n                private customerService: CustomerService,\r\n                private helperService: HelperService,\r\n                private utilService: UtilService) {\r\n        super();\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.appService.setupPage(this.pageId.PATIENT, this.pageId.LIST_PATIENT,\r\n            'Quản lý khách hàng', 'Danh sách khách hàng');\r\n\r\n        this.listItems$ = this.route.data.pipe(map((result: { data: ISearchResult<CustomerSearchViewModel> }) => {\r\n            const data = result.data;\r\n            this.totalRows = data.totalRows;\r\n            return data.items;\r\n        }));\r\n\r\n        this.subscribers.queryParams = this.route.queryParams.subscribe(params => {\r\n            this.keyword = params.keyword ? params.keyword : '';\r\n            this.currentPage = params.page ? parseInt(params.page) : 1;\r\n            this.pageSize = params.pageSize ? parseInt(params.pageSize) : this.appConfig.PAGE_SIZE;\r\n        });\r\n    }\r\n\r\n    search(currentPage) {\r\n        this.currentPage = currentPage;\r\n        this.isSearching = true;\r\n        this.renderFilterLink();\r\n        this.listItems$ = this.customerService.search(this.keyword, this.createDate, 1, this.pageSize)\r\n            .pipe(finalize(() => {\r\n                    this.isSearching = false;\r\n                }),\r\n                map((data: ISearchResult<CustomerSearchViewModel>) => {\r\n                    this.totalRows = data.totalRows;\r\n                    return data.items;\r\n                }));\r\n    }\r\n\r\n    resetFormSearch() {\r\n        this.keyword = '';\r\n        this.createDate = moment().format('DD/MM/YYYY');\r\n        this.search(1);\r\n    }\r\n\r\n    add() {\r\n        this.customerForm.add();\r\n    }\r\n\r\n    edit(id: string) {\r\n        this.customerForm.edit(id);\r\n    }\r\n\r\n    detail(id: string) {\r\n        this.customerDetail.getDetail(id);\r\n    }\r\n\r\n    delete(id: string) {\r\n        this.customerService.delete(id)\r\n            .subscribe(() => {\r\n                this.search(this.currentPage);\r\n                return;\r\n            });\r\n    }\r\n\r\n    private renderFilterLink() {\r\n        const path = 'customers';\r\n        const query = this.utilService.renderLocationFilter([\r\n            new FilterLink('keyword', this.keyword),\r\n            new FilterLink('page', this.currentPage),\r\n            new FilterLink('pageSize', this.pageSize)\r\n        ]);\r\n        this.location.go(path, query);\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { NhSelectModule } from '../../shareds/components/nh-select/nh-select.module';\r\nimport { CommonModule } from '@angular/common';\r\nimport {\r\n    MatButtonModule, MatCheckboxModule, MatPaginatorModule, MatSlideToggleModule,\r\n    MatTooltipModule\r\n} from '@angular/material';\r\nimport { NhModalModule } from '../../shareds/components/nh-modal/nh-modal.module';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { GhmPagingModule } from '../../shareds/components/ghm-paging/ghm-paging.module';\r\nimport { SweetAlert2Module } from '@toverux/ngx-sweetalert2';\r\nimport { NHTreeModule } from '../../shareds/components/nh-tree/nh-tree.module';\r\nimport { NhImageModule } from '../../shareds/components/nh-image/nh-image.module';\r\nimport { GhmSelectPickerModule } from '../../shareds/components/ghm-select-picker/ghm-select-picker.module';\r\nimport { CoreModule } from '../../core/core.module';\r\nimport { LayoutModule } from '../../shareds/layouts/layout.module';\r\nimport { CustomerComponent } from './customer.component';\r\nimport { CustomerRoutingModule } from './customer-routing.module';\r\nimport { NhDateModule } from '../../shareds/components/nh-datetime-picker/nh-date.module';\r\nimport { CustomerFormComponent } from './customer-form/customer-form.component';\r\nimport { ContactPersonComponent } from './contact-person/contact-person.component';\r\nimport { CustomerContactComponent } from './customer-contact/customer-contact.component';\r\nimport { GhmUserSuggestionModule } from '../../shareds/components/ghm-user-suggestion/ghm-user-suggestion.module';\r\nimport { CustomerDetailComponent } from './customer-detail/customer-detail.component';\r\nimport { DatetimeFormatModule } from '../../shareds/pipe/datetime-format/datetime-format.module';\r\nimport { TreeTableModule } from 'primeng/primeng';\r\nimport {FeedbackDetailComponent} from './feedback/feedback-detail/feedback-detail.component';\r\nimport {FeedbackComponent} from './feedback/feedback.component';\r\nimport {FeedbackService} from './feedback/feedback.service';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule, LayoutModule, CustomerRoutingModule, NhSelectModule, NhImageModule, DatetimeFormatModule,\r\n        MatCheckboxModule, NhDateModule, TreeTableModule,\r\n        NhModalModule, ReactiveFormsModule, FormsModule, MatTooltipModule, NHTreeModule, GhmUserSuggestionModule,\r\n        GhmSelectPickerModule, CoreModule, GhmPagingModule, SweetAlert2Module.forRoot({\r\n            buttonsStyling: false,\r\n            customClass: 'modal-content',\r\n            confirmButtonClass: 'btn btn-primary',\r\n            cancelButtonClass: 'btn',\r\n            confirmButtonText: 'Đồng ý',\r\n            showCancelButton: true,\r\n            cancelButtonText: 'Hủy bỏ'\r\n        })\r\n    ],\r\n    exports: [CustomerComponent],\r\n    declarations: [CustomerComponent, CustomerFormComponent,\r\n        ContactPersonComponent, CustomerContactComponent, CustomerDetailComponent,\r\n        FeedbackDetailComponent, FeedbackComponent\r\n    ],\r\n    providers: [FeedbackService],\r\n})\r\nexport class CustomerModule {\r\n}\r\n","module.exports = \"<nh-modal #feedbackDetailModal size=\\\"lg\\\">\\r\\n    <nh-modal-header class=\\\"uppercase\\\">\\r\\n        <ng-container i18n=\\\"@@feedbackDetail\\\">Feedback Detail</ng-container>\\r\\n    </nh-modal-header>\\r\\n    <nh-modal-content>\\r\\n        <div class=\\\"form-horizontal\\\" *ngIf=\\\"feedbackDetail\\\">\\r\\n            <div class=\\\"form-group\\\">\\r\\n                <div class=\\\"col-sm-3 control-label\\\" i18n=\\\"@@customerName\\\"><span></span>Customer Name</div>\\r\\n                <div class=\\\"col-sm-9\\\">\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                        {{feedbackDetail.fullName}}\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"form-group\\\">\\r\\n                <div class=\\\"col-sm-3 control-label\\\" i18n=\\\"@@phoneNumber\\\"><span></span>Phone number</div>\\r\\n                <div class=\\\"col-sm-9\\\">\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                        {{feedbackDetail.phoneNumber}}\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"form-group\\\">\\r\\n                <div class=\\\"col-sm-3 control-label\\\" i18n=\\\"@@email\\\"><span></span>Email</div>\\r\\n                <div class=\\\"col-sm-9\\\">\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                        {{feedbackDetail.email}}\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"form-group\\\">\\r\\n                <div class=\\\"col-sm-3 control-label\\\" i18n=\\\"@@sendDate\\\">Send date</div>\\r\\n                <div class=\\\"col-sm-9\\\">\\r\\n                    <div class=\\\"form-control\\\">\\r\\n                        {{feedbackDetail.createTime|dateTimeFormat:\\\"DD/MM/YYYY hh:mm\\\"}}\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"form-group\\\">\\r\\n                <div class=\\\"col-sm-3 control-label\\\" i18n=\\\"@@content\\\">Content</div>\\r\\n                <div class=\\\"col-sm-9\\\">\\r\\n                    <div class=\\\"form-control height-auto\\\">\\r\\n                        {{feedbackDetail.content}}\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </nh-modal-content>\\r\\n    <nh-modal-footer>\\r\\n        <div class=\\\"form-group pull-right\\\">\\r\\n            <button class=\\\"btn default\\\" type=\\\"button\\\" (click)=\\\"closeModal()\\\" i18n=\\\"@@close\\\">\\r\\n                <i class=\\\"fa fa-times\\\"></i>\\r\\n                Close\\r\\n            </button>\\r\\n        </div>\\r\\n    </nh-modal-footer>\\r\\n</nh-modal>\\r\\n\"","import {Component, ViewChild} from '@angular/core';\r\nimport {FeedbackService} from '../feedback.service';\r\nimport {FeedbackDetailViewModel} from '../viewmodel/feedback-detail.viewmodel';\r\nimport {NhModalComponent} from '../../../../shareds/components/nh-modal/nh-modal.component';\r\nimport {ActionResultViewModel} from '../../../../shareds/view-models/action-result.viewmodel';\r\n\r\n@Component({\r\n    selector: 'app-customer-feedback-detail',\r\n    templateUrl: './feedback-detail.component.html'\r\n})\r\nexport class FeedbackDetailComponent {\r\n    @ViewChild('feedbackDetailModal') feedbackDetailModal: NhModalComponent;\r\n    feedbackDetail: FeedbackDetailViewModel;\r\n\r\n    constructor(private feedbackService: FeedbackService) {\r\n    }\r\n\r\n    getDetail(id: string) {\r\n        this.feedbackService\r\n            .getDetail(id)\r\n            .subscribe((result: ActionResultViewModel<FeedbackDetailViewModel>) => {\r\n                    if (result.data) {\r\n                        this.feedbackDetail = result.data;\r\n                    }\r\n                    this.feedbackDetailModal.open();\r\n                }\r\n            );\r\n    }\r\n\r\n    closeModal() {\r\n        this.feedbackDetailModal.dismiss();\r\n    }\r\n}\r\n","module.exports = \"<h1 class=\\\"page-title\\\">\\r\\n    <span class=\\\"cm-mgr-5\\\" i18n=\\\"@@listFeedbackCustomerPageTitle\\\">Feedback</span>\\r\\n    <small i18n=\\\"@@customerModuleTitle\\\">Customer management</small>\\r\\n</h1>\\r\\n\\r\\n<form class=\\\"form-inline\\\" (ngSubmit)=\\\"search(1)\\\">\\r\\n    <div class=\\\"form-group cm-mgr-5\\\">\\r\\n        <input type=\\\"text\\\" class=\\\"form-control\\\" i18n=\\\"@@keywordSearch\\\" i18n-placeholder\\r\\n               placeholder=\\\"Enter keyword for search please.\\\"\\r\\n               name=\\\"searchInput\\\" [(ngModel)]=\\\"keyword\\\">\\r\\n    </div>\\r\\n    <div class=\\\"form-group cm-mgr-5\\\">\\r\\n        <nh-date [(ngModel)]=\\\"fromDate\\\"\\r\\n                 i18n-placeholder=\\\"@@selectFromDate\\\"\\r\\n                 [format]=\\\"'DD/MM/YYYY'\\\"\\r\\n                 [placeholder]=\\\"'Select from date'\\\"\\r\\n                 (removedDateEvent)=\\\"search(1)\\\"\\r\\n                 name=\\\"formDate\\\"></nh-date>\\r\\n    </div>\\r\\n    <div class=\\\"form-group cm-mgr-5\\\">\\r\\n        <nh-date [(ngModel)]=\\\"toDate\\\"\\r\\n                 i18n-placeholder=\\\"@@selectToDate\\\"\\r\\n                 [format]=\\\"'DD/MM/YYYY'\\\"\\r\\n                 [placeholder]=\\\"'Select from date'\\\"\\r\\n                 (removedDateEvent)=\\\"search(1)\\\"\\r\\n                 name=\\\"toDate\\\"></nh-date>\\r\\n    </div>\\r\\n    <div class=\\\"form-group\\\">\\r\\n        <nh-select [data]=\\\"[{id: true, name: 'Đã giải quyết'}, {id: false, name: 'Chưa giải quyết'}]\\\"\\r\\n                   [title]=\\\"'-- Tất cả --'\\\" [(value)]=\\\"isResolve\\\"></nh-select>\\r\\n    </div>\\r\\n    <div class=\\\"form-group\\\">\\r\\n        <button class=\\\"btn blue\\\" type=\\\"submit\\\">\\r\\n            <i class=\\\"fa fa-search\\\" *ngIf=\\\"!isSearching\\\"></i>\\r\\n            <i class=\\\"fa fa-pulse fa-spinner\\\" *ngIf=\\\"isSearching\\\"></i>\\r\\n        </button>\\r\\n    </div>\\r\\n    <div class=\\\"form-group cm-mgl-5\\\">\\r\\n        <button class=\\\"btn default\\\" type=\\\"button\\\" (click)=\\\"resetFormSearch()\\\">\\r\\n            <i class=\\\"fa fa-refresh\\\"></i>\\r\\n        </button>\\r\\n    </div>\\r\\n</form>\\r\\n\\r\\n<div class=\\\"\\\">\\r\\n    <table class=\\\"table table-striped table-hover\\\">\\r\\n        <thead>\\r\\n        <tr>\\r\\n            <th class=\\\"middle center w50\\\" i18n=\\\"@@no\\\">No</th>\\r\\n            <th class=\\\"middle\\\" i18n=\\\"@@customerName\\\">Customer Name</th>\\r\\n            <th class=\\\"middle\\\" i18n=\\\"@@phoneNumber\\\">Phone Number</th>\\r\\n            <th class=\\\"middle\\\" i18n=\\\"@@email\\\">Email</th>\\r\\n            <th class=\\\"middle w150\\\" i18n=\\\"@@dateSend\\\">Send date</th>\\r\\n            <!--<th class=\\\"middle center w50\\\" i18n=\\\"@@isResolve\\\">Is Resolve?</th>-->\\r\\n            <th class=\\\"middle center w50\\\" *ngIf=\\\"permission.view || permission.edit\\\">Sửa, Xóa</th>\\r\\n        </tr>\\r\\n        </thead>\\r\\n        <tbody>\\r\\n        <tr *ngFor=\\\"let item of listFeedback; let i = index\\\">\\r\\n            <td class=\\\" middle center\\\">{{(currentPage - 1) * pageSize + i + 1}}</td>\\r\\n            <td class=\\\"middle\\\">\\r\\n                <a href=\\\"javascript://\\\" (click)=\\\"detail(item)\\\">{{item.fullName}}</a>\\r\\n            </td>\\r\\n            <td class=\\\"middle\\\">\\r\\n                {{item.phoneNumber}}\\r\\n            </td>\\r\\n            <td class=\\\"middle\\\">{{item.email}}</td>\\r\\n            <td class=\\\"middle\\\">\\r\\n                {{item.createTime|dateTimeFormat:\\\"DD/MM/YYYY hh:mm\\\"}}\\r\\n            </td>\\r\\n            <!--<td class=\\\"middle center\\\">-->\\r\\n                <!--<mat-checkbox color=\\\"primary\\\" [checked]=\\\"item.isResolve\\\"-->\\r\\n                              <!--(change)=\\\"updateResolve(item)\\\"></mat-checkbox>-->\\r\\n            <!--</td>-->\\r\\n            <td class=\\\"middle center\\\">\\r\\n                <ghm-button\\r\\n                    *ngIf=\\\"permission.view\\\"\\r\\n                    icon=\\\"fa fa-eye\\\" classes=\\\"btn default btn-sm\\\"\\r\\n                    (clicked)=\\\"detail(item)\\\"></ghm-button>\\r\\n            </td>\\r\\n        </tr>\\r\\n        </tbody>\\r\\n    </table>\\r\\n</div>\\r\\n<ghm-paging [totalRows]=\\\"totalRows\\\" [currentPage]=\\\"currentPage\\\" [pageShow]=\\\"6\\\" (pageClick)=\\\"search($event)\\\"\\r\\n            [isDisabled]=\\\"isSearching\\\" i18n=\\\"@@customer\\\" i18n-pageName [pageName]=\\\"'Customer'\\\"></ghm-paging>\\r\\n\\r\\n\\r\\n<app-customer-feedback-detail></app-customer-feedback-detail>\\r\\n\"","import {AfterViewInit, ChangeDetectorRef, Component, HostListener, Inject, OnInit, ViewChild} from '@angular/core';\r\nimport {BaseListComponent} from '../../../base-list.component';\r\nimport {FeedbackSearchViewModel} from './viewmodel/feedback-search.viewmodel';\r\nimport {FeedbackService} from './feedback.service';\r\nimport {ISearchResult} from '../../../interfaces/isearch.result';\r\nimport {map} from 'rxjs/operators';\r\nimport {finalize} from 'rxjs/internal/operators';\r\nimport {IPageId, PAGE_ID} from '../../../configs/page-id.config';\r\nimport {APP_CONFIG, IAppConfig} from '../../../configs/app.config';\r\nimport {Location, LocationStrategy, PathLocationStrategy} from '@angular/common';\r\nimport {UtilService} from '../../../shareds/services/util.service';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\nimport {ToastrService} from 'ngx-toastr';\r\nimport {HelperService} from '../../../shareds/services/helper.service';\r\nimport {FeedbackDetailComponent} from './feedback-detail/feedback-detail.component';\r\nimport {FilterLink} from '../../../shareds/models/filter-link.model';\r\nimport {SearchResultViewModel} from '../../../shareds/view-models/search-result.viewmodel';\r\n\r\n@Component({\r\n    selector: 'app-customer-feedback',\r\n    templateUrl: './feedback.component.html',\r\n    providers: [ Location, {provide: LocationStrategy, useClass: PathLocationStrategy},\r\n        HelperService, FeedbackService]\r\n})\r\n\r\nexport class FeedbackComponent extends BaseListComponent<FeedbackSearchViewModel> implements OnInit, AfterViewInit {\r\n    @ViewChild(FeedbackDetailComponent) feedbackDetailComponent: FeedbackDetailComponent;\r\n    fromDate;\r\n    toDate;\r\n    isResolve;\r\n    height;\r\n    listFeedback: FeedbackSearchViewModel[];\r\n\r\n    constructor(@Inject(PAGE_ID) public pageId: IPageId,\r\n                @Inject(APP_CONFIG) public appConfig: IAppConfig,\r\n                private location: Location,\r\n                private route: ActivatedRoute,\r\n                private router: Router,\r\n                private cdr: ChangeDetectorRef,\r\n                private helperService: HelperService,\r\n                private utilService: UtilService,\r\n                private feedbackService: FeedbackService) {\r\n        super();\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.appService.setupPage(this.pageId.PATIENT, this.pageId.FEEDBACK,\r\n            'Quản lý khách hàng', 'Thông tin phản hồi');\r\n\r\n        this.subscribers.data = this.route.data.subscribe((result: { data: SearchResultViewModel<FeedbackSearchViewModel> }) => {\r\n            this.listFeedback = result.data.items;\r\n            this.totalRows = result.data.totalRows;\r\n        });\r\n\r\n        this.subscribers.queryParams = this.route.queryParams.subscribe(params => {\r\n            this.keyword = params.keyword ? params.keyword : '';\r\n            this.fromDate = params.fromDatre ? params.fromDate : '';\r\n            this.toDate = params.toDate ? params.toDate : '';\r\n            this.isResolve = params.isResolve ? Boolean(params.isResolve) : '';\r\n            this.currentPage = params.page ? parseInt(params.page) : 1;\r\n            this.pageSize = params.pageSize ? parseInt(params.pageSize) : this.appConfig.PAGE_SIZE;\r\n        });\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        this.height = window.innerHeight - 270;\r\n        this.cdr.detectChanges();\r\n    }\r\n\r\n    @HostListener('window:resize', ['$event'])\r\n    onResize(event) {\r\n        this.height = window.innerHeight - 270;\r\n    }\r\n\r\n    search(currentPage) {\r\n        this.currentPage = currentPage;\r\n        this.isSearching = true;\r\n        this.renderLink();\r\n        this.feedbackService.search(this.keyword, this.fromDate, this.toDate, this.isResolve, this.currentPage, this.pageSize)\r\n            .pipe(finalize(() => this.isSearching = false))\r\n            .subscribe((data: ISearchResult<FeedbackSearchViewModel>) => {\r\n                this.listFeedback = data.items;\r\n                this.totalRows = data.totalRows;\r\n            });\r\n    }\r\n\r\n    resetFormSearch() {\r\n        this.isResolve = '';\r\n        this.fromDate = '';\r\n        this.toDate = '';\r\n        this.isResolve = '';\r\n    }\r\n\r\n    updateResolve(feedback: FeedbackSearchViewModel) {\r\n        this.feedbackService.updateResolve(feedback.id, feedback.isResolve);\r\n    }\r\n\r\n    detail(feedback: FeedbackSearchViewModel) {\r\n        this.feedbackDetailComponent.getDetail(feedback.id);\r\n    }\r\n\r\n    private renderLink() {\r\n        const path = '/customers/feedback';\r\n        const query = this.utilService.renderLocationFilter([\r\n            new FilterLink('keyword', this.keyword),\r\n            new FilterLink('fromDate', this.fromDate),\r\n            new FilterLink('toDate', this.toDate),\r\n            new FilterLink('isResolve', this.isResolve),\r\n            new FilterLink('page', this.currentPage),\r\n            new FilterLink('pageSize', this.pageSize)\r\n        ]);\r\n        this.location.go(path, query);\r\n    }\r\n}\r\n","import {FeedbackSearchViewModel} from './viewmodel/feedback-search.viewmodel';\r\nimport {SpinnerService} from '../../../core/spinner/spinner.service';\r\nimport {map} from 'rxjs/operators';\r\nimport {HttpClient, HttpParams} from '@angular/common/http';\r\nimport {ActionResultViewModel} from '../../../shareds/view-models/action-result.viewmodel';\r\nimport {finalize} from 'rxjs/internal/operators';\r\nimport {APP_CONFIG, IAppConfig} from '../../../configs/app.config';\r\nimport {Observable} from 'rxjs';\r\nimport {Inject} from '@angular/core';\r\nimport {ToastrService} from 'ngx-toastr';\r\nimport {ActivatedRouteSnapshot, Resolve} from '@angular/router';\r\nimport {FeedbackDetailViewModel} from './viewmodel/feedback-detail.viewmodel';\r\nimport {SearchResultViewModel} from '../../../shareds/view-models/search-result.viewmodel';\r\n\r\nexport class FeedbackService implements Resolve<FeedbackSearchViewModel> {\r\n    url = 'feedBacks/';\r\n\r\n    constructor(@Inject(APP_CONFIG) private appConfig: IAppConfig,\r\n                private spinnerService: SpinnerService,\r\n                private http: HttpClient,\r\n                private toastr: ToastrService) {\r\n        this.url = `${appConfig.WEBSITE_API_URL}${this.url}`;\r\n    }\r\n\r\n    resolve(route: ActivatedRouteSnapshot, state: Object): any {\r\n        const queryParams = route.queryParams;\r\n        return this.search(\r\n            queryParams.keyword,\r\n            queryParams.fromDate,\r\n            queryParams.toDate,\r\n            queryParams.isResolve,\r\n            queryParams.page,\r\n            queryParams.pageSize\r\n        );\r\n    }\r\n\r\n    search(keyword: string, fromDate?: Date, toDate?: Date, isResolve?: boolean, page: number = 1,\r\n           pageSize: number = this.appConfig.PAGE_SIZE): Observable<SearchResultViewModel<FeedbackSearchViewModel>> {\r\n        const params = new HttpParams()\r\n            .set('keyword', keyword ? keyword : '')\r\n            .set('startDate', fromDate ? fromDate.toString() : '')\r\n            .set('endDate', toDate ? toDate.toString() : '')\r\n            .set('isResolve', isResolve ? isResolve.toString() : '')\r\n            .set('page', page ? page.toString() : '1')\r\n            .set('pageSize', pageSize ? pageSize.toString() : this.appConfig.PAGE_SIZE.toString());\r\n\r\n        return this.http.get(`${this.url}`, {\r\n            params: params\r\n        }).pipe(map((result: SearchResultViewModel<FeedbackSearchViewModel>) => {\r\n            return result;\r\n        })) as Observable<SearchResultViewModel<FeedbackSearchViewModel>>;\r\n    }\r\n\r\n    getDetail(id: string): Observable<ActionResultViewModel<FeedbackDetailViewModel>> {\r\n        this.spinnerService.show();\r\n        return this.http.get(`${this.url}${id}`, {})\r\n            .pipe(finalize(() => this.spinnerService.hide())) as Observable<ActionResultViewModel<FeedbackDetailViewModel>>;\r\n    }\r\n\r\n    updateResolve(id: string, resolved: boolean): Observable<ActionResultViewModel> {\r\n        return this.http.post(`${this.url}${id}/resolve`, {})\r\n            .pipe(map((result: ActionResultViewModel) => {\r\n                this.toastr.success(result.message);\r\n                return result;\r\n            })) as Observable<ActionResultViewModel>;\r\n    }\r\n}\r\n","export class ContactPerson {\r\n    id: string;\r\n    patientId: string;\r\n    fullName: string;\r\n    phoneNumber: string;\r\n    concurrencyStamp: string;\r\n\r\n    constructor() {\r\n        this.id = '';\r\n    }\r\n}\r\n","import {CustomerTranslation} from './customer-translation.model';\r\nimport {ContactPerson} from './contact-person.model';\r\nimport {PatientContact} from './patient-contact.model';\r\n\r\nexport class CustomerDetailViewModel {\r\n    id: string;\r\n    customerCode: string;\r\n    fullName: string;\r\n    birthday: Date;\r\n    gender: number;\r\n    patientResourceId: string;\r\n    idCardNumber: string;\r\n    jobId: number;\r\n    nationalId: number;\r\n    nationalName: string;\r\n    provinceId: number;\r\n    provinceName: string;\r\n    districtId: number;\r\n    districtName: string;\r\n    ethnicId: number;\r\n    ethnicName: string;\r\n    religionId: number;\r\n    religionName: string;\r\n    address: string;\r\n    concurrencyStamp: string;\r\n    // customerTranslations: CustomerTranslation[];\r\n    contactPatients: ContactPerson[];\r\n    patientContacts: PatientContact[];\r\n}\r\n","export class CustomerTranslation {\r\n    customerId: string;\r\n    languageId: string;\r\n    address: string;\r\n}\r\n","import {CustomerTranslation} from './customer-translation.model';\r\nimport {ContactPerson} from './contact-person.model';\r\nimport {PatientContact} from './patient-contact.model';\r\n\r\nexport class Customer {\r\n    customerCode: string;\r\n    fullName: string;\r\n    birthday: Date;\r\n    gender: number;\r\n    patientResourceId: string;\r\n    idCardNumber: string;\r\n    jobId: number;\r\n    nationalId: number;\r\n    provinceId: number;\r\n    districtId: number;\r\n    ethnicId: number;\r\n    religionId: number;\r\n    concurrencyStamp: string;\r\n    address: string;\r\n    modelTranslations: CustomerTranslation[];\r\n    contactPersons: ContactPerson[];\r\n    patientContact: PatientContact[];\r\n    constructor() {\r\n        this.customerCode = '';\r\n        this.contactPersons = [];\r\n        this.patientContact = [];\r\n        this.modelTranslations = [];\r\n    }\r\n}\r\n","export const  ContactType = {\r\n    homePhone : 0,\r\n    mobilePhone : 1,\r\n    email : 2,\r\n    fax: 3\r\n}\r\n\r\nexport class PatientContact {\r\n    id: string;\r\n    patientId: string;\r\n    contactType: number;\r\n    contactValue: string;\r\n    concurrencyStamp: string;\r\n}\r\n","import { Component, OnInit, Input, forwardRef, Inject } from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\n\r\n@Component({\r\n    selector: 'nh-image',\r\n    template: `\r\n        <img alt=\"\" [class]=\"cssClass\"\r\n             src=\"{{ value }}\"\r\n             alt=\"{{ alt }}\"\r\n             (error)=\"onImageError()\"/>\r\n    `,\r\n    providers: [\r\n        {provide: NG_VALUE_ACCESSOR, useExisting: forwardRef(() => NhImageComponent), multi: true}\r\n    ],\r\n})\r\n\r\nexport class NhImageComponent implements OnInit, ControlValueAccessor {\r\n    @Input() alt;\r\n    @Input() cssClass = 'img-circle';\r\n    @Input() mode = 'crop';\r\n    @Input() width = 40;\r\n    @Input() height = 40;\r\n    @Input() errorImageUrl = '/assets/images/noavatar.png';\r\n    @Input() baseUrl = '';\r\n\r\n    @Input()\r\n    set value(value) {\r\n        this._value = value;\r\n    }\r\n\r\n    private _value: string;\r\n\r\n    constructor() {\r\n    }\r\n\r\n    get value() {\r\n        return this._value;\r\n    }\r\n\r\n    ngOnInit() {\r\n    }\r\n\r\n    onImageError() {\r\n        this.value = this.errorImageUrl;\r\n    }\r\n\r\n    registerOnChange(fn) {\r\n        this.propagateChange = fn;\r\n    }\r\n\r\n    writeValue(value) {\r\n        this.value = value;\r\n    }\r\n\r\n    registerOnTouched() {\r\n    }\r\n\r\n    propagateChange: any = () => {\r\n    }\r\n}\r\n","/**\r\n * Created by HoangNH on 3/2/2017.\r\n */\r\nimport { NgModule } from \"@angular/core\";\r\nimport { CommonModule } from \"@angular/common\";\r\n\r\nimport { NhImageComponent } from \"./nh-image.component\";\r\n\r\n@NgModule({\r\n    imports: [CommonModule],\r\n    declarations: [NhImageComponent],\r\n    exports: [NhImageComponent]\r\n})\r\n\r\nexport class NhImageModule { }\r\n"],"sourceRoot":""}