{"version":3,"sources":["webpack:///./src/app/base.component.ts","webpack:///./src/app/modules/hr/organization/office/models/office-contact.model.ts","webpack:///./src/app/modules/hr/organization/office/models/office-translation.model.ts","webpack:///./src/app/modules/hr/organization/office/models/office.model.ts","webpack:///./src/app/modules/hr/organization/office/office-contact/office-contact-form.component.html","webpack:///./src/app/modules/hr/organization/office/office-contact/office-contact-form.component.ts","webpack:///./src/app/modules/hr/organization/office/office-contact/office-contact.component.html","webpack:///./src/app/modules/hr/organization/office/office-contact/office-contact.component.ts","webpack:///./src/app/modules/hr/organization/office/office-detail/office-detail.component.html","webpack:///./src/app/modules/hr/organization/office/office-detail/office-detail.component.ts","webpack:///./src/app/modules/hr/organization/office/office-form/office-form.component.html","webpack:///./src/app/modules/hr/organization/office/office-form/office-form.component.ts","webpack:///./src/app/modules/hr/organization/office/office-title/office-title.component.html","webpack:///./src/app/modules/hr/organization/office/office-title/office-title.component.ts","webpack:///./src/app/modules/hr/organization/office/office.component.html","webpack:///./src/app/modules/hr/organization/office/office.component.ts","webpack:///./src/app/modules/hr/organization/office/services/office.service.ts","webpack:///./src/app/modules/hr/organization/organization-routing.module.ts","webpack:///./src/app/modules/hr/organization/organization.module.ts","webpack:///./src/app/modules/hr/organization/position/models/position-translation.model.ts","webpack:///./src/app/modules/hr/organization/position/position-form/position-form.component.html","webpack:///./src/app/modules/hr/organization/position/position-form/position-form.component.ts","webpack:///./src/app/modules/hr/organization/position/position.component.html","webpack:///./src/app/modules/hr/organization/position/position.component.ts","webpack:///./src/app/modules/hr/organization/position/position.model.ts","webpack:///./src/app/modules/hr/organization/title/models/title-translation.model.ts","webpack:///./src/app/modules/hr/organization/title/title-form/title-form.component.html","webpack:///./src/app/modules/hr/organization/title/title-form/title-form.component.ts","webpack:///./src/app/modules/hr/organization/title/title.component.html","webpack:///./src/app/modules/hr/organization/title/title.component.ts","webpack:///./src/app/modules/hr/organization/title/title.model.ts","webpack:///./src/app/shareds/constants/pattern.const.ts"],"names":[],"mappings":"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","file":"modules-hr-organization-organization-module.js","sourcesContent":["﻿﻿import { IMessage } from './interfaces/imessage';\r\nimport { BriefUser } from './view-model/brief-user';\r\nimport { Observable } from 'rxjs';\r\n\r\nexport module String {\r\n    export let format: any;\r\n}\r\n\r\nexport class BaseComponent {\r\n    isSaving = false;\r\n    isUpdate = false;\r\n    isShowForm = false;\r\n    isLoading = false;\r\n    isSearching = false;\r\n    message: IMessage;\r\n    totalRows = 0;\r\n    currentPage = 1;\r\n    pageSize = 20;\r\n    isSubmitted = false;\r\n    keyword = '';\r\n    isActiveSearch = null;\r\n    pageTitle = '';\r\n    errorMessage: string;\r\n    formErrors: any = {};\r\n    validationMessages: any = {};\r\n    isHasInsertPermission = false;\r\n    isHasUpdatePermission = false;\r\n    isHasDeletePermission = false;\r\n    isHasPrintPermission = false;\r\n    isHasApprovePermission = false;\r\n    isHasExportPermission = false;\r\n    isHasViewPermission = false;\r\n    isHasReportPermission = false;\r\n    currentUser: BriefUser;\r\n    subscribers: any = {};\r\n    downloading = false;\r\n    totalRows$: Observable<number>;\r\n    dateTimeValidFormat = [\r\n        'DD/MM/YYYY',\r\n        'DD/MM/YYYY HH:mm',\r\n        'DD/MM/YYYY HH:mm:ss',\r\n        'DD/MM/YYYY HH:mm Z',\r\n        'DD-MM-YYYY',\r\n        'DD-MM-YYYY HH:mm',\r\n        'DD-MM-YYYY HH:mm:ss',\r\n        'DD-MM-YYYY HH:mm Z',\r\n        // --------------------\r\n        'MM/DD/YYYY',\r\n        'MM/DD/YYYY HH:mm',\r\n        'MM/DD/YYYY HH:mm:ss',\r\n        'MM/DD/YYYY HH:mm Z',\r\n        'MM-DD-YYYY',\r\n        'MM-DD-YYYY HH:mm',\r\n        'MM-DD-YYYY HH:mm:ss',\r\n        'MM-DD-YYYY HH:mm Z',\r\n        // --------------------\r\n        'YYYY/MM/DD',\r\n        'YYYY/MM/DD HH:mm',\r\n        'YYYY/MM/DD HH:mm:ss',\r\n        'YYYY/MM/DD HH:mm Z',\r\n        'YYYY-MM-DD',\r\n        'YYYY-MM-DD HH:mm',\r\n        'YYYY-MM-DD HH:mm:ss',\r\n        'YYYY-MM-DD HH:mm Z',\r\n        // --------------------\r\n        'YYYY/DD/MM',\r\n        'YYYY/DD/MM HH:mm',\r\n        'YYYY/DD/MM HH:mm:ss',\r\n        'YYYY/DD/MM HH:mm Z',\r\n        'YYYY-DD-MM',\r\n        'YYYY-DD-MM HH:mm',\r\n        'YYYY-DD-MM HH:mm:ss',\r\n        'YYYY-DD-MM HH:mm Z',\r\n    ];\r\n\r\n    constructor() {\r\n    }\r\n\r\n    resetAfterSave() {\r\n        this.isSaving = false;\r\n        this.isSubmitted = false;\r\n    }\r\n\r\n    formatString(message: string, ...args: string[]) {\r\n        args.forEach((value, index) => {\r\n            const pattern = new RegExp(`\\\\{${index}\\\\}`, 'g');\r\n            message = message.replace(pattern, value);\r\n        });\r\n        return message;\r\n    }\r\n\r\n    // showWarningBox(title: string, message: string) {\r\n    //     this.showAlertBox(title, message, 'warning');\r\n    // }\r\n    //\r\n    // showSuccessBox(title: string, message: string) {\r\n    //     this.showAlertBox(title, message, 'success');\r\n    // }\r\n    //\r\n    // showDangerBox(title: string, message: string) {\r\n    //     this.showAlertBox(title, message, 'error');\r\n    // }\r\n    //\r\n    // showInfoBox(title: string, message: string) {\r\n    //     this.showAlertBox(title, message, 'info');\r\n    // }\r\n\r\n    // showAlertBox(title: string, message: string, type: any = 'success') {\r\n    //     setTimeout(() => {\r\n    //         swal({\r\n    //             title: title,\r\n    //             text: message,\r\n    //             type: type,\r\n    //             timer: 1500,\r\n    //             showConfirmButton: false\r\n    //         }).then(() => {\r\n    //         }, () => {\r\n    //         });\r\n    //     });\r\n    // }\r\n\r\n    getListOrderNumber(currentPage, pageSize, index): number {\r\n        return (currentPage - 1) * pageSize + index + 1;\r\n    }\r\n\r\n    // getPermission(appService: AppService) {\r\n    //     // setTimeout(() => {\r\n    //     //     this.isHasViewPermission = appService.checkPermission(PERMISSION_VALUE_DI.view);\r\n    //     //     this.isHasInsertPermission = appService.checkPermission(PERMISSION_VALUE_DI.insert);\r\n    //     //     this.isHasUpdatePermission = appService.checkPermission(PERMISSION_VALUE_DI.update);\r\n    //     //     this.isHasDeletePermission = appService.checkPermission(PERMISSION_VALUE_DI.delete);\r\n    //     //     this.isHasExportPermission = appService.checkPermission(PERMISSION_VALUE_DI.export);\r\n    //     //     this.isHasPrintPermission = appService.checkPermission(PERMISSION_VALUE_DI.print);\r\n    //     //     this.isHasApprovePermission = appService.checkPermission(PERMISSION_VALUE_DI.approve);\r\n    //     //     this.isHasReportPermission = appService.checkPermission(PERMISSION_VALUE_DI.report);\r\n    //     // });\r\n    // }\r\n\r\n    // renderFormError(args: string[]) {\r\n    //     let object = {};\r\n    //     args.forEach((item) => {\r\n    //         object[item] = \"\";\r\n    //     });\r\n    //     return object;\r\n    // }\r\n    // private getFormErrors(form: FormGroup, formErrors: any, validationMessages: any): boolean {\r\n    //     let isValid = true;\r\n    //     debugger;\r\n    //     for (const field in formErrors) {\r\n    //         if (typeof(formErrors[field]) === \"object\" && field != null && form != null) {\r\n    //             let newFormGroup = <any>form.get(field) as FormGroup;\r\n    //             isValid = this.getFormErrors(newFormGroup, formErrors[field], validationMessages[field]);\r\n    //         } else {\r\n    //             if (field != null && form != null) {\r\n    //                 formErrors[field] = \"\";\r\n    //                 const control = form.get(field);\r\n    //                 if (control && (control.dirty || (this.isSubmitted && control.pristine)) && !control.valid) {\r\n    //                     const messages = validationMessages[field];\r\n    //                     for (const key in control.errors) {\r\n    //                         formErrors[field] += messages[key] + \" \";\r\n    //                         isValid = false;\r\n    //                     }\r\n    //                 }\r\n    //             }\r\n    //         }\r\n    //     }\r\n    //\r\n    //     return isValid;\r\n    // }\r\n}\r\n","export class OfficeContact {\r\n    id: string;\r\n    userId: string;\r\n    fullName: string;\r\n    avatar: string;\r\n    officeName: string;\r\n    positionName: string;\r\n    titlePrefixing: number;\r\n    email: string;\r\n    phoneNumber: string;\r\n    fax: string;\r\n}\r\n","export class OfficeTranslation {\r\n    languageId: string;\r\n    name: string;\r\n    shortName: string;\r\n    description: string;\r\n    address: string;\r\n}\r\n","﻿import { OfficeTranslation } from './office-translation.model';\r\nimport { OfficeContact } from './office-contact.model';\r\n\r\nexport class Office {\r\n    officeType: number;\r\n    order: number;\r\n    status: number;\r\n    parentId?: string;\r\n    isActive: boolean;\r\n    description: string;\r\n    code: string;\r\n    modelTranslations: OfficeTranslation[];\r\n    officeContacts: OfficeContact[];\r\n\r\n    constructor(officeType?: number, order?: number, status?: number, parentId?: string, isActive?: boolean) {\r\n        this.officeType = officeType ? officeType : 0;\r\n        this.order = order ? order : 0;\r\n        this.status = status;\r\n        this.parentId = parentId;\r\n        this.isActive = isActive ? isActive : true;\r\n    }\r\n}\r\n","module.exports = \"<nh-modal #officeContactFormModal\\r\\n          size=\\\"sm\\\"\\r\\n          (hidden)=\\\"onModalHidden()\\\">\\r\\n    <form action=\\\"\\\" class=\\\"form-horizontal\\\" (ngSubmit)=\\\"save()\\\" [formGroup]=\\\"model\\\">\\r\\n        <nh-modal-content>\\r\\n            <div class=\\\"form-group\\\"\\r\\n                 [class.has-error]=\\\"formErrors.userId\\\">\\r\\n                <label i18n=\\\"@@fullName\\\" i18n-ghmLabel ghmLabel=\\\"Full name\\\"\\r\\n                       class=\\\"col-sm-12\\\"\\r\\n                       [required]=\\\"true\\\"></label>\\r\\n                <div class=\\\"col-sm-12\\\">\\r\\n                    <ghm-user-suggestion\\r\\n                        [selectedUser]=\\\"selectedUser\\\"\\r\\n                        (userSelected)=\\\"onUserSelected($event)\\\"\\r\\n                    ></ghm-user-suggestion>\\r\\n                    <span class=\\\"help-block\\\">\\r\\n                        {\\r\\n                        formErrors.userId,\\r\\n                        select, required {Please select user}\\r\\n                        }\\r\\n                    </span>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"form-group\\\"\\r\\n                 [class.has-error]=\\\"formErrors.phoneNumber\\\">\\r\\n                <label i18n=\\\"@@phoneNumber\\\" i18n-ghmLabel ghmLabel=\\\"PhoneNumber\\\"\\r\\n                       class=\\\"col-sm-12\\\"\\r\\n                       [required]=\\\"true\\\"></label>\\r\\n                <div class=\\\"col-sm-12\\\">\\r\\n                    <input type=\\\"text\\\" class=\\\"form-control\\\" formControlName=\\\"phoneNumber\\\"\\r\\n                           i18n-placeholder=\\\"@@enterPhoneNumber\\\"\\r\\n                           placeholder=\\\"Enter phone number.\\\">\\r\\n                    <span class=\\\"help-block\\\">\\r\\n                        {\\r\\n                        formErrors.phoneNumber,\\r\\n                        select,\\r\\n                        required {Phone number is required}\\r\\n                        maxlength {Phone number not allowed over 50 characters}\\r\\n                        pattern {Phone number invalid}\\r\\n                        }\\r\\n                    </span>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"form-group\\\"\\r\\n                 [class.has-error]=\\\"formErrors.email\\\">\\r\\n                <label i18n=\\\"@@email\\\" i18n-ghmLabel ghmLabel=\\\"Email\\\"\\r\\n                       class=\\\"col-sm-12\\\"></label>\\r\\n                <div class=\\\"col-sm-12\\\">\\r\\n                    <input type=\\\"text\\\" class=\\\"form-control\\\" formControlName=\\\"email\\\"\\r\\n                           i18n-placeholder=\\\"@@enterEmail\\\"\\r\\n                           placeholder=\\\"Enter email address.\\\">\\r\\n                    <span class=\\\"help-block\\\">\\r\\n                        {\\r\\n                        formErrors.email,\\r\\n                        select,\\r\\n                        maxlength {Email not allowed over 500 characters}\\r\\n                        pattern {Email invalid}\\r\\n                        }\\r\\n                    </span>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"form-group\\\"\\r\\n                 [class.has-error]=\\\"formErrors.fax\\\">\\r\\n                <label i18n=\\\"@@fax\\\" i18n-ghmLabel ghmLabel=\\\"Fax\\\"\\r\\n                       class=\\\"col-sm-12\\\"\\r\\n                ></label>\\r\\n                <div class=\\\"col-sm-12\\\">\\r\\n                    {{formErrors.fax}}\\r\\n                    <input type=\\\"text\\\" class=\\\"form-control\\\" formControlName=\\\"fax\\\"\\r\\n                           i18n-placeholder=\\\"@@enterFax\\\"\\r\\n                           placeholder=\\\"Enter fax.\\\">\\r\\n                    <span class=\\\"help-block\\\">\\r\\n                        {\\r\\n                        formErrors.fax,\\r\\n                        select,\\r\\n                        maxlength {Fax not allowed over 50 characters}\\r\\n                        pattern {Fax invalid}\\r\\n                        }\\r\\n                    </span>\\r\\n                </div>\\r\\n            </div>\\r\\n        </nh-modal-content>\\r\\n        <nh-modal-footer>\\r\\n            <mat-checkbox [checked]=\\\"isCreateAnother\\\" (change)=\\\"isCreateAnother = !isCreateAnother\\\"\\r\\n                          *ngIf=\\\"!isUpdate\\\"\\r\\n                          i18n=\\\"@@isCreateAnother\\\"\\r\\n                          class=\\\"cm-mgr-5\\\"\\r\\n                          color=\\\"primary\\\">\\r\\n                Create another\\r\\n            </mat-checkbox>\\r\\n            <ghm-button classes=\\\"btn btn-primary cm-mgr-5\\\" [loading]=\\\"isSaving\\\" i18n=\\\"@@save\\\">\\r\\n                Save\\r\\n            </ghm-button>\\r\\n            <ghm-button type=\\\"button\\\" classes=\\\"btn btn-default\\\"\\r\\n                        nh-dismiss=\\\"true\\\"\\r\\n                        [loading]=\\\"isSaving\\\"\\r\\n                        i18n=\\\"@@cancel\\\">\\r\\n                Cancel\\r\\n            </ghm-button>\\r\\n        </nh-modal-footer>\\r\\n    </form>\\r\\n</nh-modal>\\r\\n\"","import { Component, Input, OnInit, ViewChild } from '@angular/core';\r\nimport { BaseFormComponent } from '../../../../../base-form.component';\r\nimport { NhModalComponent } from '../../../../../shareds/components/nh-modal/nh-modal.component';\r\nimport { OfficeService } from '../services/office.service';\r\nimport { OfficeContact } from '../models/office-contact.model';\r\nimport { UserSuggestion } from '../../../../../shareds/components/ghm-user-suggestion/ghm-user-suggestion.component';\r\nimport { FormBuilder, Validators } from '@angular/forms';\r\nimport { UtilService } from '../../../../../shareds/services/util.service';\r\nimport { IActionResultResponse } from '../../../../../interfaces/iaction-result-response.result';\r\nimport { finalize } from 'rxjs/operators';\r\nimport { Pattern } from '../../../../../shareds/constants/pattern.const';\r\n\r\n@Component({\r\n    selector: 'app-office-contact-form',\r\n    templateUrl: './office-contact-form.component.html'\r\n})\r\n\r\nexport class OfficeContactFormComponent extends BaseFormComponent implements OnInit {\r\n    @ViewChild('officeContactFormModal') officeContactFormModal: NhModalComponent;\r\n    @Input() officeId: number;\r\n    contact = new OfficeContact();\r\n    selectedUser: UserSuggestion;\r\n\r\n    constructor(private fb: FormBuilder,\r\n                private utilService: UtilService,\r\n                private officeService: OfficeService) {\r\n        super();\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.buildForm();\r\n    }\r\n\r\n    onModalHidden() {\r\n        this.selectedUser = null;\r\n        this.model.reset();\r\n    }\r\n\r\n    onUserSelected(user: UserSuggestion) {\r\n        this.selectedUser = user;\r\n        if (user) {\r\n            this.model.patchValue({\r\n                userId: user.id,\r\n                fullName: user.fullName,\r\n                avatar: user.avatar,\r\n                officeName: '',\r\n                positionName: ''\r\n            });\r\n        } else {\r\n            this.model.patchValue({\r\n                userId: null,\r\n                fullName: null,\r\n                avatar: null,\r\n                officeName: null,\r\n                positionName: null\r\n            });\r\n        }\r\n    }\r\n\r\n    add() {\r\n        this.isUpdate = false;\r\n        this.officeContactFormModal.open();\r\n    }\r\n\r\n    edit(officeContact: OfficeContact) {\r\n        // this.isUpdate = true;\r\n        // this.selectedUser = new UserSuggestion(officeContact.userId, officeContact.fullName, officeContact.officeName,\r\n        //     officeContact.positionName, officeContact.avatar);\r\n        // this.model.patchValue(officeContact);\r\n        // this.officeContactFormModal.open();\r\n    }\r\n\r\n    save() {\r\n        const isValid = this.validateModel(true);\r\n        if (isValid) {\r\n            if (this.isUpdate) {\r\n                this.updateContact();\r\n            } else {\r\n                this.addContact();\r\n            }\r\n        }\r\n    }\r\n\r\n    private updateContact() {\r\n        this.contact = this.model.value;\r\n        if (this.officeId) {\r\n            this.isSaving = true;\r\n            this.officeService\r\n                .updateContact(this.officeId, this.contact.id, this.contact)\r\n                .pipe(finalize(() => this.isSaving = false))\r\n                .subscribe(() => {\r\n                    this.saveSuccessful.emit(this.contact);\r\n                    this.officeContactFormModal.dismiss();\r\n                });\r\n        } else {\r\n            this.saveSuccessful.emit(this.contact);\r\n            this.officeContactFormModal.dismiss();\r\n        }\r\n    }\r\n\r\n    private addContact() {\r\n        this.contact = this.model.value;\r\n        if (this.officeId) {\r\n            this.isSaving = true;\r\n            this.officeService\r\n                .addContact(this.officeId, this.contact)\r\n                .pipe(finalize(() => this.isSaving = false))\r\n                .subscribe((result: IActionResultResponse) => {\r\n                    this.contact.id = result.data;\r\n                    this.saveSuccessful.emit(this.contact);\r\n                    this.afterSave();\r\n                });\r\n        } else {\r\n            this.contact.id = this.utilService\r\n                .generateRandomNumber()\r\n                .toString();\r\n            this.saveSuccessful.emit(this.contact);\r\n            this.afterSave();\r\n        }\r\n    }\r\n\r\n    private buildForm() {\r\n        this.formErrors = this.renderFormError(['userId', 'phoneNumber', 'email', 'fax']);\r\n        this.validationMessages = this.renderFormErrorMessage([\r\n            {'userId': ['required', 'maxlength']},\r\n            {'phoneNumber': ['required', 'maxlength', 'pattern']},\r\n            {'email': ['maxlength', 'pattern']},\r\n            {'fax': ['maxlength', 'pattern']},\r\n        ]);\r\n        this.model = this.fb.group({\r\n            id: [this.contact.id],\r\n            userId: [this.contact.userId, [\r\n                Validators.required,\r\n                Validators.maxLength(50)\r\n            ]],\r\n            fullName: [this.contact.fullName],\r\n            avatar: [this.contact.avatar],\r\n            officeName: [this.contact.officeName],\r\n            positionName: [this.contact.positionName],\r\n            phoneNumber: [this.contact.phoneNumber, [\r\n                Validators.required,\r\n                Validators.maxLength(50),\r\n                Validators.pattern(Pattern.phoneNumber)\r\n            ]],\r\n            email: [this.contact.email, [\r\n                Validators.maxLength(500),\r\n                Validators.pattern(Pattern.email)\r\n            ]],\r\n            fax: [this.contact.fax, [\r\n                Validators.maxLength(50),\r\n                Validators.pattern(Pattern.phoneNumber)\r\n            ]]\r\n        });\r\n        this.model.valueChanges.subscribe(() => this.validateModel(false));\r\n    }\r\n\r\n    private afterSave() {\r\n        if (this.isCreateAnother) {\r\n            this.selectedUser = null;\r\n            this.model.reset();\r\n        } else {\r\n            this.officeContactFormModal.dismiss();\r\n        }\r\n    }\r\n}\r\n","module.exports = \"<h4 class=\\\"title caption-subject font-blue-madison bold uppercase\\\" i18n=\\\"@@contactInfo\\\"> Contact info </h4>\\r\\n<hr>\\r\\n<div class=\\\"row\\\">\\r\\n    <div class=\\\"col-sm-12 text-right\\\">\\r\\n        <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" i18n=\\\"@@add\\\" (click)=\\\"add()\\\">\\r\\n            Add\\r\\n        </button>\\r\\n    </div>\\r\\n</div>\\r\\n<div class=\\\"row\\\">\\r\\n    <div class=\\\"col-sm-12\\\">\\r\\n        <div class=\\\"table-responsive\\\">\\r\\n            <table class=\\\"table table-stripped table-hover\\\">\\r\\n                <thead>\\r\\n                <tr>\\r\\n                    <th class=\\\"center w50\\\" i18n=\\\"@@no\\\">No</th>\\r\\n                    <th class=\\\"w250\\\" i18n=\\\"@@Contact\\\">Contact</th>\\r\\n                    <th i18n=\\\"@@phoneNumber\\\">Phone number</th>\\r\\n                    <th i18n=\\\"@@email\\\">Email</th>\\r\\n                    <th i18n=\\\"@@fax\\\">Fax</th>\\r\\n                    <th class=\\\"w150\\\" i18n=\\\"@@actions\\\">Actions</th>\\r\\n                </tr>\\r\\n                </thead>\\r\\n                <tbody>\\r\\n                <tr *ngFor=\\\"let contact of officeContacts; index as i\\\">\\r\\n                    <td class=\\\"center middle\\\">{{ i + 1 }}</td>\\r\\n                    <td class=\\\"middle\\\">\\r\\n                        <div class=\\\"media\\\">\\r\\n                            <div class=\\\"media-left\\\">\\r\\n                                <a href=\\\"javascript://\\\">\\r\\n                                    <img ghmImage class=\\\"media-object avatar-md\\\"\\r\\n                                         [src]=\\\"contact.avatar\\\"\\r\\n                                         alt=\\\"{{ contact.fullName }}\\\">\\r\\n                                </a>\\r\\n                            </div>\\r\\n                            <div class=\\\"media-body\\\">\\r\\n                                <h4 class=\\\"media-heading\\\">{{ contact.fullName }}</h4>\\r\\n                                <div class=\\\"description\\\">{{ contact.officeName }} - {{ contact.positionName }}</div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </td>\\r\\n                    <td class=\\\"middle\\\">{{ contact.phoneNumber }}</td>\\r\\n                    <td class=\\\"middle\\\">{{ contact.email }}</td>\\r\\n                    <td class=\\\"middle\\\">{{ contact.fax }}</td>\\r\\n                    <td class=\\\"text-right middle w100\\\">\\r\\n                        <button type=\\\"button\\\" class=\\\"btn btn-primary btn-sm\\\" (click)=\\\"edit(contact)\\\">\\r\\n                            <i class=\\\"fa fa-edit\\\"></i>\\r\\n                        </button>\\r\\n                        <button type=\\\"button\\\" class=\\\"btn btn-danger btn-sm\\\" (click)=\\\"delete(contact.id)\\\">\\r\\n                            <i class=\\\"fa fa-trash-o\\\"></i>\\r\\n                        </button>\\r\\n                    </td>\\r\\n                </tr>\\r\\n                </tbody>\\r\\n            </table>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<app-office-contact-form\\r\\n    [officeId]=\\\"officeId\\\"\\r\\n    (saveSuccessful)=\\\"onSaveSuccess($event)\\\"\\r\\n></app-office-contact-form>\\r\\n\"","import { Component, Input, OnInit, ViewChild } from '@angular/core';\r\nimport { BaseListComponent } from '../../../../../base-list.component';\r\nimport { OfficeContact } from '../models/office-contact.model';\r\nimport { OfficeContactFormComponent } from './office-contact-form.component';\r\nimport { OfficeService } from '../services/office.service';\r\nimport * as _ from 'lodash';\r\n\r\n@Component({\r\n    selector: 'app-office-contact',\r\n    templateUrl: './office-contact.component.html'\r\n})\r\n\r\nexport class OfficeContactComponent extends BaseListComponent<OfficeContact> implements OnInit {\r\n    @ViewChild(OfficeContactFormComponent) officeContactFormComponent: OfficeContactFormComponent;\r\n    @Input() officeId: number;\r\n    @Input() officeContacts: OfficeContact[] = [];\r\n\r\n    constructor(private officeService: OfficeService) {\r\n        super();\r\n    }\r\n\r\n    ngOnInit() {\r\n    }\r\n\r\n    onSaveSuccess(officeContact: OfficeContact) {\r\n        const officeContactInfo = _.find(this.officeContacts, (contact: OfficeContact) => {\r\n            return contact.id === officeContact.id;\r\n        });\r\n        if (officeContactInfo) {\r\n            officeContactInfo.userId = officeContact.userId;\r\n            officeContactInfo.fullName = officeContact.fullName;\r\n            officeContactInfo.avatar = officeContact.avatar;\r\n            officeContactInfo.phoneNumber = officeContact.phoneNumber;\r\n            officeContactInfo.email = officeContact.email;\r\n            officeContactInfo.fax = officeContact.fax;\r\n        } else {\r\n            this.officeContacts.push(officeContact);\r\n        }\r\n    }\r\n\r\n    add() {\r\n        this.officeContactFormComponent.add();\r\n    }\r\n\r\n    edit(officeContact: OfficeContact) {\r\n        this.officeContactFormComponent.edit(officeContact);\r\n    }\r\n\r\n    delete(contactId: string) {\r\n        if (this.officeId) {\r\n            this.subscribers.deleteContact = this.officeService.deleteContact(this.officeId, contactId)\r\n                .subscribe(() => {\r\n                    this.removeContact(contactId);\r\n                });\r\n        } else {\r\n            this.removeContact(contactId);\r\n        }\r\n    }\r\n\r\n    private removeContact(contactId: string) {\r\n        _.remove(this.officeContacts, (contact: OfficeContact) => {\r\n            return contact.id === contactId;\r\n        });\r\n    }\r\n}\r\n","module.exports = \"<nh-modal #officeDetailModal size=\\\"lg\\\"\\r\\n          (shown)=\\\"onModalShown()\\\"\\r\\n          (hidden)=\\\"onModalHidden()\\\">\\r\\n    <nh-modal-content>\\r\\n        <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-sm-4\\\">\\r\\n                <div class=\\\"portlet light bordered\\\">\\r\\n                    <div class=\\\"portlet-title\\\">\\r\\n                        <div class=\\\"caption font-green-sharp\\\">\\r\\n                            <i class=\\\"icon-speech font-green-sharp\\\"></i>\\r\\n                            <span class=\\\"caption-subject bold uppercase\\\" i18n=\\\"@@officeOrganizationTitle\\\">Office organization</span>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"portlet-body\\\">\\r\\n                        <nh-tree\\r\\n                            [data]=\\\"officeTree\\\"\\r\\n                            (nodeSelected)=\\\"onNodeSelected($event)\\\">\\r\\n                        </nh-tree>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n            <!-- END: .col-sm-4 -->\\r\\n            <div class=\\\"col-sm-8\\\">\\r\\n                <div class=\\\"portlet light bordered\\\">\\r\\n                    <div class=\\\"portlet-title\\\">\\r\\n                        <div class=\\\"caption font-green-sharp\\\">\\r\\n                            <i class=\\\"icon-speech font-green-sharp\\\"></i>\\r\\n                            <span class=\\\"caption-subject bold uppercase\\\" i18n=\\\"@@officeDetailTitle\\\">\\r\\n                                Office detail\\r\\n                            </span>\\r\\n                        </div>\\r\\n                        <div class=\\\"actions\\\" *ngIf=\\\"permission.edit || permission.delete\\\">\\r\\n                            <a href=\\\"javascript://\\\"\\r\\n                               class=\\\"btn btn-circle btn-primary cm-mgr-5\\\"\\r\\n                               *ngIf=\\\"permission.edit\\\"\\r\\n                               (click)=\\\"edit()\\\"\\r\\n                            >\\r\\n                                <i class=\\\"fa fa-edit\\\"></i>\\r\\n                            </a>\\r\\n                            <a href=\\\"javascript:;\\\" class=\\\"btn btn-circle red-sunglo\\\"\\r\\n                               *ngIf=\\\"permission.delete\\\"\\r\\n                               [swal]=\\\"confirmDeleteOffice\\\" (confirm)=\\\"deleteOffice()\\\">\\r\\n                                <i class=\\\"fa fa-trash-o\\\"></i>\\r\\n                            </a>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"portlet-body\\\">\\r\\n                        <div class=\\\"form-horizontal\\\">\\r\\n                            <div class=\\\"tabbable-custom\\\">\\r\\n                                <ul class=\\\"nav nav-tabs \\\">\\r\\n                                    <li [class.active]=\\\"viewType === 0\\\">\\r\\n                                        <a href=\\\"javascript://\\\" (click)=\\\"changeViewType(0)\\\" i18n=\\\"@@officeInfo\\\">\\r\\n                                            Office info\\r\\n                                        </a>\\r\\n                                    </li>\\r\\n                                    <li [class.active]=\\\"viewType === 1\\\">\\r\\n                                        <a href=\\\"javascript://\\\" (click)=\\\"changeViewType(1)\\\" i18n=\\\"@@listPosition\\\">\\r\\n                                            List positions\\r\\n                                        </a>\\r\\n                                    </li>\\r\\n                                </ul>\\r\\n\\r\\n                                <div class=\\\"tab-content\\\">\\r\\n                                    <div class=\\\"tab-pane active\\\">\\r\\n                                        <ng-container *ngIf=\\\"viewType ===  0; else listPositionTemplate\\\">\\r\\n                                            <div class=\\\"form-group\\\">\\r\\n                                                <label i18n-ghmLabel=\\\"@@parentOffice\\\" ghmLabel=\\\"Parent office\\\"\\r\\n                                                       class=\\\"col-sm-3 control-label\\\"></label>\\r\\n                                                <div class=\\\"col-sm-3\\\">\\r\\n                                                    <div class=\\\"form-control\\\">{{ officeDetail?.parentName }}</div>\\r\\n                                                </div>\\r\\n                                                <label i18n-ghmLabel=\\\"@@officeCode\\\" ghmLabel=\\\"Office code\\\"\\r\\n                                                       class=\\\"col-sm-3 control-label\\\"></label>\\r\\n                                                <div class=\\\"col-sm-3\\\">\\r\\n                                                    <div class=\\\"form-control\\\">{{ officeDetail?.code }}</div>\\r\\n                                                </div>\\r\\n                                            </div>\\r\\n                                            <div class=\\\"form-group\\\">\\r\\n                                                <label i18n-ghmLabel=\\\"@@officeName\\\" ghmLabel=\\\"Office name\\\"\\r\\n                                                       class=\\\"col-sm-3 control-label\\\"></label>\\r\\n                                                <div class=\\\"col-sm-3\\\">\\r\\n                                                    <div class=\\\"form-control\\\">{{ officeDetail?.name }}</div>\\r\\n                                                </div>\\r\\n                                                <label i18n-ghmLabel=\\\"@@shortName\\\" ghmLabel=\\\"Short name\\\"\\r\\n                                                       class=\\\"col-sm-3 control-label\\\"></label>\\r\\n                                                <div class=\\\"col-sm-3\\\">\\r\\n                                                    <div class=\\\"form-control\\\">{{ officeDetail?.shortName }}</div>\\r\\n                                                </div>\\r\\n                                            </div>\\r\\n                                            <div class=\\\"form-group\\\">\\r\\n                                                <label i18n-ghmLabel=\\\"@@officeType\\\" ghmLabel=\\\"Office type\\\"\\r\\n                                                       class=\\\"col-sm-3 control-label\\\"></label>\\r\\n                                                <div class=\\\"col-sm-3\\\">\\r\\n                                                    <div class=\\\"form-control\\\" i18n=\\\"@@officeType\\\">\\r\\n\\r\\n                                                    </div>\\r\\n                                                </div>\\r\\n                                                <label i18n-ghmLabel=\\\"@@status\\\" ghmLabel=\\\"Status\\\"\\r\\n                                                       class=\\\"col-sm-3 control-label\\\"></label>\\r\\n                                                <div class=\\\"col-sm-3\\\">\\r\\n                                                <span class=\\\"badge cm-mgt-10\\\"\\r\\n                                                      [class.badge-success]=\\\"officeDetail?.isActive\\\"\\r\\n                                                      [class.badge-danger]=\\\"!officeDetail?.isActive\\\"\\r\\n                                                >\\r\\n                                                    {officeDetail?.isActive, select, 0 {InActivated} 1 {Activated} other {}}\\r\\n                                                </span>\\r\\n                                                </div>\\r\\n                                            </div>\\r\\n                                            <div class=\\\"form-group\\\">\\r\\n                                                <label i18n=\\\"@@description\\\" i18n-ghmLabel ghmLabel=\\\"Description\\\"\\r\\n                                                       class=\\\"col-sm-3 control-label\\\"></label>\\r\\n                                                <div class=\\\"col-sm-9\\\">\\r\\n                                                    <div class=\\\"form-control height-auto\\\">{{ officeDetail?.description\\r\\n                                                        }}\\r\\n                                                    </div>\\r\\n                                                </div>\\r\\n                                            </div>\\r\\n                                            <div class=\\\"form-group\\\">\\r\\n                                                <label i18n=\\\"@@address\\\" i18n-ghmLabel ghmLabel=\\\"Address\\\"\\r\\n                                                       class=\\\"col-sm-3 control-label\\\"></label>\\r\\n                                                <div class=\\\"col-sm-9\\\">\\r\\n                                                    <div class=\\\"form-control height-auto\\\">{{ officeDetail?.address }}\\r\\n                                                    </div>\\r\\n                                                </div>\\r\\n                                            </div>\\r\\n                                            <div class=\\\"form-group\\\">\\r\\n                                                <div class=\\\"col-sm-12\\\">\\r\\n                                                    <app-office-contact\\r\\n                                                        #detailOfficeContact\\r\\n                                                        [officeId]=\\\"officeDetail?.id\\\"\\r\\n                                                        [officeContacts]=\\\"officeDetail?.officeContacts\\\">\\r\\n                                                    </app-office-contact>\\r\\n                                                </div>\\r\\n                                            </div>\\r\\n                                        </ng-container>\\r\\n                                    </div>\\r\\n                                    <!-- END: .tab-pane -->\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n            <!-- END: .col-sm-8 -->\\r\\n        </div>\\r\\n    </nh-modal-content>\\r\\n    <nh-modal-footer>\\r\\n        <ghm-button classes=\\\"btn btn-default\\\"\\r\\n                    nh-dismiss=\\\"true\\\"\\r\\n                    type=\\\"button\\\">\\r\\n            <span i18n=\\\"@@close\\\">Close</span>\\r\\n        </ghm-button>\\r\\n    </nh-modal-footer>\\r\\n</nh-modal>\\r\\n\\r\\n<nh-modal #addPositionModal size=\\\"sm\\\"\\r\\n          [backdropStatic]=\\\"true\\\"\\r\\n          (onShown)=\\\"onAddPositionModalShown()\\\">\\r\\n    <nh-modal-header>\\r\\n        <span i18n=\\\"@@addPosition\\\">Add position</span>\\r\\n    </nh-modal-header>\\r\\n    <nh-modal-content>\\r\\n        <nh-suggestion\\r\\n            i18n-placeholder=\\\"@@typePositionNameForSearch\\\"\\r\\n            placeholder=\\\"Type position name for search\\\"\\r\\n            [multiple]=\\\"true\\\"\\r\\n            [sources]=\\\"positions\\\"\\r\\n            [selectedItems]=\\\"selectedPositions\\\"\\r\\n            [loading]=\\\"isSearchingPositions\\\"\\r\\n            (searched)=\\\"searchPositionForSuggestion($event)\\\"\\r\\n        ></nh-suggestion>\\r\\n    </nh-modal-content>\\r\\n    <nh-modal-footer>\\r\\n        <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" i18n=\\\"@@accept\\\" (click)=\\\"acceptAddPosition()\\\">\\r\\n            Accept\\r\\n        </button>\\r\\n    </nh-modal-footer>\\r\\n</nh-modal>\\r\\n\\r\\n<ng-template #listPositionTemplate>\\r\\n    <form class=\\\"form-inline\\\" (ngSubmit)=\\\"searchPosition(1)\\\">\\r\\n        <div class=\\\"col-sm-12\\\">\\r\\n            <div class=\\\"form-group cm-mgr-5\\\">\\r\\n                <div class=\\\"input-group\\\">\\r\\n                    <input type=\\\"text\\\" class=\\\"form-control\\\"\\r\\n                           i18n-placeholder=\\\"@@enterKeyword\\\"\\r\\n                           placeholder=\\\"Enter keyword\\\"\\r\\n                           name=\\\"searchPositionKeyword\\\"\\r\\n                           [(ngModel)]=\\\"keyword\\\">\\r\\n                    <span class=\\\"input-group-btn\\\">\\r\\n                        <button class=\\\"btn btn-primary\\\" type=\\\"submit\\\">\\r\\n                            <i class=\\\"fa fa-spinner fa-pulse\\\" *ngIf=\\\"isSearching\\\"></i>\\r\\n                            <i class=\\\"fa fa-search\\\" *ngIf=\\\"!isSearching\\\"></i>\\r\\n                        </button>\\r\\n                    </span>\\r\\n                </div>\\r\\n            </div>\\r\\n            <!--<div class=\\\"form-group\\\">-->\\r\\n                <!--<ghm-button-->\\r\\n                    <!--*ngIf=\\\"permission.delete\\\"-->\\r\\n                    <!--icon=\\\"fa fa-search\\\"-->\\r\\n                    <!--classes=\\\"btn btn-primary\\\"-->\\r\\n                    <!--[loading]=\\\"isSearching\\\"-->\\r\\n                <!--&gt;-->\\r\\n                <!--</ghm-button>-->\\r\\n            <!--</div>-->\\r\\n            <div class=\\\"form-group pull-right\\\" *ngIf=\\\"officePermission.add\\\">\\r\\n                <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" i18n=\\\"@@add\\\" (click)=\\\"showAddPositionModal()\\\">\\r\\n                    Add\\r\\n                </button>\\r\\n            </div>\\r\\n        </div>\\r\\n    </form>\\r\\n    <table class=\\\"table table-stripped table-hover\\\">\\r\\n        <thead>\\r\\n        <tr>\\r\\n            <th class=\\\"center w50\\\" i18n=\\\"@@no\\\">No</th>\\r\\n            <th i18n=\\\"@@positionName\\\">Position Name</th>\\r\\n            <th class=\\\"center w100\\\" i18n=\\\"@@isManager\\\">Is Manager</th>\\r\\n            <th class=\\\"center w100\\\" i18n=\\\"@@isMultiple\\\">Is Multiple</th>\\r\\n            <th class=\\\"w70 center\\\" i18n=\\\"@@actions\\\">Actions</th>\\r\\n        </tr>\\r\\n        </thead>\\r\\n        <tbody>\\r\\n        <tr *ngFor=\\\"let item of listItems; let i = index\\\">\\r\\n            <td class=\\\"center\\\">{{ (currentPage - 1) * pageSize + i + 1 }}</td>\\r\\n            <td>{{ item.positionName }}</td>\\r\\n            <td class=\\\"center\\\">\\r\\n                <i class=\\\"fa fa-check color-green\\\" *ngIf=\\\"item.isManager\\\"></i>\\r\\n            </td>\\r\\n            <td class=\\\"center\\\">\\r\\n                <i class=\\\"fa fa-check color-green\\\" *ngIf=\\\"item.isMultiple\\\"></i>\\r\\n            </td>\\r\\n            <td class=\\\"center\\\">\\r\\n                <ghm-button\\r\\n                    *ngIf=\\\"permission.delete\\\"\\r\\n                    icon=\\\"fa fa-trash-o\\\" classes=\\\"btn btn-danger btn-sm\\\"\\r\\n                    [swal]=\\\"confirmDeleteOfficePosition\\\"\\r\\n                    (confirm)=\\\"deletePosition(item.positionId)\\\"></ghm-button>\\r\\n            </td>\\r\\n        </tr>\\r\\n        </tbody>\\r\\n    </table>\\r\\n    <ghm-paging\\r\\n        i18n-pageName=\\\"@@position\\\"\\r\\n        pageName=\\\"Position\\\"\\r\\n        [totalRows]=\\\"totalRows\\\"\\r\\n        [currentPage]=\\\"currentPage\\\"\\r\\n        [pageShow]=\\\"6\\\"\\r\\n        [isDisabled]=\\\"isSearching\\\"\\r\\n        (pageClick)=\\\"searchPosition($event)\\\"></ghm-paging>\\r\\n</ng-template>\\r\\n\\r\\n<swal\\r\\n    #confirmDeleteOfficePosition\\r\\n    i18n-title=\\\"@@confirmDeleteOfficePositionTitle\\\"\\r\\n    i18n-text=\\\"@@confirmDeleteOfficePositionText\\\"\\r\\n    title=\\\"Are you sure want to remove this position out of office.\\\"\\r\\n    text=\\\"You can't recover after delete.\\\"\\r\\n    type=\\\"question\\\"\\r\\n    i18n-confirmButtonText=\\\"@@accept\\\"\\r\\n    i18n-cancelButtonText=\\\"@@cancel\\\"\\r\\n    confirmButtonText=\\\"Accept\\\"\\r\\n    cancelButtonText=\\\"Cancel\\\"\\r\\n    [showCancelButton]=\\\"true\\\"\\r\\n    [focusCancel]=\\\"true\\\">\\r\\n</swal>\\r\\n\\r\\n<swal\\r\\n    #confirmDeleteOffice\\r\\n    i18n-title=\\\"@@confirmDeleteOfficeTitle\\\"\\r\\n    i18n-text=\\\"@@confirmDeleteOfficeText\\\"\\r\\n    title=\\\"Are you sure want to delete this office.\\\"\\r\\n    text=\\\"You can't recover this office after delete.\\\"\\r\\n    type=\\\"question\\\"\\r\\n    i18n-confirmButtonText=\\\"@@accept\\\"\\r\\n    i18n-cancelButtonText=\\\"@@cancel\\\"\\r\\n    confirmButtonText=\\\"Accept\\\"\\r\\n    cancelButtonText=\\\"Cancel\\\"\\r\\n    [showCancelButton]=\\\"true\\\"\\r\\n    [focusCancel]=\\\"true\\\">\\r\\n</swal>\\r\\n\"","import { Component, EventEmitter, Inject, OnInit, Output, ViewChild } from '@angular/core';\r\nimport { OfficeService } from '../services/office.service';\r\nimport { NhModalComponent } from '../../../../../shareds/components/nh-modal/nh-modal.component';\r\nimport { OfficeDetailViewModel } from '../models/office-detail.viewmodel';\r\nimport { IActionResultResponse } from '../../../../../interfaces/iaction-result-response.result';\r\nimport { TreeData } from '../../../../../view-model/tree-data';\r\nimport { BaseListComponent } from '../../../../../base-list.component';\r\nimport { OfficePositionSearchViewModel } from '../models/office-position-search.viewmodel';\r\nimport { IPageId, PAGE_ID } from '../../../../../configs/page-id.config';\r\nimport { ISearchResult } from '../../../../../interfaces/isearch.result';\r\nimport { OfficePositionService } from '../services/office-position.service';\r\nimport { NhSuggestion } from '../../../../../shareds/components/nh-suggestion/nh-suggestion.component';\r\nimport { PositionService } from '../../position/position.service';\r\nimport { PermissionViewModel } from '../../../../../shareds/view-models/permission.viewmodel';\r\nimport { finalize } from 'rxjs/operators';\r\nimport { Location, LocationStrategy, PathLocationStrategy } from '@angular/common';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n    selector: 'app-office-detail',\r\n    templateUrl: './office-detail.component.html',\r\n    providers: [\r\n        OfficePositionService,\r\n        Location, {provide: LocationStrategy, useClass: PathLocationStrategy}\r\n    ]\r\n})\r\n\r\nexport class OfficeDetailComponent extends BaseListComponent<OfficePositionSearchViewModel> implements OnInit {\r\n    @ViewChild('officeDetailModal') officeDetailModal: NhModalComponent;\r\n    @ViewChild('addPositionModal') addPositionModal: NhModalComponent;\r\n    @Output() officeDeleted = new EventEmitter();\r\n    @Output() edited = new EventEmitter();\r\n    officeDetail: OfficeDetailViewModel;\r\n    officeTree: TreeData[] = [];\r\n    subscribers: any = {};\r\n    viewType = 0;\r\n    selectedOfficeId: number;\r\n    officePermission: PermissionViewModel;\r\n    positions: NhSuggestion[] = [];\r\n    selectedPositions: NhSuggestion[] = [];\r\n    isSearchingPositions = false;\r\n\r\n    constructor(@Inject(PAGE_ID) private pageId: IPageId,\r\n                private location: Location,\r\n                private router: Router,\r\n                private positionService: PositionService,\r\n                private officePositionService: OfficePositionService,\r\n                private officeService: OfficeService) {\r\n        super();\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.officePermission = this.appService.getPermissionByPageId(this.pageId.OFFICE);\r\n    }\r\n\r\n    onModalShown() {\r\n        this.subscribers.getTree = this.officeService.getTree()\r\n            .subscribe((result: TreeData[]) => this.officeTree = result);\r\n\r\n        this.viewType = 0;\r\n    }\r\n\r\n    onModalHidden() {\r\n        this.location.go('/organization/offices');\r\n    }\r\n\r\n    onNodeSelected(node: TreeData) {\r\n        this.selectedOfficeId = node.id;\r\n        this.getDataByViewType();\r\n    }\r\n\r\n    edit() {\r\n        this.officeDetailModal.dismiss();\r\n        this.edited.emit(this.officeDetail.id);\r\n    }\r\n\r\n    deleteOffice() {\r\n        this.officeService.delete(this.officeDetail.id)\r\n            .subscribe(() => {\r\n                this.officeDeleted.emit();\r\n            });\r\n    }\r\n\r\n    changeViewType(viewType: number) {\r\n        if (this.viewType === viewType) {\r\n            return;\r\n        }\r\n        if (viewType === 1) {\r\n            this.keyword = '';\r\n        }\r\n        this.viewType = viewType;\r\n        this.getDataByViewType();\r\n    }\r\n\r\n    showDetail(officeId: number) {\r\n        this.selectedOfficeId = officeId;\r\n        this.getDetail();\r\n        this.officeDetailModal.open();\r\n    }\r\n\r\n    closeModal() {\r\n        this.officeDetailModal.dismiss();\r\n    }\r\n\r\n    getDetail() {\r\n        this.subscribers.getDetail = this.officeService.getDetail(this.selectedOfficeId)\r\n            .subscribe((result: IActionResultResponse<OfficeDetailViewModel>) => {\r\n                this.officeDetail = result.data;\r\n            });\r\n    }\r\n\r\n    searchPosition(currentPage: number) {\r\n        this.currentPage = currentPage;\r\n        this.subscribers.searchPositions = this.officePositionService\r\n            .search(this.keyword, this.selectedOfficeId, this.currentPage, this.pageSize)\r\n            .subscribe((result: ISearchResult<OfficePositionSearchViewModel>) => {\r\n                this.totalRows = result.totalRows;\r\n                this.listItems = result.items;\r\n            });\r\n    }\r\n\r\n    deletePosition(positionId: string) {\r\n        this.subscribers.deletePosition = this.officePositionService.delete(positionId, this.officeDetail.id)\r\n            .subscribe(() => this.searchPosition(this.currentPage));\r\n    }\r\n\r\n    searchPositionForSuggestion(keyword: string) {\r\n        this.isSearchingPositions = true;\r\n        this.subscribers.searchForSuggestion =\r\n            this.positionService.searchForSuggestion(keyword)\r\n                .pipe(finalize(() => this.isSearchingPositions = false))\r\n                .subscribe((result: NhSuggestion[]) => this.positions = result);\r\n    }\r\n\r\n    showAddPositionModal() {\r\n        this.addPositionModal.open();\r\n    }\r\n\r\n    acceptAddPosition() {\r\n        this.officePositionService\r\n            .insert(this.selectedOfficeId, this.selectedPositions.map((item: NhSuggestion) => {\r\n                return item.id as string;\r\n            }))\r\n            .subscribe(() => {\r\n                this.addPositionModal.dismiss();\r\n                this.searchPosition(1);\r\n            });\r\n    }\r\n\r\n    onAddPositionModalShown() {\r\n        this.selectedPositions = [];\r\n    }\r\n\r\n    private getDataByViewType() {\r\n        switch (this.viewType) {\r\n            case 0:\r\n                this.getDetail();\r\n                break;\r\n            case 1:\r\n                this.searchPosition(1);\r\n                break;\r\n            default:\r\n                this.getDetail();\r\n                break;\r\n        }\r\n    }\r\n}\r\n","module.exports = \"<nh-modal #officeFormModal size=\\\"full\\\"\\r\\n          (shown)=\\\"onModalShow()\\\"\\r\\n          (hidden)=\\\"onModalHidden()\\\">\\r\\n    <nh-modal-header>\\r\\n        {isUpdate, select, 0 {Add new office} 1 {Update office} other {}}\\r\\n    </nh-modal-header>\\r\\n    <form class=\\\"form-horizontal\\\" (ngSubmit)=\\\"save()\\\" [formGroup]=\\\"model\\\">\\r\\n        <nh-modal-content>\\r\\n            <div class=\\\"row\\\">\\r\\n                <div class=\\\"col-sm-4\\\">\\r\\n                    <div class=\\\"portlet light bordered\\\">\\r\\n                        <div class=\\\"portlet-title\\\">\\r\\n                            <div class=\\\"caption font-green-sharp\\\">\\r\\n                                <i class=\\\"icon-speech font-green-sharp\\\"></i>\\r\\n                                <span class=\\\"caption-subject font-blue-madison bold uppercase\\\"\\r\\n                                      i18n=\\\"@@officeOrganizationTitle\\\">Office organization</span>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"portlet-body\\\">\\r\\n                            <nh-tree [data]=\\\"officeTree\\\">\\r\\n                            </nh-tree>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <!-- END: .col-sm-4 -->\\r\\n                <div class=\\\"col-sm-8\\\">\\r\\n                    <div class=\\\"portlet light bordered\\\">\\r\\n                        <div class=\\\"portlet-title\\\">\\r\\n                            <div class=\\\"caption font-green-sharp\\\">\\r\\n                                <i class=\\\"icon-speech font-green-sharp\\\"></i>\\r\\n                                <span class=\\\"caption-subject font-blue-madison bold uppercase\\\"\\r\\n                                      i18n=\\\"@@officeOrganizationFormTitle\\\">\\r\\n                                    {isUpdate, select, 0 {Add new office} 1 {Update office} other {}}\\r\\n                                </span>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"portlet-body\\\">\\r\\n                            <div class=\\\"tabbable-custom\\\">\\r\\n                                <ul class=\\\"nav nav-tabs \\\">\\r\\n                                    <li [class.active]=\\\"item.id === currentLanguage\\\"\\r\\n                                        *ngFor=\\\"let item of languages; let i = index\\\">\\r\\n                                        <a href=\\\"javascript://\\\" (click)=\\\"currentLanguage = item.id\\\">\\r\\n                                            {{ item.name }}\\r\\n                                        </a>\\r\\n                                    </li>\\r\\n                                </ul>\\r\\n                                <div class=\\\"tab-content\\\" formArrayName=\\\"modelTranslations\\\">\\r\\n                                    <div class=\\\"tab-pane active\\\">\\r\\n                                        <div class=\\\"form-group\\\">\\r\\n                                            <label i18n-ghmLabel=\\\"@@parentOffice\\\" ghmLabel=\\\"Parent office\\\"\\r\\n                                                   class=\\\"col-sm-3 control-label\\\"></label>\\r\\n                                            <div class=\\\"col-sm-3\\\" [formGroup]=\\\"model\\\">\\r\\n                                                <nh-dropdown-tree\\r\\n                                                    [data]=\\\"officeTree\\\" i18n-title=\\\"@@selectParentOffice\\\"\\r\\n                                                    title=\\\"-- Select parent office --\\\"\\r\\n                                                    formControlName=\\\"parentId\\\">\\r\\n                                                </nh-dropdown-tree>\\r\\n                                            </div>\\r\\n                                            <span\\r\\n                                                [class.has-error]=\\\"formErrors?.code\\\">\\r\\n                                                <label i18n-ghmLabel=\\\"@@officeCode\\\" ghmLabel=\\\"Office code\\\"\\r\\n                                                       class=\\\"col-sm-3 control-label\\\" [required]=\\\"true\\\"></label>\\r\\n                                                <div class=\\\"col-sm-3\\\" [formGroup]=\\\"model\\\">\\r\\n                                                    <input type=\\\"text\\\" class=\\\"form-control\\\"\\r\\n                                                           i18n-placeholder=\\\"@@enterOfficeCodePlaceHolder\\\"\\r\\n                                                           placeholder=\\\"Enter office code please.\\\"\\r\\n                                                           formControlName=\\\"code\\\">\\r\\n                                                    <span class=\\\"help-block\\\">\\r\\n                                                        {\\r\\n                                                            formErrors?.code, select,\\r\\n                                                            required {Office code is required}\\r\\n                                                            maxlength {Office code not allowed over 50 characters}\\r\\n                                                            pattern {Office code just only contain characters a-z, A-Z, 0-9}\\r\\n                                                        }\\r\\n                                                    </span>\\r\\n                                                </div>\\r\\n                                            </span>\\r\\n                                        </div>\\r\\n                                        <div class=\\\"form-group\\\"\\r\\n                                             *ngFor=\\\"let modelTranslation of modelTranslations.controls; index as i\\\"\\r\\n                                             [hidden]=\\\"modelTranslation.value.languageId !== currentLanguage\\\"\\r\\n                                             [formGroupName]=\\\"i\\\">\\r\\n                                            <span\\r\\n                                                [class.has-error]=\\\"translationFormErrors[modelTranslation.value.languageId]?.name\\\">\\r\\n                                                <label i18n-ghmLabel=\\\"@@officeName\\\" ghmLabel=\\\"Office name\\\"\\r\\n                                                       class=\\\"col-sm-3 control-label\\\" [required]=\\\"true\\\"></label>\\r\\n                                                <div class=\\\"col-sm-3\\\">\\r\\n                                                    <input type=\\\"text\\\" class=\\\"form-control\\\"\\r\\n                                                           i18n-placeholder=\\\"@@enterOfficeNamePlaceHolder\\\"\\r\\n                                                           placeholder=\\\"Enter office name.\\\"\\r\\n                                                           formControlName=\\\"name\\\">\\r\\n                                                    <span class=\\\"help-block\\\">\\r\\n                                                        { translationFormErrors[modelTranslation.value.languageId]?.name, select, required {Office name is required} maxlength {Office\\r\\n                                                        name not allowed over 256 characters} }\\r\\n                                                    </span>\\r\\n                                                </div>\\r\\n                                            </span>\\r\\n                                            <span\\r\\n                                                [class.has-error]=\\\"translationFormErrors[modelTranslation.value.languageId]?.shortName\\\">\\r\\n                                                <label i18n-ghmLabel=\\\"@@shortName\\\" ghmLabel=\\\"Short name\\\"\\r\\n                                                       class=\\\"col-sm-3 control-label\\\" [required]=\\\"true\\\"></label>\\r\\n                                                <div class=\\\"col-sm-3\\\">\\r\\n                                                    <input type=\\\"text\\\" class=\\\"form-control\\\"\\r\\n                                                           i18n-placeholder=\\\"@@enterShortNamePlaceHolder\\\"\\r\\n                                                           placeholder=\\\"Enter short name please.\\\"\\r\\n                                                           formControlName=\\\"shortName\\\">\\r\\n                                                    <span class=\\\"help-block\\\">\\r\\n                                                        { translationFormErrors[modelTranslation.value.languageId]?.shortName, select, required {Short name is required} maxlength\\r\\n                                                        {Short name not allowed over 50 characters} }\\r\\n                                                    </span>\\r\\n                                                </div>\\r\\n                                            </span>\\r\\n                                        </div>\\r\\n                                        <div class=\\\"form-group\\\" [formGroup]=\\\"model\\\">\\r\\n                                            <label i18n-ghmLabel=\\\"@@officeType\\\" ghmLabel=\\\"Office type\\\"\\r\\n                                                   class=\\\"col-sm-3 control-label\\\" [required]=\\\"true\\\"></label>\\r\\n                                            <div class=\\\"col-sm-3\\\">\\r\\n                                                <nh-select [data]=\\\"officeTypes\\\" i18n-title=\\\"@@selectOfficeType\\\"\\r\\n                                                           title=\\\"-- Select office type --\\\"\\r\\n                                                           formControlName=\\\"officeType\\\"></nh-select>\\r\\n                                                <span class=\\\"help-block\\\">\\r\\n                                                    { formErrors?.officeType, select, required {Please select office type} }\\r\\n                                                </span>\\r\\n                                            </div>\\r\\n                                            <label i18n-ghmLabel=\\\"@@status\\\" ghmLabel=\\\"Status\\\"\\r\\n                                                   class=\\\"col-sm-3 control-label\\\" [required]=\\\"true\\\"></label>\\r\\n                                            <div class=\\\"col-sm-3\\\">\\r\\n                                                <mat-slide-toggle color=\\\"primary\\\" formControlName=\\\"isActive\\\"\\r\\n                                                                  i18n=\\\"@@isActive\\\">\\r\\n                                                    {model.value.isActive, select, 0 {Inactive} 1 {Active}}\\r\\n                                                </mat-slide-toggle>\\r\\n                                            </div>\\r\\n                                        </div>\\r\\n                                        <div class=\\\"form-group\\\"\\r\\n                                             [hidden]=\\\"modelTranslation.value.languageId !== currentLanguage\\\"\\r\\n                                             *ngFor=\\\"let modelTranslation of modelTranslations.controls; index as i\\\"\\r\\n                                             [formGroupName]=\\\"i\\\"\\r\\n                                             [class.has-error]=\\\"translationFormErrors[modelTranslation.value.languageId]?.description\\\">\\r\\n                                            <label i18n=\\\"@@description\\\" i18n-ghmLabel ghmLabel=\\\"Description\\\"\\r\\n                                                   class=\\\"col-sm-3 control-label\\\"></label>\\r\\n                                            <div class=\\\"col-sm-9\\\">\\r\\n                                                <textarea class=\\\"form-control\\\" rows=\\\"3\\\" formControlName=\\\"description\\\"\\r\\n                                                          i18n=\\\"@@enterDescriptionPlaceholder\\\" i18n-placeholder\\r\\n                                                          placeholder=\\\"Enter description.\\\"></textarea>\\r\\n                                                <span class=\\\"help-block\\\">\\r\\n                                                    { translationFormErrors[modelTranslation.value.languageId]?.description, select, maxlength {Title description not allowed\\r\\n                                                    over 500 characters} }\\r\\n                                                </span>\\r\\n                                            </div>\\r\\n                                        </div>\\r\\n                                        <div class=\\\"form-group\\\"\\r\\n                                             [hidden]=\\\"modelTranslation.value.languageId !== currentLanguage\\\"\\r\\n                                             *ngFor=\\\"let modelTranslation of modelTranslations.controls; index as i\\\"\\r\\n                                             [formGroupName]=\\\"i\\\"\\r\\n                                             [class.has-error]=\\\"translationFormErrors[modelTranslation.value.languageId]?.address\\\">\\r\\n                                            <label i18n=\\\"@@address\\\" i18n-ghmLabel ghmLabel=\\\"Address\\\"\\r\\n                                                   class=\\\"col-sm-3 control-label\\\"></label>\\r\\n                                            <div class=\\\"col-sm-9\\\">\\r\\n                                                <textarea class=\\\"form-control\\\" rows=\\\"3\\\" formControlName=\\\"address\\\"\\r\\n                                                          i18n=\\\"@@enterAddressPlaceholder\\\" i18n-placeholder\\r\\n                                                          placeholder=\\\"Enter address.\\\"></textarea>\\r\\n                                                <span class=\\\"help-block\\\">\\r\\n                                                    { translationFormErrors[modelTranslation.value.languageId]?.description, select, maxlength {Title description not allowed\\r\\n                                                    over 500 characters} }\\r\\n                                                </span>\\r\\n                                            </div>\\r\\n                                        </div>\\r\\n                                        <div class=\\\"form-group\\\">\\r\\n                                            <div class=\\\"col-sm-12\\\">\\r\\n                                                <app-office-contact\\r\\n                                                    #officeFormContact\\r\\n                                                    [officeId]=\\\"id\\\"\\r\\n                                                    [officeContacts]=\\\"contacts\\\">\\r\\n                                                </app-office-contact>\\r\\n                                            </div>\\r\\n                                        </div>\\r\\n                                    </div>\\r\\n                                    <!-- END: .tab-pane -->\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <!-- END: .col-sm-8 -->\\r\\n            </div>\\r\\n        </nh-modal-content>\\r\\n        <nh-modal-footer>\\r\\n            <mat-checkbox [checked]=\\\"isCreateAnother\\\" (change)=\\\"isCreateAnother = !isCreateAnother\\\"\\r\\n                          *ngIf=\\\"!isUpdate\\\"\\r\\n                          i18n=\\\"@@isCreateAnother\\\"\\r\\n                          class=\\\"cm-mgr-5\\\"\\r\\n                          color=\\\"primary\\\">\\r\\n                Create another\\r\\n            </mat-checkbox>\\r\\n            <ghm-button classes=\\\"btn btn-primary cm-mgr-5\\\"\\r\\n                        [loading]=\\\"isSaving\\\">\\r\\n                <span i18n=\\\"@@Save\\\">Save</span>\\r\\n            </ghm-button>\\r\\n            <ghm-button classes=\\\"btn btn-default\\\"\\r\\n                        nh-dismiss=\\\"true\\\"\\r\\n                        [type]=\\\"'button'\\\"\\r\\n                        [loading]=\\\"isSaving\\\">\\r\\n                <span i18n=\\\"@@close\\\">Close</span>\\r\\n            </ghm-button>\\r\\n        </nh-modal-footer>\\r\\n    </form>\\r\\n</nh-modal>\\r\\n\"","﻿import {\r\n    Component,\r\n    OnInit,\r\n    Input,\r\n    Output,\r\n    EventEmitter,\r\n    Inject,\r\n    ViewChild\r\n} from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { OfficeTitleComponent } from '../office-title/office-title.component';\r\nimport { OfficeService } from '../services/office.service';\r\nimport { Office } from '../models/office.model';\r\nimport { finalize } from 'rxjs/operators';\r\nimport { BaseFormComponent } from '../../../../../base-form.component';\r\nimport { TreeData } from '../../../../../view-model/tree-data';\r\nimport { IPageId, PAGE_ID } from '../../../../../configs/page-id.config';\r\nimport { SpinnerService } from '../../../../../core/spinner/spinner.service';\r\nimport { UtilService } from '../../../../../shareds/services/util.service';\r\nimport { IActionResultResponse } from '../../../../../interfaces/iaction-result-response.result';\r\nimport { NhModalComponent } from '../../../../../shareds/components/nh-modal/nh-modal.component';\r\nimport { OfficeTranslation } from '../models/office-translation.model';\r\nimport { OfficeContact } from '../models/office-contact.model';\r\nimport * as _ from 'lodash';\r\nimport { OfficeEditViewModel } from '../models/office-edit.viewmodel';\r\nimport { Location, LocationStrategy, PathLocationStrategy } from '@angular/common';\r\n\r\n@Component({\r\n    selector: 'app-office-form',\r\n    templateUrl: './office-form.component.html',\r\n    providers: [\r\n        OfficeService,\r\n        Location, {provide: LocationStrategy, useClass: PathLocationStrategy}\r\n    ]\r\n})\r\nexport class OfficeFormComponent extends BaseFormComponent implements OnInit {\r\n    @ViewChild('officeFormModal') officeFormModal: NhModalComponent;\r\n    @ViewChild(OfficeTitleComponent) officeTitleComponent: OfficeTitleComponent;\r\n    @Input() elementId: string;\r\n    @Output() onEditorKeyup = new EventEmitter<any>();\r\n    @Output() onCloseForm = new EventEmitter<any>();\r\n\r\n    office = new Office();\r\n    contact = new OfficeContact();\r\n    contactModel: FormGroup;\r\n    officeTree: TreeData[] = [];\r\n    modelTranslation = new OfficeTranslation();\r\n    contactFormErrors = {};\r\n    contactValidationMessages = {};\r\n\r\n    isGettingTree = false;\r\n    officeTypes = [];\r\n    contacts: OfficeContact[] = [];\r\n\r\n    constructor(@Inject(PAGE_ID) pageId: IPageId,\r\n                private location: Location,\r\n                private fb: FormBuilder,\r\n                private officeService: OfficeService,\r\n                private toastr: ToastrService,\r\n                private spinnerService: SpinnerService,\r\n                private utilService: UtilService) {\r\n        super();\r\n        this.renderOfficeType();\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.office = new Office();\r\n        this.renderForm();\r\n        this.getOfficeTree();\r\n    }\r\n\r\n    onModalShow() {\r\n        this.isModified = false;\r\n    }\r\n\r\n    onModalHidden() {\r\n        this.isUpdate = false;\r\n        this.resetForm();\r\n        this.location.go('/organization/offices');\r\n        if (this.isModified) {\r\n            this.saveSuccessful.emit();\r\n        }\r\n    }\r\n\r\n    add() {\r\n        this.getOfficeTree();\r\n        this.validateModel(false);\r\n        this.officeFormModal.open();\r\n    }\r\n\r\n    edit(id: number) {\r\n        this.isUpdate = true;\r\n        this.id = id;\r\n        this.getDetail(id);\r\n        this.officeFormModal.open();\r\n    }\r\n\r\n    save() {\r\n        const isValid = this.utilService.onValueChanged(\r\n            this.model,\r\n            this.formErrors,\r\n            this.validationMessages,\r\n            true\r\n        );\r\n        const isLanguageValid = this.checkLanguageValid();\r\n        if (isValid && isLanguageValid) {\r\n            this.office = this.model.value;\r\n            this.office.officeContacts = this.contacts;\r\n            this.isSaving = true;\r\n            if (this.isUpdate) {\r\n                this.officeService\r\n                    .update(this.id, this.office)\r\n                    .pipe(\r\n                        finalize(() => (this.isSaving = false)),\r\n                    )\r\n                    .subscribe(() => {\r\n                        this.isModified = true;\r\n                        this.officeFormModal.dismiss();\r\n                    });\r\n            } else {\r\n                this.officeService\r\n                    .insert(this.office)\r\n                    .pipe(\r\n                        finalize(() => (this.isSaving = false)),\r\n                    )\r\n                    .subscribe(() => {\r\n                        this.isModified = true;\r\n                        if (this.isCreateAnother) {\r\n                            this.getOfficeTree();\r\n                            this.resetForm();\r\n                        } else {\r\n                            this.officeFormModal.dismiss();\r\n                        }\r\n                    });\r\n            }\r\n        }\r\n    }\r\n\r\n    // saveContact() {\r\n    //     const isValid = this.validateFormGroup(\r\n    //         this.contactModel,\r\n    //         this.contactFormErrors,\r\n    //         this.contactValidationMessages,\r\n    //         true\r\n    //     );\r\n    //     if (isValid) {\r\n    //         this.contact = this.contactModel.value;\r\n    //         const existsByUserId = _.countBy(\r\n    //             this.contacts,\r\n    //             (contact: OfficeContact) => {\r\n    //                 return contact.userId === this.contact.userId;\r\n    //             }\r\n    //         ).true;\r\n    //         if (existsByUserId && existsByUserId > 0) {\r\n    //             return;\r\n    //         }\r\n    //         if (this.isUpdateContact) {\r\n    //             this.updateContact();\r\n    //         } else {\r\n    //             this.addContact();\r\n    //         }\r\n    //     }\r\n    // }\r\n\r\n    closeForm() {\r\n        this.onCloseForm.emit();\r\n    }\r\n\r\n    reloadTree() {\r\n        this.isGettingTree = true;\r\n        this.officeService.getTree().subscribe((result: any) => {\r\n            this.isGettingTree = false;\r\n            this.officeTree = result;\r\n        });\r\n    }\r\n\r\n    onParentSelect(office: TreeData) {\r\n        this.model.patchValue({parentId: office ? office.id : null});\r\n    }\r\n\r\n    showListTitleTab() {\r\n        this.officeTitleComponent.search(1);\r\n    }\r\n\r\n    private getDetail(id: number) {\r\n        this.subscribers.officeDetail = this.officeService\r\n            .getEditDetail(id)\r\n            .subscribe(\r\n                (result: IActionResultResponse<OfficeEditViewModel>) => {\r\n                    const officeDetail = result.data;\r\n                    if (officeDetail) {\r\n                        this.model.patchValue({\r\n                            code: officeDetail.code,\r\n                            isActive: officeDetail.isActive,\r\n                            order: officeDetail.order,\r\n                            officeType: officeDetail.officeType,\r\n                            parentId: officeDetail.parentId\r\n                        });\r\n                        if (officeDetail.officeTranslations && officeDetail.officeTranslations.length > 0) {\r\n                            this.modelTranslations.controls.forEach(\r\n                                (model: FormGroup) => {\r\n                                    const detail = _.find(\r\n                                        officeDetail.officeTranslations,\r\n                                        (officeTranslation: OfficeTranslation) => {\r\n                                            return (\r\n                                                officeTranslation.languageId ===\r\n                                                model.value.languageId\r\n                                            );\r\n                                        }\r\n                                    );\r\n                                    if (detail) {\r\n                                        model.patchValue(detail);\r\n                                    }\r\n                                }\r\n                            );\r\n                        }\r\n                        if (\r\n                            officeDetail.officeContacts &&\r\n                            officeDetail.officeContacts.length > 0\r\n                        ) {\r\n                            this.contacts = officeDetail.officeContacts;\r\n                        }\r\n                    }\r\n                }\r\n            );\r\n    }\r\n\r\n    private getOfficeTree() {\r\n        this.subscribers.getTree = this.officeService\r\n            .getTree()\r\n            .subscribe((result: TreeData[]) => {\r\n                this.officeTree = result;\r\n            });\r\n    }\r\n\r\n    private renderForm() {\r\n        this.buildForm();\r\n        this.buildContactForm();\r\n        this.renderTranslationFormArray(this.buildFormLanguage);\r\n    }\r\n\r\n    private buildForm() {\r\n        this.formErrors = this.utilService.renderFormError([\r\n            'name',\r\n            'description',\r\n            'code'\r\n        ]);\r\n        this.validationMessages = this.utilService.renderFormErrorMessage([\r\n            {officeType: ['required']},\r\n            {code: ['required', 'maxlength', 'pattern']}\r\n        ]);\r\n        this.model = this.fb.group({\r\n            officeType: [this.office.officeType],\r\n            // 'email': [this.office.email, [\r\n            //     Validators.maxLength(150),\r\n            //     Validators.pattern(\r\n            //         '(([^<>()\\[\\]\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\"]+)*)|(\".+\"))@(([^<>()[\\]\\.,;:\\s@\"]+\\.)+[^<>()[\\]\\.,;:\\s@\"]{2,})'\r\n            //     )\r\n            // ]],\r\n            code: [this.office.code, [\r\n                Validators.required,\r\n                Validators.maxLength(50),\r\n                Validators.pattern('^[a-zA-Z0-9]+$')\r\n            ]],\r\n            order: [this.office.order],\r\n            parentId: [this.office.parentId],\r\n            isActive: [this.office.isActive],\r\n            modelTranslations: this.fb.array([])\r\n        });\r\n        this.model.valueChanges.subscribe(data => this.validateModel(false));\r\n    }\r\n\r\n    private resetForm() {\r\n        this.id = null;\r\n        this.model.patchValue({\r\n            officeType: 0,\r\n            order: 0,\r\n            code: 0,\r\n            parentId: null,\r\n            isActive: true\r\n        });\r\n        this.modelTranslations.controls.forEach((model: FormGroup) => {\r\n            model.patchValue({\r\n                name: '',\r\n                shortName: '',\r\n                description: '',\r\n                address: ''\r\n            });\r\n        });\r\n        this.contacts = [];\r\n        this.clearFormError(this.formErrors);\r\n        this.clearFormError(this.translationFormErrors);\r\n    }\r\n\r\n    private renderOfficeType() {\r\n        this.officeTypes = [\r\n            {id: 0, name: 'Normal'},\r\n            {id: 1, name: 'Hr'},\r\n            {id: 2, name: 'Directors'},\r\n            {id: 3, name: 'Stand alone company'}\r\n        ];\r\n    }\r\n\r\n    private buildContactForm() {\r\n        this.contactFormErrors = this.utilService.renderFormError(['userId']);\r\n        this.contactValidationMessages = this.utilService.renderFormErrorMessage(\r\n            [\r\n                {userId: ['required']},\r\n                {phoneNumber: ['maxlength']},\r\n                {email: ['maxlength']},\r\n                {fax: ['maxlength']}\r\n            ]\r\n        );\r\n        this.contactModel = this.fb.group({\r\n            userId: [this.contact.userId],\r\n            fullName: [this.contact.fullName],\r\n            avatar: [this.contact.avatar],\r\n            phoneNumber: [this.contact.phoneNumber, [Validators.maxLength(50)]],\r\n            email: [this.contact.email, [Validators.maxLength(50)]],\r\n            fax: [this.contact.fax, [Validators.maxLength(50)]]\r\n        });\r\n        this.contactModel.valueChanges.subscribe(() =>\r\n            this.validateFormGroup(\r\n                this.contactModel,\r\n                this.contactFormErrors,\r\n                this.contactValidationMessages,\r\n                false\r\n            )\r\n        );\r\n    }\r\n\r\n    private buildFormLanguage = (language: string) => {\r\n        this.translationFormErrors[language] = this.utilService.renderFormError(\r\n            ['name', 'shortName', 'address', 'description']\r\n        );\r\n        this.translationValidationMessage[\r\n            language\r\n            ] = this.utilService.renderFormErrorMessage([\r\n            {name: ['required', 'maxlength']},\r\n            {description: ['maxlength']},\r\n            {address: ['maxlength']},\r\n            {shortName: ['required', 'maxlength']}\r\n        ]);\r\n        const translationModel = this.fb.group({\r\n            languageId: [language],\r\n            name: [\r\n                this.modelTranslation.name,\r\n                [Validators.required, Validators.maxLength(256)]\r\n            ],\r\n            shortName: [\r\n                this.modelTranslation.shortName,\r\n                [Validators.required, Validators.maxLength(50)]\r\n            ],\r\n            address: [\r\n                this.modelTranslation.address,\r\n                [Validators.maxLength(500)]\r\n            ],\r\n            description: [\r\n                this.modelTranslation.description,\r\n                [Validators.maxLength(500)]\r\n            ]\r\n        });\r\n        translationModel.valueChanges.subscribe((data: any) =>\r\n            this.validateTranslationModel(false)\r\n        );\r\n        return translationModel;\r\n    };\r\n}\r\n","module.exports = \"<div class=\\\"row\\\">\\r\\n    <div class=\\\"col-sm-12 cm-mgb-10\\\">\\r\\n        <form class=\\\"form-inline\\\">\\r\\n            <div class=\\\"form-group\\\">\\r\\n                <!-- TODO: Check this -->\\r\\n                <!--<nh-suggestion-->\\r\\n                    <!--[url]=\\\"'office-title/search'\\\"-->\\r\\n                    <!--[clearAfterSelect]=\\\"true\\\"-->\\r\\n                    <!--[material]=\\\"false\\\"-->\\r\\n                    <!--[placeholder]=\\\"'Nhập tên chức danh cần tìm'\\\"-->\\r\\n                    <!--(onSelectItem)=\\\"onSelectTitle($event)\\\"-->\\r\\n                <!--&gt;</nh-suggestion>-->\\r\\n            </div>\\r\\n        </form>\\r\\n    </div>\\r\\n    <div class=\\\"col-sm-12\\\">\\r\\n        <table class=\\\"table table-bordered table-hover\\\">\\r\\n            <thead>\\r\\n            <tr>\\r\\n                <th class=\\\"middle center w50\\\">STT</th>\\r\\n                <th class=\\\"middle center\\\">Tên chức danh</th>\\r\\n                <th class=\\\"middle center w100\\\">Là trưởng đơn vị</th>\\r\\n                <th class=\\\"middle center w100\\\">Cho phép chọn nhiều</th>\\r\\n                <th class=\\\"middle center w50\\\">Xóa</th>\\r\\n            </tr>\\r\\n            </thead>\\r\\n            <tbody>\\r\\n            <tr *ngFor=\\\"let item of listTitle; let i = index\\\">\\r\\n                <td class=\\\"center\\\">{{i + 1}}</td>\\r\\n                <td>{{item.titleName}}</td>\\r\\n                <td class=\\\"center\\\">\\r\\n                    <i class=\\\"fa fa-check color-green size-18\\\" *ngIf=\\\"item.isLeader\\\"></i>\\r\\n                </td>\\r\\n                <td class=\\\"center\\\">\\r\\n                    <i class=\\\"fa fa-check color-green size-18\\\" *ngIf=\\\"item.isMultiple\\\"></i>\\r\\n                </td>\\r\\n                <td class=\\\"center\\\">\\r\\n                    <button mat-mini-fab color=\\\"warn\\\" type=\\\"button\\\" (click)=\\\"delete(item)\\\">\\r\\n                        <i class=\\\"fa fa-trash-o\\\"></i>\\r\\n                    </button>\\r\\n                </td>\\r\\n            </tr>\\r\\n            </tbody>\\r\\n        </table>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"row\\\">\\r\\n    <div class=\\\"col-sm-12\\\">\\r\\n        <ghm-paging [totalRows]=\\\"totalRows\\\" [currentPage]=\\\"currentPage\\\" [pageShow]=\\\"6\\\" (pageClick)=\\\"search($event)\\\"\\r\\n                [isDisabled]=\\\"isSearching\\\" [pageName]=\\\"'chức danh'\\\"></ghm-paging>\\r\\n    </div>\\r\\n</div>\\r\\n\"","import { Component, OnInit, Input } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { OfficePositionService } from '../services/office-position.service';\r\nimport { BaseComponent } from '../../../../../base.component';\r\n\r\n@Component({\r\n    selector: 'app-office-title-list',\r\n    templateUrl: './office-title.component.html',\r\n    providers: [OfficePositionService]\r\n})\r\nexport class OfficeTitleComponent extends BaseComponent implements OnInit {\r\n    @Input() officeId: number;\r\n    listTitle = [];\r\n    private searchTerm = new Subject<string>();\r\n\r\n    constructor(private toastr: ToastrService,\r\n                private officeTitleService: OfficePositionService) {\r\n        super();\r\n    }\r\n\r\n    ngOnInit() {\r\n        // this.searchTerm.subscribe(term => {\r\n        //     this.isSearching = true;\r\n        //     this.keyword = term;\r\n        //     this.officeTitleService.searchTitleByOfficeId(this.keyword, this.officeId, this.currentPage, this.pageSize)\r\n        //         .subscribe((result: any) => {\r\n        //             if (result) {\r\n        //                 this.isSearching = false;\r\n        //                 this.listTitle = result.items;\r\n        //                 this.totalRows = result.totalRows;\r\n        //             }\r\n        //         });\r\n        // });\r\n    }\r\n\r\n    onSelectTitle(title) {\r\n        // this.isSaving = true;\r\n        // this.officeTitleService.insert(title.id, this.officeId).subscribe(result => {\r\n        //     this.isSaving = false;\r\n        //\r\n        //     if (result === -1) {\r\n        //         this.toastr.error(`Chức danh ${title.name} đã tồn tại trong phòng ban này. Vui lòng kiểm tra lại`);\r\n        //         return;\r\n        //     }\r\n        //\r\n        //     if (result === -2) {\r\n        //         this.toastr.error('Chức danh không tồn tại hoặc đã bị xóa. Vui lòng kiểm tra lại hoặc liên hệ với quản trị viên.');\r\n        //         return;\r\n        //     }\r\n        //\r\n        //     if (result === -3) {\r\n        //         this.toastr.error('Thông tin phòng ban không tồn tại hoặc đã bị xóa. Vui lòng kiểm tra lại hoặc liên hệ với quản trị viên');\r\n        //         return;\r\n        //     }\r\n        //\r\n        //     if (result > 0) {\r\n        //         this.search(1);\r\n        //         this.toastr.success('Thêm chức danh vào phòng ban thành công.');\r\n        //         return;\r\n        //     }\r\n        // });\r\n    }\r\n\r\n    search(currentPage: number) {\r\n        this.currentPage = currentPage;\r\n        this.searchTerm.next(this.keyword);\r\n    }\r\n\r\n    delete(officeTitle) {\r\n        // swal({\r\n        //     title: `Bạn có chắc chắn muốn xóa chức danh: \"${officeTitle.titleName}\" ra khỏi phòng ban này không?`,\r\n        //     text: this.message.deleteWarning,\r\n        //     type: 'warning',\r\n        //     showCancelButton: true,\r\n        //     confirmButtonColor: '#DD6B55',\r\n        //     confirmButtonText: 'Đồng ý',\r\n        //     cancelButtonText: 'Hủy bỏ'\r\n        // }).then((isConfirm: boolean) => {\r\n        //     if (isConfirm) {\r\n        //         this.officeTitleService.delete(officeTitle.titleId, officeTitle.officeId).subscribe(result => {\r\n        //             if (result === -1) {\r\n        //                 this.toastr.error(`Chức danh: \"${officeTitle.titleName}\" không tồn tại trong phòng ban này.`);\r\n        //                 return;\r\n        //             }\r\n        //\r\n        //             if (result === -2) {\r\n        //                 this.toastr.error('Chức danh của phòng ban này đang được người dùng sử dụng. Vui lòng xóa chức danh của người dùng trước khi xóa chức danh trong phòng ban.');\r\n        //                 return;\r\n        //             }\r\n        //\r\n        //             if (result > 0) {\r\n        //                 // this.toastr.success(\"Xóa chức danh khỏi phòng ban thành công.\");\r\n        //                 setTimeout(() => {\r\n        //                     swal({\r\n        //                         title: 'Đã xóa',\r\n        //                         text: 'Xóa chức vụ thành công.',\r\n        //                         type: 'success',\r\n        //                         timer: 1500,\r\n        //                         showConfirmButton: false\r\n        //                     });\r\n        //                 }, 200);\r\n        //                 this.search(this.currentPage);\r\n        //                 return;\r\n        //             }\r\n        //         });\r\n        //     }\r\n        // }, () => {\r\n        // });\r\n    }\r\n}\r\n","module.exports = \"<h1 class=\\\"page-title\\\">\\r\\n    <span class=\\\"cm-mgr-5\\\" i18n=\\\"@@listOfficePageTitle\\\">List office</span>\\r\\n    <small i18n=\\\"@@officeModuleTitle\\\">Office management</small>\\r\\n</h1>\\r\\n\\r\\n<div class=\\\"row\\\">\\r\\n    <div class=\\\"col-sm-12\\\">\\r\\n        <form class=\\\"form-inline cm-mgb-10\\\" (ngSubmit)=\\\"search(1)\\\">\\r\\n            <div class=\\\"form-group cm-mgr-5\\\">\\r\\n                <input type=\\\"text\\\" class=\\\"form-control\\\" i18n=\\\"@@enterKeyword\\\" i18n-placeholder\\r\\n                       placeholder=\\\"Enter keyword.\\\" name=\\\"keyword\\\" [(ngModel)]=\\\"keyword\\\">\\r\\n            </div>\\r\\n            <div class=\\\"form-group cm-mgr-5\\\">\\r\\n                <nh-select\\r\\n                    i18n-title=\\\"@@filterByStatusTitle\\\"\\r\\n                    title=\\\"-- Filter by status --\\\"\\r\\n                    [data]=\\\"listActiveSearch\\\"\\r\\n                    [(value)]=\\\"isActive\\\"\\r\\n                    (onSelectItem)=\\\"search(1)\\\"></nh-select>\\r\\n            </div>\\r\\n            <div class=\\\"form-group cm-mgr-5\\\">\\r\\n                <ghm-button icon=\\\"fa search\\\" classes=\\\"btn btn-primary\\\" [loading]=\\\"isSearching\\\">\\r\\n                    <i class=\\\"fa fa-search\\\"></i>\\r\\n                </ghm-button>\\r\\n            </div>\\r\\n            <div class=\\\"form-group cm-mgr-5\\\">\\r\\n                <button class=\\\"btn btn-default\\\" (click)=\\\"refresh()\\\">\\r\\n                    <i class=\\\"fa fa-refresh\\\"></i>\\r\\n                </button>\\r\\n            </div>\\r\\n            <div class=\\\"form-group pull-right\\\">\\r\\n                <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" (click)=\\\"add()\\\"\\r\\n                        i18n=\\\"@@add\\\" *ngIf=\\\"permission.add\\\">\\r\\n                    Add\\r\\n                </button>\\r\\n            </div>\\r\\n        </form>\\r\\n    </div>\\r\\n    <div class=\\\"col-sm-12\\\">\\r\\n        <table class=\\\"table table-hover table-stripped\\\">\\r\\n            <thead>\\r\\n            <tr>\\r\\n                <th class=\\\"center middle w50\\\" i18n=\\\"@@no\\\">No</th>\\r\\n                <th class=\\\"middle\\\" i18n=\\\"@@officeName\\\">Office name</th>\\r\\n                <th class=\\\"middle\\\" i18n=\\\"@@parentOffice\\\">Parent office</th>\\r\\n                <th class=\\\"middle\\\" i18n=\\\"@@officeCode\\\">Office code</th>\\r\\n                <th class=\\\"middle\\\" i18n=\\\"@@officeCode\\\">Office type</th>\\r\\n                <th class=\\\"middle w50\\\" i18n=\\\"@@activeStatus\\\">Active status</th>\\r\\n                <th class=\\\"text-right middle w150\\\" i18n=\\\"@@actions\\\" *ngIf=\\\"permission.edit || permission.delete\\\">\\r\\n                    Actions\\r\\n                </th>\\r\\n            </tr>\\r\\n            </thead>\\r\\n            <tbody>\\r\\n            <tr *ngFor=\\\"let office of listItems$ | async; let i = index\\\">\\r\\n                <td class=\\\"center middle\\\">{{ (currentPage - 1) * pageSize + i + 1 }}</td>\\r\\n                <td class=\\\"middle\\\">\\r\\n                    <!--<i *ngFor=\\\"let item of createRange(office.level)\\\"-->\\r\\n                    <!--class=\\\"fa fa-long-arrow-right cm-mgr-5 color-blue\\\"></i>-->\\r\\n                    <a href=\\\"javasript://\\\" (click)=\\\"edit(office.id)\\\"\\r\\n                       *ngIf=\\\"permission.edit; else officeNameWithoutEdit\\\">\\r\\n                        <span [innerHTML]=\\\"office.nameLevel\\\"></span>\\r\\n                        {{office.name}}\\r\\n                    </a>\\r\\n                    <ng-template #officeNameWithoutEdit>\\r\\n                        {{ office.name }}\\r\\n                    </ng-template>\\r\\n                </td>\\r\\n                <td class=\\\"middle\\\">\\r\\n                    {{ office.parentName }}\\r\\n                </td>\\r\\n                <td class=\\\"middle\\\">{{ office.code }}</td>\\r\\n                <td class=\\\"middle\\\">\\r\\n                        <span i18n=\\\"@@officeType\\\" class=\\\"badge\\\"\\r\\n                              [class.badge-info]=\\\"office.officeType == 0\\\"\\r\\n                              [class.badge-success]=\\\"office.officeType == 1\\\"\\r\\n                              [class.badge-danger]=\\\"office.officeType == 2\\\"\\r\\n                              [class.badge-warning]=\\\"office.officeType == 3\\\"\\r\\n                        >\\r\\n                            {office.officeType, plural, =0 {Normal} =1 {Hr} =2 {Director} =3 {Stand alone company} other {N/A}}\\r\\n                        </span>\\r\\n                </td>\\r\\n                <td class=\\\"middle\\\">\\r\\n                        <span class=\\\"badge\\\" [class.badge-danger]=\\\"!office.isActive\\\"\\r\\n                              [class.badge-success]=\\\"office.isActive\\\">{office.activeStatus, select, active {Activated} inActive {In active}}</span>\\r\\n                </td>\\r\\n                <td class=\\\"text-right middle\\\" *ngIf=\\\"permission.edit || permission.delete\\\">\\r\\n                    <ghm-button *ngIf=\\\"permission.edit\\\" icon=\\\"fa fa-eye\\\" classes=\\\"btn btn-default btn-sm\\\"\\r\\n                                (clicked)=\\\"detail(office.id)\\\"></ghm-button>\\r\\n                    <ghm-button *ngIf=\\\"permission.edit\\\" icon=\\\"fa fa-edit\\\" classes=\\\"btn btn-primary btn-sm\\\"\\r\\n                                (clicked)=\\\"edit(office.id)\\\"></ghm-button>\\r\\n                    <ghm-button *ngIf=\\\"permission.delete\\\" icon=\\\"fa fa-trash-o\\\" classes=\\\"btn btn-danger btn-sm\\\"\\r\\n                                [swal]=\\\"confirmDeleteOffice\\\" (confirm)=\\\"delete(office.id)\\\"></ghm-button>\\r\\n                </td>\\r\\n            </tr>\\r\\n            </tbody>\\r\\n        </table>\\r\\n        <ghm-paging\\r\\n            [totalRows]=\\\"totalRows\\\"\\r\\n            [currentPage]=\\\"currentPage\\\"\\r\\n            [pageSize]=\\\"pageSize\\\"\\r\\n            [pageShow]=\\\"6\\\"\\r\\n            [isDisabled]=\\\"isSearching\\\"\\r\\n            (pageClick)=\\\"search($event)\\\"></ghm-paging>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<app-office-form (saveSuccessful)=\\\"search(1)\\\"></app-office-form>\\r\\n<app-office-detail (edited)=\\\"edit($event)\\\"></app-office-detail>\\r\\n<swal #confirmDeleteOffice\\r\\n      i18n-title=\\\"@@confirmDeleteOfficeTitle\\\"\\r\\n      i18n-text=\\\"@@confirmDeleteOfficeText\\\"\\r\\n      title=\\\"Are you sure for delete this office?\\\"\\r\\n      text=\\\"You can't recover this office after delete.\\\"\\r\\n      type=\\\"question\\\"\\r\\n      i18n-confirmButtonText=\\\"@@accept\\\"\\r\\n      i18n-cancelButtonText=\\\"@@cancel\\\"\\r\\n      confirmButtonText=\\\"Accept\\\"\\r\\n      cancelButtonText=\\\"Cancel\\\"\\r\\n      [showCancelButton]=\\\"true\\\">\\r\\n</swal>\\r\\n\"","﻿import {\r\n    Component,\r\n    OnInit,\r\n    Inject,\r\n    ViewChild, AfterViewInit,\r\n} from '@angular/core';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { Title } from '@angular/platform-browser';\r\nimport { finalize, map } from 'rxjs/operators';\r\nimport { OfficeService } from './services/office.service';\r\nimport { Office } from './models/office.model';\r\nimport { NhTabComponent } from '../../../../shareds/components/nh-tab/nh-tab.component';\r\nimport { BaseListComponent } from '../../../../base-list.component';\r\nimport { IPageId, PAGE_ID } from '../../../../configs/page-id.config';\r\nimport { SpinnerService } from '../../../../core/spinner/spinner.service';\r\nimport { UtilService } from '../../../../shareds/services/util.service';\r\nimport { OfficeSearchViewModel } from './models/office-search.viewmodel';\r\nimport { ISearchResult } from '../../../../interfaces/isearch.result';\r\nimport { OfficeFormComponent } from './office-form/office-form.component';\r\nimport { OfficeDetailComponent } from './office-detail/office-detail.component';\r\nimport { NhSuggestion } from '../../../../shareds/components/nh-suggestion/nh-suggestion.component';\r\nimport { FilterLink } from '../../../../shareds/models/filter-link.model';\r\nimport { Location, LocationStrategy, PathLocationStrategy } from '@angular/common';\r\n\r\n@Component({\r\n    selector: 'app-office',\r\n    templateUrl: './office.component.html',\r\n    providers: [\r\n        OfficeService,\r\n        Location, {provide: LocationStrategy, useClass: PathLocationStrategy}\r\n    ]\r\n})\r\n\r\nexport class OfficeComponent extends BaseListComponent<OfficeSearchViewModel> implements OnInit, AfterViewInit {\r\n    @ViewChild(NhTabComponent) tabComponent: NhTabComponent;\r\n    @ViewChild(OfficeFormComponent) officeFormComponent: OfficeFormComponent;\r\n    @ViewChild(OfficeDetailComponent) officeDetailComponent: OfficeDetailComponent;\r\n    status?: number = null;\r\n    isActive: boolean;\r\n    listActiveSearch: any = [];\r\n\r\n    // Test.\r\n    data = [];\r\n\r\n    constructor(@Inject(PAGE_ID) public pageId: IPageId,\r\n                private location: Location,\r\n                private route: ActivatedRoute,\r\n                private router: Router,\r\n                private title: Title,\r\n                private spinnerService: SpinnerService,\r\n                private utilService: UtilService,\r\n                private officeService: OfficeService) {\r\n        super();\r\n        this.subscribers.getListActiveSearch = this.appService.getListActiveSearch()\r\n            .subscribe(result => this.listActiveSearch = result);\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.appService.setupPage(\r\n            this.pageId.HR,\r\n            this.pageId.OFFICE\r\n        );\r\n        this.listItems$ = this.route.data.pipe(\r\n            map((result: { data: ISearchResult<OfficeSearchViewModel> }) => {\r\n                const data = result.data;\r\n                this.totalRows = data.totalRows;\r\n                return data.items;\r\n            })\r\n        );\r\n        this.officeService.searchForSuggestion('')\r\n            .subscribe((result: NhSuggestion[]) => this.data = result);\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        this.subscribers.queryParams = this.route.queryParams.subscribe(params => {\r\n            const url = this.router.url;\r\n            const id = params.id;\r\n            if (url.indexOf('detail') > -1 && id) {\r\n                setTimeout(() => this.detail(id));\r\n            }\r\n            if (url.indexOf('edit') && id) {\r\n                setTimeout(() => this.edit(id));\r\n            }\r\n        });\r\n    }\r\n\r\n    onSuggestionSearched(keyword: string) {\r\n        this.officeService.searchForSuggestion(keyword)\r\n            .subscribe((result: NhSuggestion[]) => this.data = result);\r\n    }\r\n\r\n    search(currentPage) {\r\n        this.currentPage = currentPage;\r\n        this.isSearching = true;\r\n        this.renderFilterLink();\r\n        this.listItems$ = this.officeService\r\n            .search(\r\n                this.keyword,\r\n                this.isActive,\r\n                this.currentPage,\r\n                this.pageSize\r\n            )\r\n            .pipe(\r\n                finalize(() => (this.isSearching = false)),\r\n                map((result: ISearchResult<OfficeSearchViewModel>) => {\r\n                    this.totalRows = result.totalRows;\r\n                    return result.items;\r\n                })\r\n            );\r\n    }\r\n\r\n    refresh() {\r\n        this.keyword = '';\r\n        this.isActive = null;\r\n    }\r\n\r\n    add() {\r\n        this.officeFormComponent.add();\r\n    }\r\n\r\n    edit(officeId: number) {\r\n        this.location.go(`/organization/offices/edit?id=${officeId}`);\r\n        this.officeFormComponent.edit(officeId);\r\n    }\r\n\r\n    detail(officeId: number) {\r\n        this.location.go(`/organization/offices/detail?id=${officeId}`);\r\n        this.officeDetailComponent.showDetail(officeId);\r\n    }\r\n\r\n    delete(officeId: number) {\r\n        this.subscribers.deleteOffice = this.officeService.delete(officeId)\r\n            .subscribe(() => this.search(1));\r\n    }\r\n\r\n    onChangeActiveStatus(office: Office) {\r\n        office.isActive = !office.isActive;\r\n\r\n        // this.officeService.updateIsActive(office).subscribe((result: IActionResultResponse) => {\r\n        //     // if (result === -1) {\r\n        //     //     this.toastr.error(this.formatString(this.message.notExists, 'Phòng ban'));\r\n        //     //     return;\r\n        //     // }\r\n        //     //\r\n        //     // if (result > 0) {\r\n        //     //     this.toastr.success(`${office.isActive ? 'Kích hoạt' : 'Bỏ kích hoạt'} phòng ban \"${office.name}\" thành công.`);\r\n        //     //     return;\r\n        //     // }\r\n        //     //\r\n        //     // if (result === 0) {\r\n        //     //     this.toastr.warning('Vui lòng thay đổi trạng thái của phòng ban');\r\n        //     //     return;\r\n        //     // }\r\n        //\r\n        //     this.toastr.warning(result.message, result.title);\r\n        //     return;\r\n        // });\r\n    }\r\n\r\n    onTabClosed(data: { id: string; active: boolean }) {\r\n        if (data.active) {\r\n            this.search(this.currentPage);\r\n            this.tabComponent.setTabActiveById('tabListOffice');\r\n        }\r\n    }\r\n\r\n    createRange(number) {\r\n        const items = [];\r\n        for (let i = 1; i <= number; i++) {\r\n            items.push(i);\r\n        }\r\n        return items;\r\n    }\r\n\r\n    private renderFilterLink() {\r\n        const path = '/organization/offices';\r\n        const query = this.utilService.renderLocationFilter([\r\n            new FilterLink('keyword', this.keyword),\r\n            new FilterLink('page', this.currentPage),\r\n            new FilterLink('pageSize', this.pageSize)\r\n        ]);\r\n        this.location.go(path, query);\r\n    }\r\n}\r\n","﻿import { IActionResultResponse } from './../../../../../interfaces/iaction-result-response.result';\r\nimport { Inject, Injectable } from '@angular/core';\r\nimport { ActivatedRouteSnapshot, Resolve } from '@angular/router';\r\nimport { Observable } from 'rxjs';\r\nimport { map, finalize } from 'rxjs/operators';\r\nimport { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { Office } from '../models/office.model';\r\nimport { APP_CONFIG, IAppConfig } from '../../../../../configs/app.config';\r\nimport { ISearchResult } from '../../../../../interfaces/isearch.result';\r\nimport { OfficeSearchViewModel } from '../models/office-search.viewmodel';\r\nimport { OfficeDetailViewModel } from '../models/office-detail.viewmodel';\r\nimport { TreeData } from '../../../../../view-model/tree-data';\r\nimport { OfficeContact } from '../models/office-contact.model';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { SpinnerService } from '../../../../../core/spinner/spinner.service';\r\nimport { OfficeSuggestionViewModel } from '../models/office-suggestion.viewmodel';\r\nimport { NhSuggestion } from '../../../../../shareds/components/nh-suggestion/nh-suggestion.component';\r\nimport { OfficeEditViewModel } from '../models/office-edit.viewmodel';\r\n\r\n@Injectable()\r\nexport class OfficeService implements Resolve<Office> {\r\n    url = 'offices/';\r\n\r\n    constructor(@Inject(APP_CONFIG) private appConfig: IAppConfig,\r\n                private spinnerService: SpinnerService,\r\n                private toastr: ToastrService,\r\n                private http: HttpClient) {\r\n        this.url = `${appConfig.HR_API_URL}${this.url}`;\r\n    }\r\n\r\n    resolve(route: ActivatedRouteSnapshot, state: Object): any {\r\n        const queryParams = route.queryParams;\r\n        return this.search(\r\n            queryParams.keyword,\r\n            queryParams.isActive,\r\n            queryParams.page,\r\n            queryParams.pageSize\r\n        );\r\n    }\r\n\r\n    search(keyword: string,\r\n           isActive?: boolean,\r\n           page: number = 1,\r\n           pageSize: number = 10): Observable<ISearchResult<OfficeSearchViewModel>> {\r\n        return this.http\r\n            .get(`${this.url}`, {\r\n                params: new HttpParams()\r\n                    .set('keyword', keyword ? keyword : '')\r\n                    .set(\r\n                        'isActive',\r\n                        isActive != null ? isActive.toString() : ''\r\n                    )\r\n                    .set('page', page ? page.toString() : '0')\r\n                    .set('pageSize', pageSize ? pageSize.toString() : this.appConfig.PAGE_SIZE.toString())\r\n            })\r\n            .pipe(\r\n                map((result: ISearchResult<OfficeSearchViewModel>) => {\r\n                    result.items.forEach((item: OfficeSearchViewModel) => {\r\n                        item.activeStatus = item.isActive\r\n                            ? 'active'\r\n                            : 'inActive';\r\n                        const level = item.idPath.split('.');\r\n                        item.nameLevel = '';\r\n                        for (let i = 1; i < level.length; i++) {\r\n                            item.nameLevel += '<i class=\"fa fa-long-arrow-right cm-mgr-5\"></i>';\r\n                        }\r\n                    });\r\n                    return result;\r\n                })\r\n            ) as Observable<ISearchResult<OfficeSearchViewModel>>;\r\n    }\r\n\r\n    searchName(keyword: string,\r\n               isActive?: boolean,\r\n               page: number = 1,\r\n               pageSize: number = 20): Observable<any> {\r\n        return this.http.get(`${this.url}`, {\r\n            params: new HttpParams()\r\n                .set('keyword', keyword ? keyword : '')\r\n                .set('isActive', isActive != null ? isActive.toString() : '')\r\n                .set('page', page ? page.toString() : '0')\r\n                .set('pageSize', pageSize ? pageSize.toString() : '10')\r\n        });\r\n    }\r\n\r\n    getDetail(id: number): Observable<IActionResultResponse<OfficeDetailViewModel>> {\r\n        this.spinnerService.show();\r\n        return this.http.get(`${this.url}${id}`).pipe(\r\n            finalize(() => this.spinnerService.hide()),\r\n            map((result: IActionResultResponse<OfficeDetailViewModel>) => {\r\n                const data = result.data;\r\n                data.activeStatus = data.isActive ? 'active' : 'inActive';\r\n                return result;\r\n            })\r\n        ) as Observable<IActionResultResponse<OfficeDetailViewModel>>;\r\n    }\r\n\r\n    getEditDetail(id: number): Observable<IActionResultResponse<OfficeEditViewModel>> {\r\n        this.spinnerService.show();\r\n        return this.http.get(`${this.url}edit/${id}`).pipe(\r\n            finalize(() => this.spinnerService.hide()),\r\n            map((result: IActionResultResponse<OfficeEditViewModel>) => {\r\n                const data = result.data;\r\n                data.activeStatus = data.isActive ? 'active' : 'inActive';\r\n                return result;\r\n            })\r\n        ) as Observable<IActionResultResponse<OfficeEditViewModel>>;\r\n    }\r\n\r\n    insert(office: Office): Observable<IActionResultResponse> {\r\n        return this.http.post(`${this.url}`, {\r\n            isActive: office.isActive,\r\n            code: office.code,\r\n            officeType: office.officeType,\r\n            parentId: office.parentId,\r\n            officeTranslations: office.modelTranslations,\r\n            officeContacts: office.officeContacts\r\n        })\r\n            .pipe(map((result: IActionResultResponse) => {\r\n                this.toastr.success(result.message);\r\n                return result;\r\n            })) as Observable<IActionResultResponse>;\r\n    }\r\n\r\n    update(id: string, office: Office): Observable<IActionResultResponse> {\r\n        return this.http.post(`${this.url}${id}`, {\r\n            isActive: office.isActive,\r\n            code: office.code,\r\n            officeType: office.officeType,\r\n            parentId: office.parentId,\r\n            officeTranslations: office.modelTranslations,\r\n            officeContacts: office.officeContacts\r\n        })\r\n            .pipe(map((result: IActionResultResponse) => {\r\n                this.toastr.success(result.message);\r\n                return result;\r\n            })) as Observable<IActionResultResponse>;\r\n    }\r\n\r\n    // updateIsActive(office: Office): Observable<IActionResultResponse> {\r\n    //     return this.http.post(`${this.url}update-active-status`, '', {\r\n    //         params: new HttpParams()\r\n    //             .set('id', office.id.toString())\r\n    //             .set('isActive', office.isActive.toString())\r\n    //     }) as Observable<IActionResultResponse>;\r\n    // }\r\n\r\n    delete(id: number): Observable<IActionResultResponse> {\r\n        this.spinnerService.show();\r\n        return this.http.delete(`${this.url}${id}`)\r\n            .pipe(\r\n                finalize(() => this.spinnerService.hide()),\r\n                map((result: IActionResultResponse) => {\r\n                    this.toastr.success(result.message);\r\n                    return result;\r\n                }))as Observable<IActionResultResponse>;\r\n    }\r\n\r\n    getTree(): Observable<TreeData[]> {\r\n        return this.http.get(`${this.url}trees`) as Observable<TreeData[]>;\r\n    }\r\n\r\n    getOfficeUserTree() {\r\n        return this.http.get(`${this.url}`);\r\n    }\r\n\r\n    getOfficeUserTreeLazy(parentId: number) {\r\n        return this.http.get(`${this.url}`, {\r\n            params: new HttpParams().set(\r\n                'parentId',\r\n                parentId ? parentId.toString() : ''\r\n            )\r\n        });\r\n    }\r\n\r\n    searchForSuggestion(keyword: string): Observable<NhSuggestion[]> {\r\n        return this.http\r\n            .get(`${this.url}suggestions`, {\r\n                params: new HttpParams()\r\n                    .set('keyword', keyword ? keyword : '')\r\n            })\r\n            .pipe(map((result: ISearchResult<OfficeSuggestionViewModel>) => {\r\n                return result.items.map((item: OfficeSuggestionViewModel) => {\r\n                    return new NhSuggestion(item.id, item.name);\r\n                });\r\n            })) as Observable<NhSuggestion[]>;\r\n    }\r\n\r\n    // Contacts.\r\n    updateContact(officeId: number,\r\n                  id: string,\r\n                  contact: OfficeContact): Observable<IActionResultResponse> {\r\n        return this.http\r\n            .post(`${this.url}${officeId}/contacts/${id}`, {\r\n                userId: contact.userId,\r\n                email: contact.email,\r\n                phoneNumber: contact.phoneNumber,\r\n                fax: contact.fax\r\n            })\r\n            .pipe(\r\n                map((result: IActionResultResponse) => {\r\n                    this.toastr.success(result.message);\r\n                    return result;\r\n                })\r\n            ) as Observable<IActionResultResponse>;\r\n    }\r\n\r\n    addContact(officeId: number, contact: OfficeContact) {\r\n        return this.http\r\n            .post(`${this.url}${officeId}/contacts`, {\r\n                userId: contact.userId,\r\n                email: contact.email,\r\n                phoneNumber: contact.phoneNumber,\r\n                fax: contact.fax\r\n            })\r\n            .pipe(\r\n                map((result: IActionResultResponse) => {\r\n                    this.toastr.success(result.message);\r\n                    return result;\r\n                })\r\n            ) as Observable<IActionResultResponse>;\r\n    }\r\n\r\n    deleteContact(officeId: number, contactId: string): Observable<IActionResultResponse> {\r\n        this.spinnerService.show();\r\n        return this.http\r\n            .delete(`${this.url}${officeId}/contacts/${contactId}`)\r\n            .pipe(\r\n                finalize(() => this.spinnerService.hide()),\r\n                map((result: IActionResultResponse) => {\r\n                    this.toastr.success(result.message);\r\n                    return result;\r\n                })\r\n            );\r\n    }\r\n\r\n    // searchPositions(officeId: number, keyword: string, page: number,\r\n    //                 pageSize: number): Observable<ISearchResult<OfficePositionSearchViewModel>> {\r\n    //     return this.http.get(`${this.url}${officeId}/positions`, {\r\n    //         params: new HttpParams()\r\n    //             .set('keyword', keyword ? keyword : '')\r\n    //             .set('page', page ? page.toString() : '1')\r\n    //             .set('pageSize', pageSize ? pageSize.toString() : '20')\r\n    //     }) as Observable<ISearchResult<OfficePositionSearchViewModel>>;\r\n    // }\r\n    //\r\n    // deletePosition(officeId: number, positionId: string): Observable<IActionResultResponse> {\r\n    //     return this.http.delete(`${this.url}${officeId}/positions/${positionId}`)\r\n    //         .pipe(\r\n    //             map((result: IActionResultResponse) => {\r\n    //                 this.toastr.success(result.message);\r\n    //                 return result;\r\n    //             })\r\n    //         )as Observable<IActionResultResponse>;\r\n    // }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { OfficeComponent } from './office/office.component';\r\nimport { OfficeService } from './office/services/office.service';\r\nimport { TitleComponent } from './title/title.component';\r\nimport { TitleService } from './title/title.service';\r\nimport { PositionComponent } from './position/position.component';\r\nimport { PositionService } from './position/position.service';\r\n\r\nexport const routes: Routes = [\r\n    {\r\n        path: '', component: OfficeComponent,\r\n        resolve: {\r\n            data: OfficeService\r\n        }\r\n    },\r\n    {\r\n        path: 'offices', component: OfficeComponent,\r\n        resolve: {\r\n            data: OfficeService\r\n        },\r\n        children: [\r\n            {path: 'detail', component: OfficeComponent},\r\n            {path: 'edit', component: OfficeComponent},\r\n        ]\r\n    },\r\n    {\r\n        path: 'titles', component: TitleComponent,\r\n        resolve: {\r\n            data: TitleService\r\n        }\r\n    },\r\n    {\r\n        path: 'positions', component: PositionComponent,\r\n        resolve: {\r\n            data: PositionService\r\n        }\r\n    },\r\n];\r\n\r\n@NgModule({\r\n    imports: [RouterModule.forChild(routes)],\r\n    exports: [RouterModule],\r\n    providers: [TitleService, PositionService, OfficeService]\r\n})\r\n\r\nexport class OrganizationRoutingModule {\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { OrganizationRoutingModule } from './organization-routing.module';\r\nimport { TitleComponent } from './title/title.component';\r\nimport { TitleFormComponent } from './title/title-form/title-form.component';\r\nimport { PositionComponent } from './position/position.component';\r\nimport { PositionFormComponent } from './position/position-form/position-form.component';\r\nimport { OfficeComponent } from './office/office.component';\r\nimport { OfficeFormComponent } from './office/office-form/office-form.component';\r\nimport { OfficeDetailComponent } from './office/office-detail/office-detail.component';\r\nimport { NhModalModule } from '../../../shareds/components/nh-modal/nh-modal.module';\r\nimport { GhmPagingModule } from '../../../shareds/components/ghm-paging/ghm-paging.module';\r\nimport { NhSelectModule } from '../../../shareds/components/nh-select/nh-select.module';\r\nimport { CoreModule } from '../../../core/core.module';\r\nimport { OfficeTitleComponent } from './office/office-title/office-title.component';\r\nimport { SweetAlert2Module } from '@toverux/ngx-sweetalert2';\r\nimport { MatCheckboxModule, MatSlideToggleModule, MatTooltipModule } from '@angular/material';\r\nimport { TinymceModule } from '../../../shareds/components/tinymce/tinymce.module';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { NHTreeModule } from '../../../shareds/components/nh-tree/nh-tree.module';\r\nimport { NhSuggestionModule } from '../../../shareds/components/nh-suggestion/nh-suggestion.module';\r\nimport { GhmUserSuggestionModule } from '../../../shareds/components/ghm-user-suggestion/ghm-user-suggestion.module';\r\nimport { OfficeContactComponent } from './office/office-contact/office-contact.component';\r\nimport { OfficeContactFormComponent } from './office/office-contact/office-contact-form.component';\r\n\r\n@NgModule({\r\n    imports: [OrganizationRoutingModule, CommonModule, NhModalModule, GhmPagingModule, NhSelectModule, CoreModule,\r\n        MatCheckboxModule, TinymceModule, ReactiveFormsModule, FormsModule, MatTooltipModule, NHTreeModule, MatSlideToggleModule,\r\n        NhSuggestionModule, GhmUserSuggestionModule,\r\n        SweetAlert2Module.forRoot({\r\n            buttonsStyling: false,\r\n            customClass: 'modal-content',\r\n            confirmButtonClass: 'btn btn-primary',\r\n            cancelButtonClass: 'btn',\r\n            confirmButtonText: 'Đồng ý',\r\n            showCancelButton: true,\r\n            cancelButtonText: 'Hủy bỏ'\r\n        })],\r\n    exports: [],\r\n    declarations: [\r\n        // Titles.\r\n        TitleComponent, TitleFormComponent,\r\n        // Positions.\r\n        PositionComponent, PositionFormComponent,\r\n        // Offices.\r\n        OfficeComponent, OfficeFormComponent, OfficeDetailComponent, OfficeTitleComponent, OfficeContactComponent,\r\n        OfficeContactFormComponent\r\n    ],\r\n    providers: [],\r\n})\r\nexport class OrganizationModule {\r\n}\r\n","export class PositionTranslation {\r\n    languageId: string;\r\n    name: string;\r\n    shortName: string;\r\n    description: string;\r\n    purpose: string;\r\n    otherRequire: string;\r\n    responsibility: string;\r\n}\r\n","module.exports = \"<nh-modal #positionFormModal\\r\\n          size=\\\"md\\\"\\r\\n          (show)=\\\"onModalShown()\\\"\\r\\n          (hidden)=\\\"onModalHidden()\\\">\\r\\n    <nh-modal-header>\\r\\n        <i class=\\\"fa fa-graduation-cap\\\"></i>\\r\\n        <span i18n=\\\"@@positionFormTitle\\\">{isUpdate, select, 1 {Update position} 0 {Add new position}}</span>\\r\\n    </nh-modal-header>\\r\\n    <form class=\\\"form-horizontal\\\" (ngSubmit)=\\\"save()\\\" [formGroup]=\\\"model\\\">\\r\\n        <nh-modal-content>\\r\\n            <div class=\\\"tabbable-custom\\\">\\r\\n                <ul class=\\\"nav nav-tabs \\\" *ngIf=\\\"languages.length > 1\\\">\\r\\n                    <li [class.active]=\\\"item.id === currentLanguage\\\"\\r\\n                        *ngFor=\\\"let item of languages; let i = index\\\">\\r\\n                        <a href=\\\"javascript://\\\" (click)=\\\"currentLanguage = item.id\\\"> {{ item.name }} </a>\\r\\n                    </li>\\r\\n                </ul>\\r\\n                <div class=\\\"tab-content\\\">\\r\\n                    <div class=\\\"tab-pane active\\\">\\r\\n                        <div class=\\\"form-group\\\"\\r\\n                             [class.has-error]=\\\"formErrors.titleId\\\">\\r\\n                            <label i18n=\\\"@@selectTitle\\\" i18n-ghmLabel ghmLabel=\\\"Select title\\\"\\r\\n                                   class=\\\"col-sm-4 control-label\\\"\\r\\n                                   [required]=\\\"true\\\"\\r\\n                            ></label>\\r\\n                            <div class=\\\"col-sm-2\\\">\\r\\n                                <nh-select\\r\\n                                    i18n=\\\"@@selectTitlePlaceholder\\\"\\r\\n                                    i18n-title\\r\\n                                    [data]=\\\"titles\\\"\\r\\n                                    title=\\\"-- Select title --\\\"\\r\\n                                    formControlName=\\\"titleId\\\"></nh-select>\\r\\n                                <span class=\\\"help-block\\\">\\r\\n                                        {\\r\\n                                        formErrors.titleId,\\r\\n                                        select, required {Please select title} other {}\\r\\n                                        }\\r\\n                                    </span>\\r\\n                            </div>\\r\\n                            <span formArrayName=\\\"modelTranslations\\\">\\r\\n                                <span\\r\\n                                    *ngFor=\\\"let modelTranslation of modelTranslations.controls; index as i\\\"\\r\\n                                    [hidden]=\\\"modelTranslation.value.languageId !== currentLanguage\\\"\\r\\n                                    [formGroupName]=\\\"i\\\"\\r\\n                                    [class.has-error]=\\\"translationFormErrors[modelTranslation.value.languageId]?.name\\\">\\r\\n                                    <label i18n=\\\"@@shortName\\\" i18n-ghmLabel ghmLabel=\\\"Short name\\\"\\r\\n                                           class=\\\"col-sm-2 control-label\\\"\\r\\n                                           [required]=\\\"true\\\"\\r\\n                                    ></label>\\r\\n                                    <div class=\\\"col-sm-4\\\">\\r\\n                                        <input type=\\\"text\\\" class=\\\"form-control\\\"\\r\\n                                               i18n=\\\"@@enterTitleShortNamePlaceHolder\\\" i18n-placeholder\\r\\n                                               placeholder=\\\"Enter title short name.\\\"\\r\\n                                               formControlName=\\\"shortName\\\">\\r\\n                                        <span class=\\\"help-block\\\">\\r\\n                                            {\\r\\n                                            translationFormErrors[modelTranslation.value.languageId]?.shortName,\\r\\n                                            select, required {Position short name is required} maxlength {Position short name not allowed over 20 characters}\\r\\n                                            }\\r\\n                                        </span>\\r\\n                                    </div>\\r\\n                                </span>\\r\\n                            </span>\\r\\n                        </div>\\r\\n                        <div formArrayName=\\\"modelTranslations\\\">\\r\\n                            <div class=\\\"form-group\\\"\\r\\n                                 *ngFor=\\\"let modelTranslation of modelTranslations.controls; index as i\\\"\\r\\n                                 [hidden]=\\\"modelTranslation.value.languageId !== currentLanguage\\\"\\r\\n                                 [formGroupName]=\\\"i\\\"\\r\\n                                 [class.has-error]=\\\"translationFormErrors[modelTranslation.value.languageId]?.name\\\">\\r\\n                                <label i18n=\\\"@@positionName\\\" i18n-ghmLabel\\r\\n                                       ghmLabel=\\\"Position name\\\" for=\\\"\\\" class=\\\"col-sm-4 control-label\\\"\\r\\n                                       [required]=\\\"true\\\"></label>\\r\\n                                <div class=\\\"col-sm-8\\\">\\r\\n                                    <input type=\\\"text\\\" i18n=\\\"@@enterPositionName\\\" i18n-placeholder\\r\\n                                           placeholder=\\\"Enter position name\\\" class=\\\"form-control\\\" id=\\\"name\\\"\\r\\n                                           formControlName=\\\"name\\\" #name>\\r\\n                                    <span class=\\\"help-block\\\">\\r\\n                                        {\\r\\n                                        translationFormErrors[modelTranslation.value.languageId]?.name,\\r\\n                                        select, required {Position name is required} maxlength {Position name not allowed over 256 characters}\\r\\n                                        }\\r\\n                                    </span>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"form-group\\\">\\r\\n                            <div class=\\\"col-sm-8 col-sm-offset-4\\\">\\r\\n                                <mat-checkbox color=\\\"primary\\\" formControlName=\\\"isActive\\\" i18n=\\\"@@isActive\\\">\\r\\n                                    {model.value.isActive, select, 0 {Inactive} 1 {Active}}\\r\\n                                </mat-checkbox>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"form-group\\\">\\r\\n                            <div class=\\\"col-sm-8 col-sm-offset-4\\\">\\r\\n                                <mat-checkbox color=\\\"primary\\\" formControlName=\\\"isManager\\\" i18n=\\\"@@isManager\\\">\\r\\n                                    Is manager\\r\\n                                </mat-checkbox>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"form-group\\\">\\r\\n                            <div class=\\\"col-sm-8 col-sm-offset-4\\\">\\r\\n                                <mat-checkbox color=\\\"primary\\\" formControlName=\\\"isMultiple\\\" i18n=\\\"@@isMultiple\\\">\\r\\n                                    Is multiple\\r\\n                                </mat-checkbox>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"form-group\\\">\\r\\n                            <label i18n-ghmLabel=\\\"@@description\\\" ghmLabel=\\\"Use for office\\\"\\r\\n                                   class=\\\"col-sm-4 control-label\\\"\\r\\n                            ></label>\\r\\n                            <div class=\\\"col-sm-8\\\">\\r\\n                                <nh-suggestion\\r\\n                                    i18n-placeholder=\\\"@@officeSuggestionPlaceholder\\\"\\r\\n                                    placeholder=\\\"Type office name for suggestion\\\"\\r\\n                                    [multiple]=\\\"true\\\"\\r\\n                                    [sources]=\\\"offices\\\"\\r\\n                                    [loading]=\\\"isSearchingOffice\\\"\\r\\n                                    [selectedItems]=\\\"selectedOffices\\\"\\r\\n                                    (searched)=\\\"onSearched($event)\\\"\\r\\n                                    (itemSelected)=\\\"onSelectedOffice($event)\\\"\\r\\n                                ></nh-suggestion>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div formArrayName=\\\"modelTranslations\\\">\\r\\n                            <div class=\\\"form-group\\\"\\r\\n                                 *ngFor=\\\"let modelTranslation of modelTranslations.controls; index as i\\\"\\r\\n                                 [hidden]=\\\"modelTranslation.value.languageId !== currentLanguage\\\"\\r\\n                                 [formGroupName]=\\\"i\\\"\\r\\n                                 [class.has-error]=\\\"translationFormErrors[modelTranslation.value.languageId]?.description\\\">\\r\\n                                <label i18n=\\\"@@description\\\" i18n-ghmLabel ghmLabel=\\\"Description\\\"\\r\\n                                       class=\\\"col-sm-4 control-label\\\"\\r\\n                                ></label>\\r\\n                                <div class=\\\"col-sm-8\\\">\\r\\n                                    <textarea class=\\\"form-control\\\" rows=\\\"2\\\" formControlName=\\\"description\\\"\\r\\n                                              i18n=\\\"@@enterDescriptionPlaceholder\\\" i18n-placeholder\\r\\n                                              placeholder=\\\"Enter description.\\\"></textarea>\\r\\n                                    <span class=\\\"help-block\\\">\\r\\n                                        {\\r\\n                                        translationFormErrors[modelTranslation.value.languageId]?.description,\\r\\n                                        select, maxlength {Title description not allowed over 500 characters}\\r\\n                                        }\\r\\n                                    </span>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <div class=\\\"form-group\\\"\\r\\n                                 *ngFor=\\\"let modelTranslation of modelTranslations.controls; index as i\\\"\\r\\n                                 [hidden]=\\\"modelTranslation.value.languageId !== currentLanguage\\\"\\r\\n                                 [formGroupName]=\\\"i\\\"\\r\\n                                 [class.has-error]=\\\"translationFormErrors[modelTranslation.value.languageId]?.purpose\\\">\\r\\n                                <label i18n=\\\"@@purposse\\\" i18n-ghmLabel ghmLabel=\\\"Purpose\\\"\\r\\n                                       class=\\\"col-sm-4 control-label\\\"\\r\\n                                ></label>\\r\\n                                <div class=\\\"col-sm-8\\\">\\r\\n                                    <textarea class=\\\"form-control\\\" rows=\\\"2\\\" formControlName=\\\"purpose\\\"\\r\\n                                              i18n=\\\"@@enterPurposePlaceholder\\\" i18n-placeholder\\r\\n                                              placeholder=\\\"Enter purpose.\\\"></textarea>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <div class=\\\"form-group\\\"\\r\\n                                 *ngFor=\\\"let modelTranslation of modelTranslations.controls; index as i\\\"\\r\\n                                 [hidden]=\\\"modelTranslation.value.languageId !== currentLanguage\\\"\\r\\n                                 [formGroupName]=\\\"i\\\"\\r\\n                                 [class.has-error]=\\\"translationFormErrors[modelTranslation.value.languageId]?.otherRequire\\\">\\r\\n                                <label i18n=\\\"@@otherRequire\\\" i18n-ghmLabel ghmLabel=\\\"Other require\\\"\\r\\n                                       class=\\\"col-sm-4 control-label\\\"\\r\\n                                ></label>\\r\\n                                <div class=\\\"col-sm-8\\\">\\r\\n                                    <textarea class=\\\"form-control\\\" rows=\\\"2\\\" formControlName=\\\"otherRequire\\\"\\r\\n                                              i18n=\\\"@@enterOtherRequirePlaceholder\\\" i18n-placeholder\\r\\n                                              placeholder=\\\"Enter other require.\\\"></textarea>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <div class=\\\"form-group\\\"\\r\\n                                 *ngFor=\\\"let modelTranslation of modelTranslations.controls; index as i\\\"\\r\\n                                 [hidden]=\\\"modelTranslation.value.languageId !== currentLanguage\\\"\\r\\n                                 [formGroupName]=\\\"i\\\"\\r\\n                                 [class.has-error]=\\\"translationFormErrors[modelTranslation.value.languageId]?.responsibility\\\">\\r\\n                                <label i18n=\\\"@@responsibility\\\" i18n-ghmLabel ghmLabel=\\\"Responsibility\\\"\\r\\n                                       class=\\\"col-sm-4 control-label\\\"\\r\\n                                ></label>\\r\\n                                <div class=\\\"col-sm-8\\\">\\r\\n                                    <textarea class=\\\"form-control\\\" rows=\\\"2\\\" formControlName=\\\"responsibility\\\"\\r\\n                                              i18n=\\\"@@enterResponsibilityPlaceholder\\\" i18n-placeholder\\r\\n                                              placeholder=\\\"Enter responsibility.\\\"></textarea>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </nh-modal-content>\\r\\n        <nh-modal-footer>\\r\\n            <!--<button type=\\\"button\\\" (click)=\\\"\\\"></button>-->\\r\\n            <mat-checkbox [checked]=\\\"isCreateAnother\\\" (change)=\\\"isCreateAnother = !isCreateAnother\\\"\\r\\n                          *ngIf=\\\"!isUpdate\\\"\\r\\n                          i18n=\\\"@@isCreateAnother\\\"\\r\\n                          class=\\\"cm-mgr-5\\\"\\r\\n                          color=\\\"primary\\\">\\r\\n                Create another\\r\\n            </mat-checkbox>\\r\\n            <ghm-button classes=\\\"btn btn-primary cm-mgr-5\\\" [loading]=\\\"isSaving\\\" i18n=\\\"@@save\\\">\\r\\n                Save\\r\\n            </ghm-button>\\r\\n            <ghm-button classes=\\\"btn btn-default\\\" i18n=\\\"@@cancel\\\"\\r\\n                        type=\\\"button\\\" nh-dismiss=\\\"true\\\">\\r\\n                Cancel\\r\\n            </ghm-button>\\r\\n        </nh-modal-footer>\\r\\n    </form>\\r\\n</nh-modal>\\r\\n\"","﻿import { Component, Inject, OnInit, Output, EventEmitter, Renderer2, ViewChild } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { PositionService } from '../position.service';\r\nimport { Position } from '../position.model';\r\nimport { finalize } from 'rxjs/operators';\r\nimport { BaseFormComponent } from '../../../../../base-form.component';\r\nimport { NhModalComponent } from '../../../../../shareds/components/nh-modal/nh-modal.component';\r\nimport { IPageId, PAGE_ID } from '../../../../../configs/page-id.config';\r\nimport { UtilService } from '../../../../../shareds/services/util.service';\r\nimport { SpinnerService } from '../../../../../core/spinner/spinner.service';\r\nimport { IActionResultResponse } from '../../../../../interfaces/iaction-result-response.result';\r\nimport { PositionTranslation } from '../models/position-translation.model';\r\nimport { PositionDetailViewModel } from '../models/position-detail.model';\r\nimport * as _ from 'lodash';\r\nimport { TitleService } from '../../title/title.service';\r\nimport { TitleSearchForSelectViewModel } from '../../title/title-search-for-select.viewmodel';\r\nimport { NhSuggestion } from '../../../../../shareds/components/nh-suggestion/nh-suggestion.component';\r\nimport { OfficeService } from '../../office/services/office.service';\r\n\r\n@Component({\r\n    selector: 'app-position-form',\r\n    templateUrl: './position-form.component.html'\r\n})\r\n\r\nexport class PositionFormComponent extends BaseFormComponent implements OnInit {\r\n    @ViewChild('positionFormModal') positionFormModal: NhModalComponent;\r\n    @Output() onSaveSuccess = new EventEmitter();\r\n    position = new Position();\r\n    titleTranslation = new PositionTranslation();\r\n    titles: TitleSearchForSelectViewModel[] = [];\r\n    selectedOffices: NhSuggestion[] = [];\r\n    offices: NhSuggestion[] = [];\r\n    isSearchingOffice = false;\r\n\r\n    constructor(@Inject(PAGE_ID) public pageId: IPageId,\r\n                private fb: FormBuilder,\r\n                private renderer: Renderer2,\r\n                private positionService: PositionService,\r\n                private toastr: ToastrService,\r\n                private utilService: UtilService,\r\n                private officeService: OfficeService,\r\n                private titleService: TitleService) {\r\n        super();\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        if (this.titles.length === 0) {\r\n            this.subscribers.getTitles = this.titleService.getAllActivated()\r\n                .subscribe((result: TitleSearchForSelectViewModel[]) => {\r\n                    this.titles = result;\r\n                });\r\n        }\r\n        this.renderForm();\r\n        this.utilService.focusElement('name');\r\n    }\r\n\r\n    onModalShown() {\r\n        this.isModified = false;\r\n    }\r\n\r\n    onModalHidden() {\r\n        this.validateModel(false);\r\n        this.resetModel();\r\n        this.isUpdate = false;\r\n        this.selectedOffices = [];\r\n        if (this.isModified) {\r\n            this.saveSuccessful.emit();\r\n        }\r\n    }\r\n\r\n    onSelectedOffice(items: NhSuggestion[]) {\r\n        this.selectedOffices = items;\r\n    }\r\n\r\n    onSearched(keyword: string) {\r\n        this.isSearchingOffice = true;\r\n        this.subscribers.searchSuggestionOffice = this.officeService\r\n            .searchForSuggestion(keyword)\r\n            .pipe(\r\n                finalize(() => this.isSearchingOffice = false)\r\n            )\r\n            .subscribe((result: NhSuggestion[]) => this.offices = result);\r\n    }\r\n\r\n    save() {\r\n        const isValid = this.utilService.onValueChanged(this.model, this.formErrors, this.validationMessages, true);\r\n        const isLanguageValid = this.checkLanguageValid();\r\n        if (isValid && isLanguageValid) {\r\n            this.isSaving = true;\r\n            this.position = this.model.value;\r\n            const selectedOfficeIds = this.selectedOffices.map((item: NhSuggestion) => {\r\n                return item.id as number;\r\n            });\r\n            if (this.isUpdate) {\r\n                this.positionService\r\n                    .update(\r\n                        this.position,\r\n                        selectedOfficeIds\r\n                    )\r\n                    .pipe(finalize(() => this.isSaving = false))\r\n                    .subscribe(() => {\r\n                        this.isModified = true;\r\n                        this.positionFormModal.dismiss();\r\n                    });\r\n            } else {\r\n                this.positionService\r\n                    .insert(\r\n                        this.position,\r\n                        selectedOfficeIds\r\n                    )\r\n                    .pipe(finalize(() => this.isSaving = false))\r\n                    .subscribe(() => {\r\n                        this.isModified = true;\r\n                        if (!this.isCreateAnother) {\r\n                            this.positionFormModal.dismiss();\r\n                        } else {\r\n                            this.validateModel(false);\r\n                            this.resetModel();\r\n                        }\r\n                    });\r\n            }\r\n        }\r\n    }\r\n\r\n    add() {\r\n        this.isUpdate = false;\r\n        this.validateModel(false);\r\n        this.positionFormModal.open();\r\n    }\r\n\r\n    edit(position: Position) {\r\n        this.isUpdate = true;\r\n        this.position = position;\r\n        this.getDetail(position.id);\r\n        this.positionFormModal.open();\r\n    }\r\n\r\n    private resetModel() {\r\n        this.isUpdate = false;\r\n        this.model.patchValue({\r\n            id: '',\r\n            titleId: '',\r\n            isActive: true,\r\n            isManager: false,\r\n            isMultiple: false,\r\n        });\r\n        this.modelTranslations.controls.forEach((model: FormGroup) => {\r\n            model.patchValue({\r\n                name: '',\r\n                shortName: '',\r\n                description: '',\r\n                purpose: '',\r\n                otherRequire: '',\r\n                responsibility: ''\r\n            });\r\n        });\r\n        this.clearFormError(this.formErrors);\r\n        this.clearFormError(this.translationFormErrors);\r\n    }\r\n\r\n    private getDetail(id: string) {\r\n        this.subscribers.getPositionDetail = this.positionService.getDetail(id)\r\n            .subscribe((result: IActionResultResponse<PositionDetailViewModel>) => {\r\n                const positionDetail = result.data;\r\n                if (positionDetail) {\r\n                    this.model.patchValue({\r\n                        id: positionDetail.id,\r\n                        isActive: positionDetail.isActive,\r\n                        isMultiple: positionDetail.isMultiple,\r\n                        isManager: positionDetail.isManager,\r\n                        order: positionDetail.order,\r\n                        titleId: positionDetail.titleId,\r\n                        concurrencyStamp: positionDetail.concurrencyStamp,\r\n                    });\r\n                    if (positionDetail.positionTranslations && positionDetail.positionTranslations.length > 0) {\r\n                        this.modelTranslations.controls.forEach((model: FormGroup) => {\r\n                            const detail = _.find(positionDetail.positionTranslations, (positionTranslation: PositionTranslation) => {\r\n                                return positionTranslation.languageId === model.value.languageId;\r\n                            });\r\n                            if (detail) {\r\n                                model.patchValue(detail);\r\n                            }\r\n                        });\r\n                    }\r\n                    if (positionDetail.officesPositions && positionDetail.officesPositions.length > 0) {\r\n                        this.selectedOffices = positionDetail.officesPositions;\r\n                    }\r\n                }\r\n            });\r\n    }\r\n\r\n    private renderForm() {\r\n        this.buildForm();\r\n        this.renderTranslationFormArray(this.buildFormLanguage);\r\n    }\r\n\r\n    private buildForm() {\r\n        this.formErrors = this.utilService.renderFormError(['name', 'shortName', 'description', 'titleId']);\r\n        this.validationMessages = this.utilService.renderFormErrorMessage([\r\n            {'name': ['required', 'maxlength']},\r\n            {'shortName': ['required', 'maxlength']},\r\n            {'description': ['maxlength']},\r\n            {'titleId': ['required']},\r\n        ]);\r\n\r\n        this.model = this.fb.group({\r\n            id: [this.position.id],\r\n            titleId: [this.position.titleId, [\r\n                Validators.required\r\n            ]],\r\n            isManager: [this.position.isManager],\r\n            isMultiple: [this.position.isMultiple],\r\n            isActive: [this.position.isActive],\r\n            concurrencyStamp: [this.position.concurrencyStamp],\r\n            modelTranslations: this.fb.array([])\r\n        });\r\n\r\n        this.model.valueChanges.subscribe(data =>\r\n            this.validateFormGroup(this.model, this.formErrors, this.validationMessages));\r\n    }\r\n\r\n    private buildFormLanguage = (language: string) => {\r\n        this.translationFormErrors[language] = this.utilService.renderFormError(['name', 'shortName', 'description']);\r\n        this.translationValidationMessage[language] = this.utilService.renderFormErrorMessage([\r\n            {'name': ['required', 'maxlength']},\r\n            {'description': ['maxlength']},\r\n            {'shortName': ['required', 'maxlength']}\r\n        ]);\r\n        const translationModel = this.fb.group({\r\n            languageId: [language],\r\n            name: [this.titleTranslation.name, [\r\n                Validators.required,\r\n                Validators.maxLength(256)\r\n            ]],\r\n            shortName: [this.titleTranslation.shortName, [\r\n                Validators.required,\r\n                Validators.maxLength(50)\r\n            ]],\r\n            description: [this.titleTranslation.description, [\r\n                Validators.maxLength(500)\r\n            ]],\r\n            otherRequire: [this.titleTranslation.otherRequire],\r\n            responsibility: [this.titleTranslation.responsibility],\r\n            purpose: [this.titleTranslation.purpose],\r\n        });\r\n        translationModel.valueChanges.subscribe((data: any) => this.validateTranslationModel(false));\r\n        return translationModel;\r\n    };\r\n}\r\n","module.exports = \"<h1 class=\\\"page-title\\\">\\r\\n    <span class=\\\"cm-mgr-5\\\" i18n=\\\"@@listPositionPageTitle\\\">List position</span>\\r\\n    <small i18n=\\\"@@positionModuleTitle\\\">Position management</small>\\r\\n</h1>\\r\\n\\r\\n<form class=\\\"form-inline cm-mgb-10\\\" (ngSubmit)=\\\"search(1)\\\" #positionSearchForm=\\\"ngForm\\\">\\r\\n    <div class=\\\"form-group cm-mgr-5\\\">\\r\\n        <input type=\\\"text\\\" class=\\\"form-control\\\"\\r\\n               i18n=\\\"@@enterSearchKeyWord\\\"\\r\\n               i18n-placeholder\\r\\n               placeholder=\\\"Enter search keyword\\\" #searchBox\\r\\n               (keyup)=\\\"keyword = searchBox.value\\\">\\r\\n    </div>\\r\\n    <div class=\\\"form-group cm-mgr-5\\\">\\r\\n        <button type=\\\"submit\\\" class=\\\"btn btn-primary\\\">\\r\\n            <i class=\\\"fa fa-search\\\" *ngIf=\\\"!isSearching\\\"></i>\\r\\n            <i class=\\\"fa fa-pulse fa-spinner\\\" *ngIf=\\\"isSearching\\\"></i>\\r\\n        </button>\\r\\n    </div>\\r\\n    <div class=\\\"form-group cm-mgr-5\\\">\\r\\n        <button type=\\\"button\\\" class=\\\"btn btn-default\\\" (click)=\\\"refresh()\\\">\\r\\n            <i class=\\\"fa fa-refresh\\\"></i>\\r\\n        </button>\\r\\n    </div>\\r\\n    <div class=\\\"form-group pull-right\\\" *ngIf=\\\"permission.add\\\">\\r\\n        <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" (click)=\\\"add()\\\" i18n=\\\"@@add\\\">\\r\\n            Add\\r\\n        </button>\\r\\n    </div>\\r\\n</form><!-- END: search-form -->\\r\\n\\r\\n<div class=\\\"table-responsive\\\">\\r\\n    <table class=\\\"table table-hover table-stripped\\\">\\r\\n        <thead>\\r\\n        <tr>\\r\\n            <th class=\\\"middle center w50\\\" i18n=\\\"@@no\\\">STT</th>\\r\\n            <th class=\\\"middle w250\\\" i18n=\\\"@@positionName\\\">Position name</th>\\r\\n            <th class=\\\"middle w100\\\" i18n=\\\"@@shortName\\\">Short name</th>\\r\\n            <th class=\\\"middle w100\\\" i18n=\\\"@@isManager\\\">Is manager</th>\\r\\n            <th class=\\\"middle w100\\\" i18n=\\\"@@isMultiple\\\">Is multiple</th>\\r\\n            <th class=\\\"middle\\\" i18n=\\\"@@description\\\">Description</th>\\r\\n            <th class=\\\"middle text-right w100\\\" i18n=\\\"@@action\\\">Action</th>\\r\\n        </tr>\\r\\n        </thead>\\r\\n        <tbody>\\r\\n        <tr *ngFor=\\\"let position of listItems$ | async; let i = index\\\">\\r\\n            <td class=\\\"center middle\\\">{{ (currentPage - 1) * pageSize + i + 1 }}</td>\\r\\n            <td class=\\\"middle\\\">\\r\\n                <a href=\\\"javascript://\\\" (click)=\\\"edit(position)\\\"\\r\\n                   *ngIf=\\\"permission.edit; else positionNameWithoutEdit\\\">{{position.name}}</a>\\r\\n                <ng-template #positionNameWithoutEdit>\\r\\n                    {{ position.name }}\\r\\n                </ng-template>\\r\\n            </td>\\r\\n            <td class=\\\"middle\\\">{{ position.shortName }}</td>\\r\\n            <td class=\\\"middle center\\\">\\r\\n                <i class=\\\"fa fa-check color-green\\\" *ngIf=\\\"position.isManager\\\"></i>\\r\\n            </td>\\r\\n            <td class=\\\"middle center\\\">\\r\\n                <i class=\\\"fa fa-check color-green\\\" *ngIf=\\\"position.isMultiple\\\"></i>\\r\\n            </td>\\r\\n            <td class=\\\"middle\\\">{{ position.description }}</td>\\r\\n            <td class=\\\"text-right middle\\\">\\r\\n                <button\\r\\n                    class=\\\"btn btn-primary btn-sm\\\"\\r\\n                    i18n=\\\"@@edit\\\"\\r\\n                    i18n-matTooltip\\r\\n                    matTooltip=\\\"Edit\\\"\\r\\n                    [matTooltipPosition]=\\\"'above'\\\"\\r\\n                    (click)=\\\"edit(position)\\\">\\r\\n                    <i class=\\\"fa fa-pencil\\\"></i>\\r\\n                </button>\\r\\n                <ghm-button\\r\\n                    *ngIf=\\\"permission.delete\\\"\\r\\n                    icon=\\\"fa fa-trash-o\\\" classes=\\\"btn btn-danger btn-sm\\\"\\r\\n                    [swal]=\\\"confirmDeletePosition\\\"\\r\\n                    (confirm)=\\\"delete(position.id)\\\"></ghm-button>\\r\\n            </td>\\r\\n        </tr>\\r\\n        </tbody>\\r\\n    </table>\\r\\n</div><!-- END: table-responsive -->\\r\\n\\r\\n<ghm-paging [totalRows]=\\\"totalRows\\\"\\r\\n            [currentPage]=\\\"currentPage\\\"\\r\\n            [pageShow]=\\\"6\\\"\\r\\n            [isDisabled]=\\\"isSearching\\\"\\r\\n            [pageSize]=\\\"pageSize\\\"\\r\\n            (pageClick)=\\\"search($event)\\\"\\r\\n></ghm-paging>\\r\\n\\r\\n<app-position-form (saveSuccessful)=\\\"search(currentPage)\\\"></app-position-form>\\r\\n\\r\\n<swal\\r\\n    #confirmDeletePosition\\r\\n    i18n-title=\\\"@@confirmDeletePositionTitle\\\"\\r\\n    i18n-text=\\\"@@confirmDeletePositionText\\\"\\r\\n    title=\\\"Are you sure for delete this position?\\\"\\r\\n    text=\\\"You can't recover this position after delete.\\\"\\r\\n    type=\\\"question\\\"\\r\\n    i18n-confirmButtonText=\\\"@@accept\\\"\\r\\n    i18n-cancelButtonText=\\\"@@cancel\\\"\\r\\n    confirmButtonText=\\\"Accept\\\"\\r\\n    cancelButtonText=\\\"Cancel\\\">\\r\\n</swal>\\r\\n\"","﻿import { Component, OnInit, Inject, ViewChild, AfterContentInit } from '@angular/core';\r\nimport { Location, LocationStrategy, PathLocationStrategy } from '@angular/common';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { Subject } from 'rxjs';\r\nimport { debounceTime, finalize } from 'rxjs/operators';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { PositionFormComponent } from './position-form/position-form.component';\r\nimport { Position } from './position.model';\r\nimport { PositionService } from './position.service';\r\nimport { BaseListComponent } from '../../../../base-list.component';\r\nimport { IPageId, PAGE_ID } from '../../../../configs/page-id.config';\r\nimport { SpinnerService } from '../../../../core/spinner/spinner.service';\r\nimport { UtilService } from '../../../../shareds/services/util.service';\r\nimport { ISearchResult } from '../../../../interfaces/isearch.result';\r\nimport { FilterLink } from '../../../../shareds/models/filter-link.model';\r\nimport { map } from 'rxjs/operators';\r\nimport { PositionSearchViewModel } from './models/postion-search.viewmodel';\r\n\r\n@Component({\r\n    selector: 'app-position-component',\r\n    templateUrl: './position.component.html',\r\n    providers: [Location, {provide: LocationStrategy, useClass: PathLocationStrategy}]\r\n})\r\n\r\nexport class PositionComponent extends BaseListComponent<PositionSearchViewModel> implements OnInit, AfterContentInit {\r\n    @ViewChild(PositionFormComponent) positionFormComponent: PositionFormComponent;\r\n    isActive?: boolean;\r\n    isManager?: boolean;\r\n    isMultiple?: boolean;\r\n    private searchTerm = new Subject<string>();\r\n\r\n    constructor(@Inject(PAGE_ID) public pageId: IPageId,\r\n                private location: Location,\r\n                private positionService: PositionService,\r\n                private spinnerService: SpinnerService,\r\n                private toastr: ToastrService,\r\n                private router: Router,\r\n                private route: ActivatedRoute,\r\n                private utilService: UtilService) {\r\n        super();\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.appService.setupPage(this.pageId.HR, this.pageId.POSITION, 'Quản lý chức vụ', 'Danh sách chức vụ');\r\n        this.searchTerm\r\n            .pipe(debounceTime(500))\r\n            .subscribe(term => {\r\n\r\n            });\r\n\r\n        this.listItems$ = this.route.data.pipe(map((result: { data: ISearchResult<PositionSearchViewModel> }) => {\r\n            const data = result.data;\r\n            this.totalRows = data.totalRows;\r\n            return data.items;\r\n        }));\r\n    }\r\n\r\n    ngAfterContentInit() {\r\n    }\r\n\r\n    search(currentPage) {\r\n        this.currentPage = currentPage;\r\n        this.renderFilterLink();\r\n        this.isSearching = true;\r\n        this.listItems$ = this.positionService.search(this.keyword, this.isManager, this.isMultiple,\r\n            this.isActive, this.currentPage, this.pageSize)\r\n            .pipe(finalize(() => this.isSearching = false)\r\n                , map((result: ISearchResult<PositionSearchViewModel>) => {\r\n                    this.totalRows = result.totalRows;\r\n                    return result.items;\r\n                }));\r\n    }\r\n\r\n    refresh() {\r\n        this.isActive = null;\r\n        this.isManager = null;\r\n        this.isMultiple = null;\r\n        this.keyword = '';\r\n        this.search(1);\r\n    }\r\n\r\n    add() {\r\n        this.positionFormComponent.add();\r\n    }\r\n\r\n    edit(position: Position) {\r\n        this.positionFormComponent.edit(position);\r\n    }\r\n\r\n    delete(id: string) {\r\n        this.positionService.delete(id)\r\n            .subscribe(() => this.search(this.currentPage));\r\n    }\r\n\r\n    private renderFilterLink() {\r\n        const path = '/organization/positions';\r\n        const query = this.utilService.renderLocationFilter([\r\n            new FilterLink('pageId', this.currentPage),\r\n            new FilterLink('pageSize', this.pageSize)\r\n        ]);\r\n        this.location.go(path, query);\r\n    }\r\n}\r\n","﻿import { PositionTranslation } from './models/position-translation.model';\r\n\r\nexport class Position {\r\n    id: string;\r\n    titleId: string;\r\n    order: number;\r\n    isManager: boolean;\r\n    isMultiple: boolean;\r\n    isActive: boolean;\r\n    concurrencyStamp: string;\r\n    modelTranslations: PositionTranslation[];\r\n\r\n    constructor(id?: string, order?: number) {\r\n        this.id = id;\r\n        this.order = order;\r\n        this.isManager = false;\r\n        this.isMultiple = false;\r\n        this.isActive = true;\r\n    }\r\n}\r\n\r\n","export class TitleTranslation {\r\n    name: string;\r\n    shortName: string;\r\n    description: string;\r\n}\r\n","module.exports = \"<nh-modal #titleFormModal\\r\\n          size=\\\"md\\\"\\r\\n          (shown)=\\\"onTitleFormModalShown()\\\"\\r\\n          (hidden)=\\\"onTitleFormModalHidden()\\\">\\r\\n    <nh-modal-header>\\r\\n        <i class=\\\"fa fa-user-secret\\\" aria-hidden=\\\"true\\\"></i>\\r\\n        <!--<span *ngIf=\\\"isUpdate; else addNewTitleTemplate\\\" i18n=\\\"@@updateTitle\\\">Update title</span>-->\\r\\n        <!--<ng-template #addNewTitleTemplate i18N=\\\"@@addNewTitle\\\">-->\\r\\n        <!--Add new title-->\\r\\n        <!--</ng-template>-->\\r\\n        <span i18n=\\\"@@titleFormTitle\\\">{isUpdate, select, 1 {Update title} 0 {Add new title}}</span>\\r\\n    </nh-modal-header>\\r\\n    <form class=\\\"form-horizontal\\\" (ngSubmit)=\\\"save()\\\" [formGroup]=\\\"model\\\">\\r\\n        <nh-modal-content>\\r\\n            <div class=\\\"tabbable-custom\\\">\\r\\n                <ul class=\\\"nav nav-tabs \\\">\\r\\n                    <li [class.active]=\\\"item.id === currentLanguage\\\"\\r\\n                        *ngFor=\\\"let item of languages; let i = index\\\">\\r\\n                        <a href=\\\"javascript://\\\" (click)=\\\"currentLanguage = item.id\\\"> {{ item.name }} </a>\\r\\n                    </li>\\r\\n                </ul>\\r\\n                <div class=\\\"tab-content\\\" formArrayName=\\\"modelTranslations\\\">\\r\\n                    <div class=\\\"tab-pane\\\"\\r\\n                         [class.active]=\\\"modelTranslation.value.languageId === currentLanguage\\\"\\r\\n                         *ngFor=\\\"let modelTranslation of modelTranslations.controls; index as i\\\" [formGroupName]=\\\"i\\\">\\r\\n                        <div>\\r\\n                            <div class=\\\"form-group\\\"\\r\\n                                 [class.has-error]=\\\"translationFormErrors[modelTranslation.value.languageId]?.name\\\">\\r\\n                                <label i18n=\\\"@@titleName\\\" i18n-ghmLabel ghmLabel=\\\"Title name\\\"\\r\\n                                       class=\\\"col-sm-4 control-label\\\"\\r\\n                                       [required]=\\\"true\\\"></label>\\r\\n                                <div class=\\\"col-sm-8\\\">\\r\\n                                    <input type=\\\"text\\\" class=\\\"form-control\\\" i18n=\\\"@@enterTitleNamePlaceHolder\\\"\\r\\n                                           i18n-placeholder\\r\\n                                           placeholder=\\\"Enter page name.\\\"\\r\\n                                           formControlName=\\\"name\\\">\\r\\n                                    <span class=\\\"help-block\\\">\\r\\n                                        {\\r\\n                                        translationFormErrors[modelTranslation.value.languageId]?.name,\\r\\n                                        select, required {Title name is required} maxlength {Title name not allowed over 256 characters}\\r\\n                                        }\\r\\n                                    </span>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <div class=\\\"form-group\\\"\\r\\n                                 [class.has-error]=\\\"translationFormErrors[modelTranslation.value.languageId]?.shortName\\\">\\r\\n                                <label i18n=\\\"@@shortName\\\" i18n-ghmLabel ghmLabel=\\\"Short name\\\"\\r\\n                                       class=\\\"col-sm-4 control-label\\\"\\r\\n                                       [required]=\\\"true\\\"></label>\\r\\n                                <div class=\\\"col-sm-8\\\">\\r\\n                                    <input type=\\\"text\\\" class=\\\"form-control\\\"\\r\\n                                           i18n=\\\"@@enterTitleShortNamePlaceHolder\\\" i18n-placeholder\\r\\n                                           placeholder=\\\"Enter title short name.\\\"\\r\\n                                           formControlName=\\\"shortName\\\">\\r\\n                                    <span class=\\\"help-block\\\">\\r\\n                                        {\\r\\n                                        translationFormErrors[modelTranslation.value.languageId]?.shortName,\\r\\n                                        select, required {Title short name is required} maxlength {Title short name not allowed over 50 characters}\\r\\n                                        }\\r\\n                                    </span>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <div class=\\\"form-group\\\"\\r\\n                                 [class.has-error]=\\\"translationFormErrors[modelTranslation.value.languageId]?.description\\\">\\r\\n                                <label i18n=\\\"@@description\\\" i18n-ghmLabel ghmLabel=\\\"Description\\\"\\r\\n                                       class=\\\"col-sm-4 control-label\\\"\\r\\n                                ></label>\\r\\n                                <div class=\\\"col-sm-8\\\">\\r\\n                                    <textarea class=\\\"form-control\\\" rows=\\\"3\\\" formControlName=\\\"description\\\"\\r\\n                                              i18n=\\\"@@enterDescriptionPlaceholder\\\" i18n-placeholder\\r\\n                                              placeholder=\\\"Enter description.\\\"></textarea>\\r\\n                                    <span class=\\\"help-block\\\">\\r\\n                                        {\\r\\n                                        translationFormErrors[modelTranslation.value.languageId]?.description,\\r\\n                                        select, maxlength {Title description not allowed over 500 characters}\\r\\n                                        }\\r\\n                                    </span>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <div class=\\\"form-group\\\" [formGroup]=\\\"model\\\">\\r\\n                                <div class=\\\"col-sm-8 col-sm-offset-4\\\">\\r\\n                                    <mat-checkbox color=\\\"primary\\\" formControlName=\\\"isActive\\\" i18n=\\\"@@isActive\\\">\\r\\n                                        {model.value.isActive, select, 0 {Inactive} 1 {Active}}\\r\\n                                    </mat-checkbox>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </nh-modal-content>\\r\\n        <nh-modal-footer>\\r\\n            <mat-checkbox [checked]=\\\"isCreateAnother\\\" (change)=\\\"isCreateAnother = !isCreateAnother\\\"\\r\\n                          *ngIf=\\\"!isUpdate\\\"\\r\\n                          i18n=\\\"@@isCreateAnother\\\"\\r\\n                          class=\\\"cm-mgr-5\\\"\\r\\n                          color=\\\"primary\\\">\\r\\n                Create another\\r\\n            </mat-checkbox>\\r\\n            <ghm-button classes=\\\"btn btn-primary cm-mgr-5\\\" [loading]=\\\"isSaving\\\" i18n=\\\"@@save\\\">\\r\\n                Save\\r\\n            </ghm-button>\\r\\n            <ghm-button type=\\\"button\\\" classes=\\\"btn btn-default\\\"\\r\\n                        nh-dismiss=\\\"true\\\"\\r\\n                        [loading]=\\\"isSaving\\\"\\r\\n                        i18n=\\\"@@cancel\\\">\\r\\n                Cancel\\r\\n            </ghm-button>\\r\\n        </nh-modal-footer>\\r\\n    </form>\\r\\n</nh-modal>\\r\\n\"","﻿import { Component, Inject, OnInit, ViewChild } from '@angular/core';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { finalize } from 'rxjs/operators';\r\nimport { Title } from '../title.model';\r\nimport { TitleService } from '../title.service';\r\nimport { IPageId, PAGE_ID } from '../../../../../configs/page-id.config';\r\nimport { BaseFormComponent } from '../../../../../base-form.component';\r\nimport { NhModalComponent } from '../../../../../shareds/components/nh-modal/nh-modal.component';\r\nimport { UtilService } from '../../../../../shareds/services/util.service';\r\nimport { TitleDetailViewModel, TitleTranslationViewModel } from '../models/title-detail.viewmodel';\r\nimport { TitleTranslation } from '../models/title-translation.model';\r\nimport * as _ from 'lodash';\r\nimport { IActionResultResponse } from '../../../../../interfaces/iaction-result-response.result';\r\n\r\n@Component({\r\n    selector: 'app-title-form',\r\n    templateUrl: './title-form.component.html'\r\n})\r\n\r\nexport class TitleFormComponent extends BaseFormComponent implements OnInit {\r\n    @ViewChild('titleFormModal') titleFormModal: NhModalComponent;\r\n    title = new Title();\r\n    modelTranslation = new TitleTranslation();\r\n\r\n    constructor(@Inject(PAGE_ID) public pageId: IPageId,\r\n                private fb: FormBuilder,\r\n                private route: ActivatedRoute,\r\n                private router: Router,\r\n                private titleService: TitleService,\r\n                private utilService: UtilService) {\r\n        super();\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.renderForm();\r\n    }\r\n\r\n    onTitleFormModalShown() {\r\n        this.utilService.focusElement('name');\r\n    }\r\n\r\n    onTitleFormModalHidden() {\r\n        this.resetModels();\r\n        if (this.isModified) {\r\n            this.saveSuccessful.emit();\r\n        }\r\n    }\r\n\r\n    add() {\r\n        this.titleFormModal.open();\r\n        this.validateModel(false);\r\n    }\r\n\r\n    edit(title: Title) {\r\n        this.isUpdate = true;\r\n        this.title = title;\r\n        this.getDetail(title.id);\r\n        this.titleFormModal.open();\r\n    }\r\n\r\n    save() {\r\n        const isValid = this.validateModel();\r\n        const isLanguageValid = this.checkLanguageValid();\r\n        if (isValid && isLanguageValid) {\r\n            this.isSaving = true;\r\n            this.title = this.model.value;\r\n            if (this.isUpdate) {\r\n                this.titleService.update(this.title.id, this.title)\r\n                    .pipe(finalize(() => this.isSaving = false))\r\n                    .subscribe(() => {\r\n                        this.isModified = true;\r\n                        this.titleFormModal.dismiss();\r\n                    });\r\n            } else {\r\n                this.titleService.insert(this.title)\r\n                    .pipe(finalize(() => this.isSaving = false))\r\n                    .subscribe(() => {\r\n                        this.utilService.focusElement('name');\r\n                        if (this.isCreateAnother) {\r\n                            this.resetModels();\r\n                        } else {\r\n                            this.isModified = true;\r\n                            this.titleFormModal.dismiss();\r\n                        }\r\n                    });\r\n            }\r\n        }\r\n    }\r\n\r\n    private getDetail(id: string) {\r\n        this.subscribers.getTitleDetail = this.titleService.getDetail(id)\r\n            .subscribe((result: IActionResultResponse<TitleDetailViewModel>) => {\r\n                const titleDetail = result.data;\r\n                if (titleDetail) {\r\n                    this.model.patchValue({\r\n                        id: titleDetail.id,\r\n                        isActive: titleDetail.isActive,\r\n                        order: titleDetail.order,\r\n                        concurrencyStamp: titleDetail.concurrencyStamp,\r\n                    });\r\n\r\n                    if (titleDetail.titleTranslations && titleDetail.titleTranslations.length > 0) {\r\n                        this.modelTranslations.controls.forEach((model: FormGroup) => {\r\n                            const detail = _.find(titleDetail.titleTranslations, (titleTranslation: TitleTranslationViewModel) => {\r\n                                return titleTranslation.languageId === model.value.languageId;\r\n                            });\r\n                            if (detail) {\r\n                                model.patchValue(detail);\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n            });\r\n    }\r\n\r\n    private renderForm() {\r\n        this.buildForm();\r\n        this.renderTranslationFormArray(this.buildFormLanguage);\r\n    }\r\n\r\n    private buildForm() {\r\n        this.formErrors = this.utilService.renderFormError(['name', 'shortName', 'description']);\r\n        this.validationMessages = this.utilService.renderFormErrorMessage([\r\n            {'name': ['required', 'maxlength']},\r\n            {'shortName': ['required', 'maxlength']},\r\n        ]);\r\n\r\n        this.model = this.fb.group({\r\n            'id': [this.title.id],\r\n            'concurrencyStamp': [this.title.concurrencyStamp],\r\n            'isActive': [this.title.isActive],\r\n            'modelTranslations': this.fb.array([])\r\n        });\r\n\r\n        this.model.valueChanges.subscribe(data => this.validateModel(false));\r\n    }\r\n\r\n    private resetModels() {\r\n        this.isUpdate = false;\r\n        this.model.patchValue({\r\n            isActive: true,\r\n        });\r\n        this.modelTranslations.controls.forEach((model: FormGroup) => {\r\n            model.patchValue({\r\n                name: '',\r\n                shortName: '',\r\n                description: ''\r\n            });\r\n        });\r\n        this.clearFormError(this.formErrors);\r\n        this.clearFormError(this.translationFormErrors);\r\n    }\r\n\r\n    private buildFormLanguage = (language: string) => {\r\n        this.translationFormErrors[language] = this.renderFormError(['name', 'shortName', 'description']);\r\n        this.translationValidationMessage[language] = this.renderFormErrorMessage([\r\n            {'name': ['required', 'maxlength']},\r\n            {'description': ['maxlength']},\r\n            {'shortName': ['required', 'maxlength']}\r\n        ]);\r\n        const pageTranslationModel = this.fb.group({\r\n            languageId: [language],\r\n            name: [this.modelTranslation.name, [\r\n                Validators.required,\r\n                Validators.maxLength(256)\r\n            ]],\r\n            shortName: [this.modelTranslation.shortName, [\r\n                Validators.required,\r\n                Validators.maxLength(50)\r\n            ]],\r\n            description: [this.modelTranslation.description, [\r\n                Validators.maxLength(500)\r\n            ]],\r\n        });\r\n        pageTranslationModel.valueChanges.subscribe((data: any) => this.validateTranslationModel(false));\r\n        return pageTranslationModel;\r\n    };\r\n}\r\n","module.exports = \"<h1 class=\\\"page-title\\\">\\r\\n    <span class=\\\"cm-mgr-5\\\" i18n=\\\"@@listTitlePageTitle\\\">List title</span>\\r\\n    <small i18n=\\\"@@titleModuleTitle\\\">Title management</small>\\r\\n</h1>\\r\\n\\r\\n<form class=\\\"form-inline cm-mgb-10\\\" (ngSubmit)=\\\"search(1)\\\">\\r\\n    <div class=\\\"form-group cm-mgr-5\\\">\\r\\n        <input type=\\\"text\\\" class=\\\"form-control\\\" i18n=\\\"@@enterKeyword\\\" i18n-placeholder placeholder=\\\"Enter keyword.\\\"\\r\\n               name=\\\"keyword\\\" [(ngModel)]=\\\"keyword\\\">\\r\\n    </div>\\r\\n    <div class=\\\"form-group cm-mgr-5\\\">\\r\\n        <nh-select\\r\\n            i18n-title=\\\"@@filterByStatusTitle\\\"\\r\\n            title=\\\"-- Filter by status --\\\"\\r\\n            [data]=\\\"listActiveSearch\\\"\\r\\n            [(value)]=\\\"isActive\\\"\\r\\n            (onSelectItem)=\\\"search(1)\\\"></nh-select>\\r\\n    </div>\\r\\n    <div class=\\\"form-group cm-mgr-5\\\">\\r\\n        <button class=\\\"btn btn-primary\\\" [disabled]=\\\"isSearching\\\">\\r\\n            <i class=\\\"fa fa-search\\\" *ngIf=\\\"!isSearching\\\"></i>\\r\\n            <i class=\\\"fa fa-pulse fa-spinner\\\" *ngIf=\\\"isSearching\\\"></i>\\r\\n        </button>\\r\\n    </div>\\r\\n    <div class=\\\"form-group cm-mgr-5\\\">\\r\\n        <button type=\\\"button\\\" class=\\\"btn btn-default\\\" (click)=\\\"refresh()\\\">\\r\\n            <i class=\\\"fa fa-refresh\\\"></i>\\r\\n        </button>\\r\\n    </div>\\r\\n    <div class=\\\"form-group pull-right\\\">\\r\\n        <button class=\\\"btn btn-primary\\\" (click)=\\\"add()\\\" i18n=\\\"@@add\\\"\\r\\n                *ngIf=\\\"permission.add\\\">\\r\\n            Add\\r\\n        </button>\\r\\n    </div>\\r\\n</form>\\r\\n<div class=\\\"table-responsive\\\">\\r\\n    <table class=\\\"table table-hover table-stripped\\\">\\r\\n        <thead>\\r\\n        <tr>\\r\\n            <th class=\\\"middle center w50\\\" i18n=\\\"@@no\\\">No</th>\\r\\n            <th class=\\\"middle\\\" i18n=\\\"@@titleName\\\">Title name</th>\\r\\n            <th class=\\\"middle w100\\\" i18n=\\\"@@shortName\\\">Short name</th>\\r\\n            <th class=\\\"middle w70 middle\\\" i18n=\\\"@@status\\\">Status</th>\\r\\n            <th class=\\\"middle\\\" i18n=\\\"@@description\\\">Description</th>\\r\\n            <th class=\\\"middle text-right w150\\\" i18n=\\\"@@action\\\" *ngIf=\\\"permission.edit || permission.delete\\\">Action</th>\\r\\n        </tr>\\r\\n        </thead>\\r\\n        <tbody>\\r\\n        <tr *ngFor=\\\"let title of listItems$ | async; let i = index\\\">\\r\\n            <td class=\\\"center middle\\\">{{ (currentPage - 1) * pageSize + i + 1 }}</td>\\r\\n            <td class=\\\"middle\\\">\\r\\n                <a href=\\\"javascript://\\\"\\r\\n                   (click)=\\\"edit(title)\\\"\\r\\n                   *ngIf=\\\"permission.edit; else noEditTemplate\\\">{{ title.name }}</a>\\r\\n                <ng-template #noEditTemplate>\\r\\n                    {{ title.name }}\\r\\n                </ng-template>\\r\\n            </td>\\r\\n            <td class=\\\"middle\\\">{{ title.shortName }}</td>\\r\\n            <td class=\\\"middle\\\">\\r\\n                <span class=\\\"badge\\\"\\r\\n                      [class.badge-success]=\\\"title.isActive\\\"\\r\\n                      [class.badge-danger]=\\\"!title.isActive\\\">{title.activeStatus, select, active {Active} inActive {Inactive}}</span>\\r\\n            </td>\\r\\n            <td class=\\\"middle\\\">{{ title.description }}</td>\\r\\n            <td class=\\\"middle text-right w150\\\" *ngIf=\\\"permission.edit || permission.delete\\\">\\r\\n                <ghm-button\\r\\n                    *ngIf=\\\"permission.edit\\\"\\r\\n                    icon=\\\"fa fa-edit\\\" classes=\\\"btn btn-primary btn-sm\\\"\\r\\n                    (clicked)=\\\"edit(title)\\\"></ghm-button>\\r\\n                <ghm-button\\r\\n                    *ngIf=\\\"permission.delete\\\"\\r\\n                    icon=\\\"fa fa-trash-o\\\" classes=\\\"btn btn-danger btn-sm\\\"\\r\\n                    [swal]=\\\"confirmDeleteTitle\\\"\\r\\n                    (confirm)=\\\"delete(title.id)\\\"></ghm-button>\\r\\n            </td>\\r\\n        </tr>\\r\\n        </tbody>\\r\\n    </table>\\r\\n</div>\\r\\n<ghm-paging [totalRows]=\\\"totalRows\\\"\\r\\n            [currentPage]=\\\"currentPage\\\"\\r\\n            [pageShow]=\\\"6\\\"\\r\\n            [isDisabled]=\\\"isSearching\\\"\\r\\n            [pageSize]=\\\"pageSize\\\"\\r\\n            (pageClick)=\\\"search($event)\\\"\\r\\n></ghm-paging>\\r\\n\\r\\n<app-title-form (saveSuccessful)=\\\"search(currentPage)\\\"></app-title-form>\\r\\n\\r\\n<swal\\r\\n    #confirmDeleteTitle\\r\\n    i18n-title=\\\"@@confirmDeleteTitle\\\"\\r\\n    i18n-text=\\\"@@confirmDeleteText\\\"\\r\\n    title=\\\"Are you sure for delete this title?\\\"\\r\\n    text=\\\"You can't recover this title after delete.\\\"\\r\\n    type=\\\"question\\\"\\r\\n    i18n-confirmButtonText=\\\"@@accept\\\"\\r\\n    i18n-cancelButtonText=\\\"@@cancel\\\"\\r\\n    confirmButtonText=\\\"Accept\\\"\\r\\n    cancelButtonText=\\\"Cancel\\\">\\r\\n</swal>\\r\\n\"","﻿import { Component, OnInit, Inject, ViewChild } from '@angular/core';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { finalize, map } from 'rxjs/operators';\r\nimport { Location, LocationStrategy, PathLocationStrategy } from '@angular/common';\r\nimport { Title } from './title.model';\r\nimport { TitleService } from './title.service';\r\nimport { TitleFormComponent } from './title-form/title-form.component';\r\nimport { TitleSearchViewModel } from './models/title-search.viewmodel';\r\nimport { BaseListComponent } from '../../../../base-list.component';\r\nimport { IPageId, PAGE_ID } from '../../../../configs/page-id.config';\r\nimport { UtilService } from '../../../../shareds/services/util.service';\r\nimport { ISearchResult } from '../../../../interfaces/isearch.result';\r\nimport { FilterLink } from '../../../../shareds/models/filter-link.model';\r\n\r\n@Component({\r\n    selector: 'app-title-component',\r\n    templateUrl: './title.component.html',\r\n    providers: [Location, {provide: LocationStrategy, useClass: PathLocationStrategy}]\r\n})\r\n\r\nexport class TitleComponent extends BaseListComponent<TitleSearchViewModel> implements OnInit {\r\n    @ViewChild(TitleFormComponent) titleFormComponent: TitleFormComponent;\r\n    isActive?: boolean;\r\n    isManager?: boolean;\r\n    isMultiple?: boolean;\r\n    positionId?: number;\r\n    title = new Title();\r\n    titles: Title[];\r\n    listActiveSearch: any = [];\r\n\r\n    constructor(@Inject(PAGE_ID) public pageId: IPageId,\r\n                private location: Location,\r\n                private titleService: TitleService,\r\n                private utilService: UtilService,\r\n                private router: Router,\r\n                private route: ActivatedRoute) {\r\n        super();\r\n        this.subscribers.getListActiveSearch = this.appService.getListActiveSearch()\r\n            .subscribe(result => this.listActiveSearch = result);\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.appService.setupPage(this.pageId.HR, this.pageId.TITLE, 'Quản lý chức danh', 'Danh sách chức danh');\r\n        this.listItems$ = this.route.data.pipe(map((result: { data: ISearchResult<TitleSearchViewModel> }) => {\r\n                const data = result.data;\r\n                this.totalRows = data.totalRows;\r\n                return data.items;\r\n            })\r\n        );\r\n\r\n        this.subscribers.queryParams = this.route.queryParams.subscribe(queryParam => {\r\n                if (queryParam.isActive) {\r\n                    this.isActive = !!queryParam.isActive;\r\n                }\r\n                if (queryParam.page) {\r\n                    this.currentPage = parseInt(queryParam.page);\r\n                }\r\n                if (queryParam.pageSize) {\r\n                    this.pageSize = parseInt(queryParam.pageSize);\r\n                }\r\n            }\r\n        );\r\n    }\r\n\r\n    search(currentPage) {\r\n        this.currentPage = currentPage;\r\n        this.renderFilterLink();\r\n        this.isSearching = true;\r\n        this.listItems$ = this.titleService.search(this.keyword, this.isActive, this.currentPage, this.pageSize)\r\n            .pipe(finalize(() => this.isSearching = false),\r\n                map((data: ISearchResult<TitleSearchViewModel>) => {\r\n                    this.totalRows = data.totalRows;\r\n                    return data.items;\r\n                }));\r\n    }\r\n\r\n    refresh() {\r\n        this.keyword = '';\r\n        this.isActive = null;\r\n        this.search(1);\r\n    }\r\n\r\n    add() {\r\n        this.titleFormComponent.add();\r\n    }\r\n\r\n    edit(title: Title) {\r\n        this.titleFormComponent.edit(title);\r\n    }\r\n\r\n    delete(id: string) {\r\n        this.titleService.delete(id)\r\n            .subscribe(() => {\r\n                this.search(this.currentPage);\r\n                return;\r\n            });\r\n    }\r\n\r\n    private renderFilterLink() {\r\n        const path = '/organization/titles';\r\n        const query = this.utilService.renderLocationFilter([\r\n            new FilterLink('keyword', this.keyword),\r\n            new FilterLink('isActive', this.isActive),\r\n            new FilterLink('pageId', this.currentPage),\r\n            new FilterLink('pageSize', this.pageSize)\r\n        ]);\r\n        this.location.go(path, query);\r\n    }\r\n}\r\n","﻿import { TitleTranslation } from './models/title-translation.model';\r\n\r\nexport class Title {\r\n    id: string;\r\n    name: string;\r\n    shortName: string;\r\n    description: string;\r\n    isActive: boolean;\r\n    concurrencyStamp: string;\r\n    modelTranslations: TitleTranslation[];\r\n\r\n    constructor(name?: string, shortName?: string, description?: string, isActive?: boolean) {\r\n        this.name = name;\r\n        this.shortName = shortName;\r\n        this.description = description;\r\n        this.isActive = isActive ? isActive : true;\r\n    }\r\n}\r\n","export const Pattern = {\r\n    phoneNumber: '^[\\+]?[(]?[0-9]{3}[)]?[-\\s\\.]?[0-9]{3}[-\\s\\.]?[0-9]{4,6}$',\r\n    email: '^(([^<>()\\\\[\\\\]\\\\\\\\.,;:\\\\s@\"]+(\\\\.[^<>()\\\\[\\\\]\\\\\\\\.,;:\\\\s@\"]+)*)|(\".+\"))@((\\\\[[0-9]{1,3}\\\\.[0-9]{1,3}\\\\.[0-9]{1,3}\\\\.[0-9]{1,3}\\\\])|(([a-zA-Z\\\\-0-9]+\\\\.)+[a-zA-Z]{2,}))$',\r\n    whiteSpace: '.*\\\\S.*',\r\n    url: '(http(s)?://)?([\\\\w-]+\\\\.)+[\\\\w-]+(/[\\\\w- ;,./?%&=]*)?'\r\n}\r\n"],"sourceRoot":""}