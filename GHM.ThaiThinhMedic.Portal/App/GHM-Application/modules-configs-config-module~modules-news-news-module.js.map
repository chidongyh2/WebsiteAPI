{"version":3,"sources":["webpack:///./src/app/modules/news/category/category-form/category-form.component.css","webpack:///./src/app/modules/news/category/category-form/category-form.component.html","webpack:///./src/app/modules/news/category/category-form/category-form.component.ts","webpack:///./src/app/modules/news/category/category-list/category-list.component.css","webpack:///./src/app/modules/news/category/category-list/category-list.component.html","webpack:///./src/app/modules/news/category/category-list/category-list.component.ts","webpack:///./src/app/modules/news/category/category.scss","webpack:///./src/app/modules/news/category/category.service.ts","webpack:///./src/app/modules/news/category/models/category.model.ts","webpack:///./src/app/modules/news/category/select-category/select-category.component.html","webpack:///./src/app/modules/news/category/select-category/select-category.component.ts","webpack:///./src/app/modules/news/new/model/changeListNewsStatus.model.ts","webpack:///./src/app/modules/news/new/model/newStatus.model.ts","webpack:///./src/app/modules/news/new/model/news-translations.model.ts","webpack:///./src/app/modules/news/new/model/news.model.ts","webpack:///./src/app/modules/news/new/model/tree-comment.model.ts","webpack:///./src/app/modules/news/new/new-comment/new-comment.component.html","webpack:///./src/app/modules/news/new/new-comment/new-comment.component.ts","webpack:///./src/app/modules/news/new/new-comment/new-comment.scss","webpack:///./src/app/modules/news/new/new-detail/new-detail.component.html","webpack:///./src/app/modules/news/new/new-detail/new-detail.component.ts","webpack:///./src/app/modules/news/new/new-seo/new-seo.component.ts","webpack:///./src/app/modules/news/new/news-form/news-form.component.html","webpack:///./src/app/modules/news/new/news-form/news-form.component.ts","webpack:///./src/app/modules/news/new/news-list/news-list.component.html","webpack:///./src/app/modules/news/new/news-list/news-list.component.ts","webpack:///./src/app/modules/news/new/news.scss","webpack:///./src/app/modules/news/new/select-new/select-new.component.html","webpack:///./src/app/modules/news/new/select-new/select-new.component.ts","webpack:///./src/app/modules/news/new/service/news.service.ts","webpack:///./src/app/modules/news/new/view-history/new-view-history.component.html","webpack:///./src/app/modules/news/new/view-history/new-view-history.component.ts","webpack:///./src/app/modules/news/news-routing.module.ts","webpack:///./src/app/modules/news/news.module.ts","webpack:///./src/app/modules/surveys/question-group/service/question-group.service.ts","webpack:///./src/app/shareds/components/ghm-input/ghm-input.component.html","webpack:///./src/app/shareds/components/ghm-input/ghm-input.component.scss","webpack:///./src/app/shareds/components/ghm-input/ghm-input.component.ts","webpack:///./src/app/shareds/components/ghm-input/ghm-input.module.ts","webpack:///./src/app/shareds/components/ghm-select/ghm-select.component.html","webpack:///./src/app/shareds/components/ghm-select/ghm-select.component.scss","webpack:///./src/app/shareds/components/ghm-select/ghm-select.component.ts","webpack:///./src/app/shareds/components/ghm-select/ghm-select.module.ts","webpack:///./src/app/shareds/components/nh-safe-html/nh-safe-html.component.ts","webpack:///./src/app/shareds/components/nh-safe-html/nh-safe-html.module.ts","webpack:///./src/app/shareds/directives/ghm-draggable/ghm-draggable-helper.directive.ts","webpack:///./src/app/shareds/directives/ghm-draggable/ghm-draggable.directive.ts","webpack:///./src/app/shareds/directives/ghm-draggable/ghm-draggable.module.ts","webpack:///./src/app/shareds/directives/ghm-draggable/ghm-sortable-list.directive.ts","webpack:///./src/app/shareds/directives/ghm-draggable/ghm-sortable.directive.ts"],"names":[],"mappings":"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","file":"modules-configs-config-module~modules-news-news-module.js","sourcesContent":["module.exports = \"\"","module.exports = \"<nh-modal size=\\\"md\\\" #categoryFormModal\\r\\n          (show)=\\\"onModalShown()\\\"\\r\\n          (hidden)=\\\"onModalHidden()\\\">\\r\\n    <nh-modal-header class=\\\"uppercase\\\" i18n=\\\"@@categoryFormTitle\\\">\\r\\n        {isUpdate, select, 0 {Add new category} 1 {Update category}}\\r\\n    </nh-modal-header>\\r\\n    <form action=\\\"\\\" class=\\\"form-horizontal\\\" (ngSubmit)=\\\"save()\\\" [formGroup]=\\\"model\\\">\\r\\n        <nh-modal-content>\\r\\n            <div class=\\\"form-group\\\" *ngIf=\\\"languages.length > 1\\\">\\r\\n                <label i18n-ghmLabel=\\\"@@language\\\" ghmLabel=\\\"Language\\\"\\r\\n                       class=\\\"col-sm-4 control-label\\\"\\r\\n                       [required]=\\\"true\\\"></label>\\r\\n                <div class=\\\"col-sm-8\\\">\\r\\n                    <ghm-select [data]=\\\"languages\\\"\\r\\n                               [(value)]=\\\"currentLanguage\\\"></ghm-select>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"form-group\\\">\\r\\n                <label i18n-ghmLabel=\\\"@@parentCategory\\\" ghmLabel=\\\"Parent category\\\"\\r\\n                       class=\\\"col-sm-4 control-label\\\"></label>\\r\\n                <div class=\\\"col-sm-8\\\">\\r\\n                    <nh-dropdown-tree\\r\\n                            [data]=\\\"categoryTreeData\\\"\\r\\n                            i18n-title=\\\"@@selectParentCategory\\\"\\r\\n                            title=\\\"-- Select parent category --\\\"\\r\\n                            formControlName=\\\"parentId\\\"\\r\\n                    ></nh-dropdown-tree>\\r\\n                </div>\\r\\n            </div>\\r\\n            <span formArrayName=\\\"modelTranslations\\\">\\r\\n                <div class=\\\"form-group\\\" *ngFor=\\\"let modelTranslation of modelTranslations.controls; index as i\\\"\\r\\n                     [hidden]=\\\"modelTranslation.value.languageId !== currentLanguage\\\"\\r\\n                     [formGroupName]=\\\"i\\\"\\r\\n                     [class.has-error]=\\\"translationFormErrors[modelTranslation.value.languageId]?.name\\\">\\r\\n                    <label i18n-ghmLabel=\\\"@@categoryName\\\" ghmLabel=\\\"Category name\\\"\\r\\n                           class=\\\"col-sm-4 control-label\\\"\\r\\n                           [required]=\\\"true\\\"></label>\\r\\n                    <div class=\\\"col-sm-8\\\">\\r\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Enter category name\\\"\\r\\n                               i18n-placeholder=\\\"@@enterCategoryName\\\" formControlName=\\\"name\\\">\\r\\n                        <span class=\\\"help-block\\\">\\r\\n                            {\\r\\n                            translationFormErrors[modelTranslation.value.languageId]?.name,\\r\\n                            select, required {Category name is required} maxlength {Category name must not exceed 256 characters}\\r\\n                            }\\r\\n                        </span>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"form-group\\\" *ngFor=\\\"let modelTranslation of modelTranslations.controls; index as i\\\"\\r\\n                     [hidden]=\\\"modelTranslation.value.languageId !== currentLanguage\\\"\\r\\n                     [formGroupName]=\\\"i\\\"\\r\\n                     [class.has-error]=\\\"translationFormErrors[modelTranslation.value.languageId]?.metaTitle\\\">\\r\\n                    <label i18n-ghmLabel=\\\"@@metaTitle\\\" ghmLabel=\\\"Meta title\\\"\\r\\n                           class=\\\"col-sm-4 control-label\\\"></label>\\r\\n                    <div class=\\\"col-sm-8\\\">\\r\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Enter meta title\\\"\\r\\n                               i18n-placeholder=\\\"@@enterMetaTitle\\\" formControlName=\\\"metaTitle\\\">\\r\\n                        <span class=\\\"help-block\\\">\\r\\n                            {\\r\\n                            translationFormErrors[modelTranslation.value.languageId]?.metaTitle,\\r\\n                            select, maxlength {Meta title must not exceed 256 characters}\\r\\n                            }\\r\\n                        </span>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"form-group\\\" *ngFor=\\\"let modelTranslation of modelTranslations.controls; index as i\\\"\\r\\n                     [hidden]=\\\"modelTranslation.value.languageId !== currentLanguage\\\"\\r\\n                     [formGroupName]=\\\"i\\\"\\r\\n                     [class.has-error]=\\\"translationFormErrors[modelTranslation.value.languageId]?.description\\\">\\r\\n                    <label i18n-ghmLabel=\\\"@@description\\\" ghmLabel=\\\"Description\\\"\\r\\n                           class=\\\"col-sm-4 control-label\\\"></label>\\r\\n                    <div class=\\\"col-sm-8\\\">\\r\\n                        <textarea rows=\\\"3\\\" class=\\\"form-control\\\" placeholder=\\\"Enter description\\\"\\r\\n                                  i18n-placeholder=\\\"@@enterDescription\\\" formControlName=\\\"description\\\"></textarea>\\r\\n                        <span class=\\\"help-block\\\">\\r\\n                            {\\r\\n                            translationFormErrors[modelTranslation.value.languageId]?.description,\\r\\n                            select, maxlength {Description must not exceed 500 characters}\\r\\n                            }\\r\\n                        </span>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"form-group\\\" *ngFor=\\\"let modelTranslation of modelTranslations.controls; index as i\\\"\\r\\n                     [hidden]=\\\"modelTranslation.value.languageId !== currentLanguage\\\"\\r\\n                     [formGroupName]=\\\"i\\\"\\r\\n                     [class.has-error]=\\\"translationFormErrors[modelTranslation.value.languageId]?.metaDescription\\\">\\r\\n                    <label i18n-ghmLabel=\\\"@@metaDescription\\\" ghmLabel=\\\"Meta description\\\"\\r\\n                           class=\\\"col-sm-4 control-label\\\"></label>\\r\\n                    <div class=\\\"col-sm-8\\\">\\r\\n                        <textarea rows=\\\"3\\\" class=\\\"form-control\\\" placeholder=\\\"Enter meta description\\\"\\r\\n                                  i18n-placeholder=\\\"@@enterMetaDescription\\\"\\r\\n                                  formControlName=\\\"metaDescription\\\"></textarea>\\r\\n                        <span class=\\\"help-block\\\">\\r\\n                            {\\r\\n                            translationFormErrors[modelTranslation.value.languageId]?.metaDescription,\\r\\n                            select, maxlength {Meta description must not exceed 500 characters}\\r\\n                            }\\r\\n                        </span>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"form-group\\\" *ngFor=\\\"let modelTranslation of modelTranslations.controls; index as i\\\"\\r\\n                     [hidden]=\\\"modelTranslation.value.languageId !== currentLanguage\\\"\\r\\n                     [formGroupName]=\\\"i\\\"\\r\\n                     [class.has-error]=\\\"translationFormErrors[modelTranslation.value.languageId]?.seoLink\\\">\\r\\n                    <label i18n-ghmLabel=\\\"@@seoLink\\\" ghmLabel=\\\"Seo link\\\"\\r\\n                           class=\\\"col-sm-4 control-label\\\"></label>\\r\\n                    <div class=\\\"col-sm-8\\\">\\r\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Enter seo link.\\\"\\r\\n                               i18n-placeholder=\\\"@@enterSeoLink\\\" formControlName=\\\"seoLink\\\">\\r\\n                        <span class=\\\"help-block\\\">\\r\\n                            {\\r\\n                            translationFormErrors[modelTranslation.value.languageId]?.metaDescription,\\r\\n                            select, maxlength {Meta description must not exceed 500 characters}\\r\\n                            }\\r\\n                        </span>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </span>\\r\\n            <div class=\\\"form-group cm-mg-0\\\" [formGroup]=\\\"model\\\"\\r\\n                 [class.has-error]=\\\"formErrors.order\\\">\\r\\n                <label class=\\\"col-sm-4 control-label\\\" i18n-ghmlabel=\\\"@@order\\\" ghmLabel=\\\"Order\\\" [required]=\\\"true\\\">\\r\\n                </label>\\r\\n                <div class=\\\"col-sm-8\\\">\\r\\n                    <input class=\\\"form-control\\\" i18n-placeholder=\\\"@@orderPlaceHolder\\\"\\r\\n                           placeholder=\\\"Please enter order\\\" formControlName=\\\"order\\\">\\r\\n                    <span class=\\\"help-block\\\">{formErrors?.order, select, required {Order is required} isValid {Order is inValid} greaterThan {Order must greater than 0}}</span>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"form-group\\\">\\r\\n                <div class=\\\"col-sm-8 col-sm-offset-4\\\">\\r\\n                    <mat-checkbox formControlName=\\\"isActive\\\" color=\\\"primary\\\" i18n=\\\"@@isActive\\\">\\r\\n                        {model.value.isActive, select, 0 {In Active} 1 {Active}}\\r\\n                    </mat-checkbox>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"form-group\\\">\\r\\n                <div class=\\\"col-sm-8 col-sm-offset-4\\\">\\r\\n                    <mat-checkbox formControlName=\\\"isHomePage\\\" color=\\\"primary\\\" i18n=\\\"@@isHomePage\\\">\\r\\n                        {model.value.isHomePage, select, 0 {Not Home Page} 1 {Home Page}}\\r\\n                    </mat-checkbox>\\r\\n                </div>\\r\\n            </div>\\r\\n        </nh-modal-content>\\r\\n        <nh-modal-footer class=\\\"text-right\\\">\\r\\n            <mat-checkbox [checked]=\\\"isCreateAnother\\\" (change)=\\\"isCreateAnother = !isCreateAnother\\\"\\r\\n                          *ngIf=\\\"!isUpdate\\\"\\r\\n                          i18n=\\\"@@isCreateAnother\\\"\\r\\n                          class=\\\"cm-mgr-5\\\"\\r\\n                          color=\\\"primary\\\">\\r\\n                Create another\\r\\n            </mat-checkbox>\\r\\n            <ghm-button classes=\\\"btn blue cm-mgr-5\\\" [loading]=\\\"isSaving\\\" i18n=\\\"@@save\\\">\\r\\n                Save\\r\\n            </ghm-button>\\r\\n            <ghm-button type=\\\"button\\\" classes=\\\"btn btn-light\\\"\\r\\n                        nh-dismiss=\\\"true\\\"\\r\\n                        [loading]=\\\"isSaving\\\"\\r\\n                        i18n=\\\"@@cancel\\\">\\r\\n                Cancel\\r\\n            </ghm-button>\\r\\n        </nh-modal-footer>\\r\\n    </form>\\r\\n</nh-modal>\\r\\n\"","import {Component, OnInit, ViewChild} from '@angular/core';\r\nimport {BaseFormComponent} from '../../../../base-form.component';\r\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\r\nimport {Category, CategoryTranslation} from '../models/category.model';\r\nimport {NhModalComponent} from '../../../../shareds/components/nh-modal/nh-modal.component';\r\nimport {finalize} from 'rxjs/operators';\r\nimport {CategoryService} from '../category.service';\r\nimport {CategoryDetailViewModel} from '../view-models/category-detail.viewmodel';\r\nimport * as _ from 'lodash';\r\nimport {TreeData} from '../../../../view-model/tree-data';\r\nimport {NumberValidator} from '../../../../validators/number.validator';\r\n\r\n@Component({\r\n    selector: 'app-category-form',\r\n    templateUrl: './category-form.component.html',\r\n    providers: [NumberValidator],\r\n    styleUrls: ['./category-form.component.css']\r\n})\r\nexport class CategoryFormComponent extends BaseFormComponent implements OnInit {\r\n    @ViewChild(NhModalComponent) categoryFormModal: NhModalComponent;\r\n    category = new Category();\r\n    modelTranslation = new CategoryTranslation();\r\n    categoryTreeData: TreeData[] = [];\r\n\r\n    constructor(private fb: FormBuilder,\r\n                private numberValidator: NumberValidator,\r\n                private categoryService: CategoryService) {\r\n        super();\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.renderForm();\r\n    }\r\n\r\n    onModalShown() {\r\n        this.getTree();\r\n    }\r\n\r\n    onModalHidden() {\r\n        this.isUpdate = false;\r\n        this.resetModels();\r\n        if (this.isModified) {\r\n            this.saveSuccessful.emit();\r\n        }\r\n    }\r\n\r\n    add() {\r\n        this.isUpdate = false;\r\n        this.categoryFormModal.open();\r\n    }\r\n\r\n    edit(id: number) {\r\n        this.isUpdate = true;\r\n        this.id = id;\r\n        this.getDetail(id);\r\n        this.categoryFormModal.open();\r\n    }\r\n\r\n    save() {\r\n        const isValid = this.validateModel();\r\n        const isLanguageValid = this.checkLanguageValid();\r\n        if (isValid && isLanguageValid) {\r\n            this.isSaving = true;\r\n            this.category = this.model.value;\r\n            this.category.categoryTranslations = this.modelTranslations.getRawValue();\r\n            this.isSaving = true;\r\n            if (this.isUpdate) {\r\n                this.categoryService.update(this.id, this.category)\r\n                    .pipe(finalize(() => this.isSaving = false))\r\n                    .subscribe(() => {\r\n                        this.isModified = true;\r\n                        this.categoryFormModal.dismiss();\r\n                    });\r\n            } else {\r\n                this.categoryService.insert(this.category)\r\n                    .pipe(finalize(() => this.isSaving = false))\r\n                    .subscribe(() => {\r\n                        if (this.isCreateAnother) {\r\n                            this.resetModels();\r\n                            this.getTree();\r\n                        } else {\r\n                            this.isModified = true;\r\n                            this.categoryFormModal.dismiss();\r\n                        }\r\n                    });\r\n            }\r\n        }\r\n    }\r\n\r\n    private getDetail(id: number) {\r\n        this.subscribers.getDetail = this.categoryService.getDetail(id)\r\n            .subscribe((categoryDetail: CategoryDetailViewModel) => {\r\n                if (categoryDetail) {\r\n                    console.log(categoryDetail);\r\n                    this.model.patchValue(categoryDetail);\r\n                    if (categoryDetail.categoryTranslations && categoryDetail.categoryTranslations.length > 0) {\r\n                        this.modelTranslations.controls.forEach((model: FormGroup) => {\r\n                            const detail = _.find(categoryDetail.categoryTranslations, (translation: CategoryTranslation) => {\r\n                                return translation.languageId === model.value.languageId;\r\n                            });\r\n                            if (detail) {\r\n                                model.patchValue(detail);\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n            });\r\n    }\r\n\r\n    private getTree() {\r\n        this.subscribers.getCategoryTree = this.categoryService.getTree()\r\n            .subscribe((result: TreeData[]) => {\r\n                this.categoryTreeData = result;\r\n            });\r\n    }\r\n\r\n    private renderForm() {\r\n        this.buildForm();\r\n        this.renderTranslationFormArray(this.buildFormLanguage);\r\n    }\r\n\r\n    private buildForm() {\r\n        this.formErrors = this.renderFormError(['order']);\r\n        this.validationMessages = this.renderFormErrorMessage([\r\n            {'order': ['required', 'isValid', 'greaterThan']},\r\n            {'shortName': ['required', 'maxlength']},\r\n        ]);\r\n        this.model = this.fb.group({\r\n            isActive: [this.category.isActive],\r\n            isHomePage: [this.category.isHomePage],\r\n            parentId: [this.category.parentId],\r\n            order: [this.category.order, [this.numberValidator.isValid, this.numberValidator.greaterThan(0)]],\r\n            concurrencyStamp: [this.category.concurrencyStamp],\r\n            modelTranslations: this.fb.array([])\r\n        });\r\n        this.model.valueChanges.subscribe(data => this.validateModel(false));\r\n    }\r\n\r\n    private resetModels() {\r\n        this.isUpdate = false;\r\n        this.model.patchValue({\r\n            isActive: true,\r\n            parentId: null,\r\n        });\r\n        this.modelTranslations.controls.forEach((model: FormGroup) => {\r\n            model.patchValue({\r\n                name: '',\r\n                metaTitle: '',\r\n                description: '',\r\n                metaDescription: '',\r\n                seoLink: ''\r\n            });\r\n        });\r\n        this.clearFormError(this.formErrors);\r\n        this.clearFormError(this.translationFormErrors);\r\n    }\r\n\r\n    private buildFormLanguage = (language: string) => {\r\n        this.translationFormErrors[language] = this.renderFormError(['name', 'metaTitle', 'description', 'metaDescription', 'seoLink']);\r\n        this.translationValidationMessage[language] = this.renderFormErrorMessage([\r\n            {'name': ['required', 'maxlength']},\r\n            {'description': ['maxlength']},\r\n            {'metaTitle': ['maxlength']},\r\n            {'metaDescription': ['maxlength']},\r\n            {'seoLink': ['maxlength']}\r\n        ]);\r\n\r\n        const pageTranslationModel = this.fb.group({\r\n            languageId: [language],\r\n            name: [this.modelTranslation.name, [\r\n                Validators.required,\r\n                Validators.maxLength(256)\r\n            ]],\r\n            seoLink: [this.modelTranslation.seoLink, [\r\n                Validators.maxLength(500)\r\n            ]],\r\n            metaTitle: [this.modelTranslation.metaTitle, [\r\n                Validators.maxLength(256)\r\n            ]],\r\n            metaDescription: [this.modelTranslation.metaDescription, [\r\n                Validators.maxLength(500)\r\n            ]],\r\n            description: [this.modelTranslation.description, [\r\n                Validators.maxLength(500)\r\n            ]],\r\n        });\r\n        pageTranslationModel.valueChanges.subscribe((data: any) => this.validateTranslationModel(false));\r\n        return pageTranslationModel;\r\n    };\r\n}\r\n","module.exports = \"\"","module.exports = \"<h1 class=\\\"page-title\\\">\\r\\n    <span class=\\\"cm-mgr-5\\\" i18n=\\\"@@listCategoryPageTitle\\\">List category</span>\\r\\n    <small i18n=\\\"@@newsModuleTitle\\\">News management</small>\\r\\n</h1>\\r\\n\\r\\n<form class=\\\"form-inline cm-mgb-10\\\" (ngSubmit)=\\\"search()\\\">\\r\\n    <div class=\\\"form-group cm-mgr-5\\\">\\r\\n        <input type=\\\"text\\\" class=\\\"form-control\\\" i18n=\\\"@@enterKeyword\\\" i18n-placeholder placeholder=\\\"Enter keyword.\\\"\\r\\n               name=\\\"keyword\\\" [(ngModel)]=\\\"keyword\\\">\\r\\n    </div>\\r\\n    <div class=\\\"form-group cm-mgr-5\\\">\\r\\n        <button class=\\\"btn blue\\\" [disabled]=\\\"isSearching\\\">\\r\\n            <i class=\\\"fa fa-search\\\" *ngIf=\\\"!isSearching\\\"></i>\\r\\n            <i class=\\\"fa fa-pulse fa-spinner\\\" *ngIf=\\\"isSearching\\\"></i>\\r\\n        </button>\\r\\n    </div>\\r\\n    <div class=\\\"form-group cm-mgr-5\\\">\\r\\n        <button type=\\\"button\\\" class=\\\"btn btn-light\\\" (click)=\\\"refresh()\\\">\\r\\n            <i class=\\\"fa fa-refresh\\\"></i>\\r\\n        </button>\\r\\n    </div>\\r\\n    <div class=\\\"form-group pull-right\\\">\\r\\n        <button type=\\\"button\\\" class=\\\"btn blue\\\" (click)=\\\"add()\\\" i18n=\\\"@@add\\\"\\r\\n                *ngIf=\\\"permission.add\\\">\\r\\n            Add\\r\\n        </button>\\r\\n    </div>\\r\\n</form>\\r\\n\\r\\n\\r\\n<div class=\\\"row\\\">\\r\\n    <div class=\\\"col-sm-12\\\">\\r\\n        <ul class=\\\"ghm-list-item-container\\\">\\r\\n            <ng-template #recursiveTree let-listItems>\\r\\n                <li class=\\\"\\\" *ngFor=\\\"let item of listItems\\\">\\r\\n                    <div class=\\\"ghm-item\\\">\\r\\n                        <div>\\r\\n                            <i class=\\\"fa fa-bars cm-mgr-5\\\"></i>\\r\\n                            {{ item.text }}\\r\\n                        </div>\\r\\n\\r\\n                        <ul class=\\\"actions\\\">\\r\\n                            <li>\\r\\n                                <a href=\\\"javascript://\\\" class=\\\"btn blue btn-outline btn-sm\\\"\\r\\n                                   *ngIf=\\\"permission.edit\\\"\\r\\n                                   (click)=\\\"edit(item.id)\\\">\\r\\n                                    <i class=\\\"fa fa-edit\\\"></i>\\r\\n                                </a></li>\\r\\n                            <li>\\r\\n                                <a href=\\\"javascript://\\\" class=\\\"btn red btn-outline btn-sm\\\"\\r\\n                                   *ngIf=\\\"permission.delete\\\"\\r\\n                                   [swal]=\\\"confirmDelete\\\"\\r\\n                                   (confirm)=\\\"delete(item.id)\\\">\\r\\n                                    <i class=\\\"fa fa-trash-o\\\"></i>\\r\\n                                </a>\\r\\n                            </li>\\r\\n                        </ul>\\r\\n                    </div>\\r\\n                    <ul class=\\\"ghm-list-item-sub-container\\\"\\r\\n                        ghmSortableList\\r\\n                        [sources]=\\\"item?.children\\\">\\r\\n                        <ng-container\\r\\n                                *ngTemplateOutlet=\\\"recursiveTree; context:{ $implicit: item.children }\\\"></ng-container>\\r\\n                    </ul>\\r\\n                </li>\\r\\n            </ng-template>\\r\\n            <ng-container *ngTemplateOutlet=\\\"recursiveTree; context:{ $implicit: listItems }\\\"></ng-container>\\r\\n        </ul>\\r\\n    </div>\\r\\n</div>\\r\\n<app-category-form (saveSuccessful)=\\\"search()\\\"></app-category-form>\\r\\n<swal\\r\\n        #confirmDelete\\r\\n        i18n-title=\\\"@@confirmDeleteNewsCategoryTitle\\\"\\r\\n        i18n-text=\\\"@@confirmDeleteNewsCategoryText\\\"\\r\\n        i18n-confirmButtonText=\\\"@@accept\\\"\\r\\n        i18n-cancelButtonText=\\\"@@cancel\\\"\\r\\n        title=\\\"Are you sure for delete this category?\\\"\\r\\n        text=\\\"Warning: You can't recover this category after delete.\\\"\\r\\n        type=\\\"question\\\"\\r\\n        confirmButtonText=\\\"Accept\\\"\\r\\n        cancelButtonText=\\\"Cancel\\\">\\r\\n</swal>\\r\\n\"","import { Component, Inject, OnInit, ViewChild } from '@angular/core';\r\nimport { BaseListComponent } from '../../../../base-list.component';\r\nimport { TreeData } from '../../../../view-model/tree-data';\r\nimport { CategoryService } from '../category.service';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { finalize } from 'rxjs/operators';\r\nimport { CategoryFormComponent } from '../category-form/category-form.component';\r\nimport { ActionResultViewModel } from '../../../../shareds/view-models/action-result.viewmodel';\r\nimport { SortEvent } from '../../../../shareds/directives/ghm-draggable/ghm-sortable-list.directive';\r\nimport { IPageId, PAGE_ID } from '../../../../configs/page-id.config';\r\n\r\n@Component({\r\n    selector: 'app-category-list',\r\n    templateUrl: './category-list.component.html',\r\n    styleUrls: ['./category-list.component.css']\r\n})\r\nexport class CategoryListComponent extends BaseListComponent<TreeData> implements OnInit {\r\n    @ViewChild(CategoryFormComponent) categoryFormComponent: CategoryFormComponent;\r\n    isActive: boolean;\r\n\r\n    constructor(\r\n        @Inject(PAGE_ID) public pageId: IPageId,\r\n        private route: ActivatedRoute,\r\n        private categoryService: CategoryService) {\r\n        super();\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.appService.setupPage(this.pageId.NEWS, this.pageId.NEWS_CATEGORY, 'Danh sách chuyên mục.', 'Quản lý chuyên mục.');\r\n        this.subscribers.getRouteData = this.route.data.subscribe((result: { data: TreeData[] }) => {\r\n            this.listItems = result.data;\r\n        });\r\n    }\r\n\r\n    onSorted(event: SortEvent) {\r\n        console.log('sorted', event);\r\n    }\r\n\r\n    search() {\r\n        this.isSearching = true;\r\n        this.subscribers.search = this.categoryService.search(this.keyword, this.isActive)\r\n            .pipe(finalize(() => this.isSearching = false))\r\n            .subscribe((result: TreeData[]) => {\r\n                console.log(result);\r\n                this.listItems = result;\r\n            });\r\n    }\r\n\r\n    refresh() {\r\n\r\n    }\r\n\r\n    add() {\r\n        this.categoryFormComponent.add();\r\n    }\r\n\r\n    edit(id: number) {\r\n        this.categoryFormComponent.edit(id);\r\n    }\r\n\r\n    delete(id: string) {\r\n        this.categoryService.delete(id)\r\n            .subscribe((result: ActionResultViewModel) => {\r\n                this.search();\r\n            });\r\n    }\r\n}\r\n","module.exports = \".select-category-container {\\n  list-style-type: none; }\\n  .select-category-container li {\\n    padding: 5px; }\\n  .select-category-container li h4 {\\n      margin-top: 0px;\\n      margin-bottom: 0px; }\\n  .select-category-container .media {\\n    margin-top: 10px; }\\n  .select-category-container .media:first-child {\\n      margin-top: 0px; }\\n  .select-category-container .selected {\\n    border-left: 3px solid #007455; }\\n  .list-items {\\n  border: none !important; }\\n\"","import {Inject, Injectable} from '@angular/core';\r\nimport {ActivatedRouteSnapshot, Resolve} from '@angular/router';\r\nimport {APP_CONFIG, IAppConfig} from '../../../configs/app.config';\r\nimport {ToastrService} from 'ngx-toastr';\r\nimport {HttpClient, HttpParams} from '@angular/common/http';\r\nimport {Observable} from 'rxjs';\r\nimport {ActionResultViewModel} from '../../../shareds/view-models/action-result.viewmodel';\r\nimport {map, finalize} from 'rxjs/internal/operators';\r\nimport {SearchResultViewModel} from '../../../shareds/view-models/search-result.viewmodel';\r\nimport {TreeData} from '../../../view-model/tree-data';\r\nimport {Category} from './models/category.model';\r\nimport {CategoryDetailViewModel} from './view-models/category-detail.viewmodel';\r\nimport {SpinnerService} from '../../../core/spinner/spinner.service';\r\nimport {CategorySearchForSelectViewModel} from './view-models/category-search-for-select.viewmodel';\r\n\r\n@Injectable()\r\nexport class CategoryService implements Resolve<TreeData[]> {\r\n    url = 'categories/';\r\n\r\n    constructor(@Inject(APP_CONFIG) private appConfig: IAppConfig,\r\n                private toastr: ToastrService,\r\n                private spinnerService: SpinnerService,\r\n                private http: HttpClient) {\r\n        this.url = `${appConfig.WEBSITE_API_URL}${this.url}`;\r\n    }\r\n\r\n    resolve(route: ActivatedRouteSnapshot, state: Object) {\r\n        const queryParams = route.queryParams;\r\n        const keyword = queryParams.keyword;\r\n        const isActive = queryParams.isActive;\r\n        return this.search(keyword, isActive);\r\n    }\r\n\r\n    insert(category: Category): Observable<ActionResultViewModel> {\r\n        return this.http.post(`${this.url}`, category).pipe(map((result: ActionResultViewModel) => {\r\n            this.toastr.success(result.message);\r\n            return result;\r\n        })) as Observable<ActionResultViewModel>;\r\n    }\r\n\r\n    update(id: string, category: Category): Observable<ActionResultViewModel> {\r\n        return this.http.post(`${this.url}${id}`,\r\n            category)\r\n            .pipe(map((result: ActionResultViewModel) => {\r\n                this.toastr.success(result.message);\r\n                return result;\r\n            })) as Observable<ActionResultViewModel>;\r\n    }\r\n\r\n    delete(id: string): Observable<ActionResultViewModel> {\r\n        this.spinnerService.show();\r\n        return this.http.delete(`${this.url}${id}`)\r\n            .pipe(\r\n                finalize(() => this.spinnerService.hide()),\r\n                map((result: ActionResultViewModel) => {\r\n                    this.toastr.success(result.message);\r\n                    return result;\r\n                })\r\n            ) as Observable<ActionResultViewModel>;\r\n    }\r\n\r\n    search(keyword: string, isActive?: boolean): Observable<TreeData[]> {\r\n        return this.http.get(`${this.url}`, {\r\n            params: new HttpParams()\r\n                .set('keyword', keyword ? keyword : '')\r\n                .set('isActive', isActive != null && isActive !== undefined ? isActive.toString() : '')\r\n        })\r\n            .pipe(map((result: SearchResultViewModel<TreeData>) => result.items)) as Observable<TreeData[]>;\r\n    }\r\n\r\n    searchForSelect(keyword: string, page: number = 1, pageSize: number = this.appConfig.PAGE_SIZE):\r\n    Observable<SearchResultViewModel<CategorySearchForSelectViewModel>> {\r\n        return this.http.get(`${this.url}search-for-select`, {\r\n            params: new HttpParams()\r\n                .set('keyword', keyword ? keyword : '')\r\n                .set('page', page.toString())\r\n                .set('pageSize', pageSize.toString())\r\n        }).pipe(map((result: SearchResultViewModel<CategorySearchForSelectViewModel>) => result)) as Observable<SearchResultViewModel<CategorySearchForSelectViewModel>>;\r\n    }\r\n\r\n    getTree(): Observable<TreeData[]> {\r\n        return this.http.get(`${this.url}tree`)\r\n            .pipe(map((result: SearchResultViewModel<TreeData>) => result.items)) as Observable<TreeData[]>;\r\n    }\r\n\r\n    getDetail(id: number): Observable<CategoryDetailViewModel> {\r\n        this.spinnerService.show();\r\n        return this.http.get(`${this.url}${id}`)\r\n            .pipe(\r\n                finalize(() => this.spinnerService.hide()),\r\n                map((result: ActionResultViewModel<CategoryDetailViewModel>) => {\r\n                    return result.data;\r\n                })\r\n            ) as Observable<CategoryDetailViewModel>;\r\n    }\r\n}\r\n","export class Category {\r\n    isActive: boolean;\r\n    parentId?: number;\r\n    isHomePage: boolean;\r\n    concurrencyStamp: string;\r\n    categoryTranslations: CategoryTranslation[];\r\n    order: number;\r\n\r\n    constructor() {\r\n        this.isActive = true;\r\n        this.isHomePage = false;\r\n        this.order = 1;\r\n    }\r\n}\r\n\r\nexport class CategoryTranslation {\r\n    languageId: string;\r\n    name: string;\r\n    metaTitle: string;\r\n    description: string;\r\n    metaDescription: string;\r\n    seoLink: string;\r\n}\r\n","module.exports = \"<div class=\\\"row\\\">\\r\\n    <div class=\\\"col-sm-12\\\">\\r\\n        <form class=\\\"form-inline\\\" (ngSubmit)=\\\"search(1)\\\">\\r\\n            <div class=\\\"form-group\\\">\\r\\n                <input type=\\\"text\\\" class=\\\"form-control\\\" i18n-placeholder=\\\"@@searchPlaceHolder\\\"\\r\\n                       placeholder=\\\"Please enter categoryName\\\"\\r\\n                       (keyup)=\\\"keyword = searchGroupKeyword.value\\\" #searchGroupKeyword/>\\r\\n            </div>\\r\\n            <div class=\\\"form-group\\\">\\r\\n                <button type=\\\"button\\\" class=\\\"btn blue\\\">\\r\\n                    <i class=\\\"fa fa-search\\\"></i>\\r\\n                </button>\\r\\n            </div>\\r\\n        </form>\\r\\n    </div>\\r\\n</div>\\r\\n<div class=\\\"row cm-mgt-10\\\">\\r\\n    <div class=\\\"col-sm-12\\\">\\r\\n        <ul class=\\\"media-list select-category-container cm-pdl-0\\\">\\r\\n            <li class=\\\"media cursor-pointer\\\" *ngFor=\\\"let item of listGroup\\\"\\r\\n                [class.selected]=\\\"item.selected\\\"\\r\\n                (click)=\\\"onSelectItem(item)\\\">\\r\\n                <h4>{{item.name}}</h4>\\r\\n            </li>\\r\\n        </ul>\\r\\n        <ghm-paging [totalRows]=\\\"totalRows\\\" [pageSize]=\\\"pageSize\\\" [currentPage]=\\\"currentPage\\\" [pageShow]=\\\"6\\\"\\r\\n                    (pageClick)=\\\"search($event)\\\"\\r\\n                    [isDisabled]=\\\"isSearching\\\" i18n-pageName=\\\"@@news\\\" pageName=\\\"News\\\"></ghm-paging>\\r\\n    </div>\\r\\n</div>\\r\\n<div class=\\\"row\\\">\\r\\n    <div class=\\\"col-sm-12 text-right\\\">\\r\\n        <button type=\\\"button\\\" class=\\\"btn blue cm-mgr-5\\\" (click)=\\\"accept()\\\" i18n=\\\"@@accept\\\">\\r\\n            Accept\\r\\n        </button>\\r\\n        <button type=\\\"button\\\" class=\\\"btn default\\\" (click)=\\\"cancel()\\\" i18n=\\\"@@close\\\">\\r\\n            Close\\r\\n        </button>\\r\\n    </div>\\r\\n</div>\"","import {AfterViewInit, Component, EventEmitter, OnInit, Output} from '@angular/core';\r\nimport {ToastrService} from 'ngx-toastr';\r\nimport {BaseListComponent} from '../../../../base-list.component';\r\nimport {Category} from '../models/category.model';\r\nimport {CategoryService} from '../category.service';\r\nimport * as _ from 'lodash';\r\n\r\n@Component({\r\n    selector: 'app-category-select',\r\n    templateUrl: './select-category.component.html',\r\n    styleUrls: ['../category.scss']\r\n    // providers: [CategoryService]\r\n})\r\n\r\nexport class SelectCategoryComponent extends BaseListComponent<Category> implements OnInit, AfterViewInit {\r\n    @Output() onCancel = new EventEmitter();\r\n    @Output() onAccept = new EventEmitter();\r\n    type = 0;\r\n    keyword = '';\r\n    listGroup = [];\r\n\r\n    constructor(private toastr: ToastrService,\r\n                private categoryService: CategoryService) {\r\n        super();\r\n    }\r\n\r\n    ngOnInit() {\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        this.search(1);\r\n    }\r\n\r\n    search(currentPage) {\r\n        this.currentPage = currentPage;\r\n        this.isSearching = true;\r\n        this.categoryService.searchForSelect(this.keyword, this.currentPage, this.pageSize)\r\n            .subscribe((result: any) => {\r\n                this.isSearching = true;\r\n                this.listGroup = _.map(result.items, (item: any) => {\r\n                    item.selected = false;\r\n                    return item;\r\n                });\r\n                this.totalRows = result.totalRows;\r\n            });\r\n    }\r\n\r\n    onTabSelect(index) {\r\n        this.type = index;\r\n        this.search(1);\r\n    }\r\n\r\n    onSelectItem(groupItem) {\r\n        groupItem.selected = !groupItem.selected;\r\n    }\r\n\r\n    accept() {\r\n        const listSelectedItem = _.filter(this.listGroup, (item) => {\r\n            return item.selected;\r\n        });\r\n\r\n        if (listSelectedItem.length === 0) {\r\n            this.toastr.warning('Vui lòng chọn ít nhất 1 nhóm.');\r\n            return;\r\n        }\r\n        this.onAccept.emit(_.map(listSelectedItem, (item, index) => {\r\n            return {\r\n                id: item.id,\r\n                name: item.name,\r\n                order: index\r\n            };\r\n        }));\r\n    }\r\n\r\n    cancel() {\r\n        this.onCancel.emit();\r\n    }\r\n}\r\n","export class ChangeListNewsStatus {\r\n    newsIds: string[];\r\n    status: number;\r\n    declineReason: string;\r\n\r\n    constructor(newsIds?: string[], status?: number, delcineReason?: string) {\r\n        this.newsIds = newsIds;\r\n        this.status = status;\r\n        this.declineReason = delcineReason;\r\n    }\r\n}\r\n","export class ChangeNewsStatus {\r\n    status: number;\r\n    declineReason: string;\r\n\r\n    constructor(status?: number, delcineReason?: string) {\r\n        this.status = status;\r\n        this.declineReason = delcineReason;\r\n    }\r\n}\r\n","import {Tag} from './news.model';\r\n\r\nexport class NewsTranslation {\r\n    languageId: string;\r\n    title: string;\r\n    metaTitle: string;\r\n    description: string;\r\n    metaDescription: string;\r\n    metaKeyword: string;\r\n    seoLink: string;\r\n    content: string;\r\n    tags: Tag[];\r\n}\r\n","import {NewsTranslation} from './news-translations.model';\r\n\r\nexport const NewsStatus = {\r\n    draft: 0, // Nháp\r\n    pending: 1, // Đang chờ\r\n    approved: 2, // Đang duyệt\r\n    decline: 3 // Hủy duyệt\r\n};\r\n\r\nexport class Tag {\r\n    tagId: string;\r\n    name: string;\r\n}\r\n\r\nexport class News {\r\n    id: string;\r\n    concurrencyStamp: string;\r\n    featureImage: string;\r\n    bannerImage: string;\r\n    altImage: string;\r\n    source: string;\r\n    isHot: boolean;\r\n    isHomePage: boolean;\r\n    isActive: boolean;\r\n    categoriesNews: number[];\r\n    modelTranslations: NewsTranslation[];\r\n\r\n    constructor() {\r\n        this.isHot = true;\r\n        this.isHomePage = false;\r\n        this.isActive = true;\r\n        this.modelTranslations = [];\r\n        this.categoriesNews = [];\r\n    }\r\n}\r\n","export class TreeComment {\r\n    id?: number;\r\n    parentId?: number;\r\n    idPath: string;\r\n    fullName: string;\r\n    email: string;\r\n    avatar: string;\r\n    sendTime: Date;\r\n    content: string;\r\n    childCount?: number;\r\n    children?: TreeComment[];\r\n\r\n    constructor(id?: number,\r\n                parentId?: number,\r\n                idPath?: string,\r\n                fullName?: string,\r\n                email?: string,\r\n                avatar?: string,\r\n                sendTime?: Date,\r\n                content?: string,\r\n                childCount?: number,\r\n                children?: TreeComment[]) {\r\n        this.id = id;\r\n        this.parentId = parentId;\r\n        this.idPath = idPath;\r\n        this.fullName = fullName;\r\n        this.email = email;\r\n        this.avatar = avatar;\r\n        this.sendTime = sendTime;\r\n        this.content = content;\r\n        this.childCount = childCount;\r\n        this.children = children;\r\n    }\r\n}\r\n","module.exports = \"<div class=\\\"media\\\" *ngFor=\\\"let comment of comments\\\">\\r\\n    <div class=\\\"media-left\\\">\\r\\n        <a href=\\\"#\\\">\\r\\n            <img ghmImage [src]=\\\"comment.avatar\\\" class=\\\"media-object w50 avatar\\\" [isUrlAbsolute]=\\\"true\\\">\\r\\n        </a>\\r\\n    </div>\\r\\n    <div class=\\\"media-body\\\">\\r\\n        <h4 class=\\\"media-heading\\\">\\r\\n            <a href=\\\"#\\\">{{comment.fullName}}</a> on\\r\\n            <span class=\\\"c-date\\\">{{comment.sendTime | dateTimeFormat : 'DD/MM/YYYY hh:mm'}}</span>\\r\\n        </h4>\\r\\n        {{comment.content}}\\r\\n        <app-new-comment [comments]=\\\"comment.children\\\"></app-new-comment>\\r\\n    </div>\\r\\n</div>\\r\\n\"","import {Component, Input} from '@angular/core';\r\nimport {TreeComment} from '../model/tree-comment.model';\r\n\r\n@Component({\r\n    selector: 'app-new-comment',\r\n    templateUrl: './new-comment.component.html',\r\n    styleUrls: ['./new-comment.scss']\r\n})\r\n\r\nexport class NewCommentComponent {\r\n    @Input() comments: TreeComment[];\r\n\r\n    constructor() {\r\n    }\r\n}\r\n","module.exports = \".media {\\n  margin: 15px 0; }\\n  .media .media-body > .media:last-child {\\n    margin-bottom: 0; }\\n  .media-object {\\n  height: 50px;\\n  width: 50px;\\n  border-radius: 50px !important; }\\n  .media-heading a {\\n  color: #9aa5b2 !important;\\n  font-weight: 600 !important; }\\n  .media-heading a:hover {\\n    color: #3598DC;\\n    text-decoration: none; }\\n  .media-heading .c-date {\\n  font-size: 14px; }\\n\"","module.exports = \"<div class=\\\"blog-page blog-content-2\\\">\\r\\n    <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-sm-9 cm-pdr-0\\\">\\r\\n            <div class=\\\"portlet light\\\">\\r\\n                <div class=\\\"portlet-title cm-mgb-0\\\">\\r\\n                    <div class=\\\"caption font-blue-sharp uppercase cm-mgt-5 cm-mgl-10\\\">\\r\\n                        <i class=\\\"icon-speech font-blue-sharp\\\"></i>\\r\\n                        <span class=\\\"caption-subject font-blue-sharp bold\\\">Content</span>\\r\\n                    </div>\\r\\n                    <div class=\\\"actions\\\">\\r\\n                        <a href=\\\"javascript:;\\\" class=\\\"btn btn-sm default cm-mgr-5\\\" routerLink=\\\"/news\\\" title=\\\"Back\\\">\\r\\n                            <i class=\\\"fa fa fa-arrow-left\\\"></i> Back to list </a>\\r\\n                        <a href=\\\"javascript:;\\\" class=\\\"btn btn-sm blue cm-mgr-5\\\"\\r\\n                           *ngIf=\\\"((newDetail?.status !== newsStatus.pending) && newDetail?.creatorId === currentUser.id)\\r\\n                                   || (newDetail?.status === newsStatus.pending && newDetail?.isApprove)\\\"\\r\\n                           (click)=\\\"edit()\\\">\\r\\n                            <i class=\\\"fa fa-edit\\\"></i>\\r\\n                            Edit\\r\\n                        </a>\\r\\n                        <a href=\\\"javascript:;\\\" class=\\\"btn btn-sm red cm-mgr-5\\\"\\r\\n                           *ngIf=\\\"((newDetail?.status === newsStatus.decline || newDetail?.status === newsStatus.draft) && newDetail?.creatorId === currentUser.id)\\\"\\r\\n                           [swal]=\\\"confirmDeleteNews\\\"\\r\\n                           (confirm)=\\\"delete()\\\">\\r\\n                            <i class=\\\"fa fa-trash\\\"></i>\\r\\n                            Delete\\r\\n                        </a>\\r\\n                        <div class=\\\"btn-group cm-mgr-5\\\" *ngIf=\\\"languages && languages.length > 1\\\">\\r\\n                            <a class=\\\"btn btn-sm default\\\" href=\\\"javascript:;\\\" data-toggle=\\\"dropdown\\\"\\r\\n                               aria-expanded=\\\"false\\\">\\r\\n                                <i class=\\\"fa fa-globe\\\" aria-hidden=\\\"true\\\"></i> {{currentLanguage}}\\r\\n                                <i class=\\\"fa fa-angle-down\\\" i18n=\\\"@@language\\\"> </i>\\r\\n                                Language\\r\\n                            </a>\\r\\n                            <ul class=\\\"dropdown-menu pull-right\\\">\\r\\n                                <li *ngFor=\\\"let language of languages\\\">\\r\\n                                    <a href=\\\"javascript:;\\\" (click)=\\\"selectLanguage(language)\\\">\\r\\n                                        {{language.name}} </a>\\r\\n                                </li>\\r\\n                            </ul>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"portlet-body cm-pdt-0\\\">\\r\\n                    <div class=\\\"blog-single-content bordered blog-container\\\">\\r\\n                        <div class=\\\"media\\\">\\r\\n                            <div class=\\\"media-left\\\">\\r\\n                                <img ghmImage [src]=\\\"newDetail?.featureImage\\\" class=\\\"w250\\\" [isUrlAbsolute]=\\\"true\\\">\\r\\n                            </div>\\r\\n                            <div class=\\\"media-body\\\">\\r\\n                                <div class=\\\"blog-single-head\\\" *ngFor=\\\"let newTranslation of newsTranslation; index as i\\\"\\r\\n                                     [hidden]=\\\"newTranslation.languageId !== currentLanguage\\\">\\r\\n                                    <h4 class=\\\"blog-single-head-title\\\">{{newTranslation.title}}\\r\\n                                    </h4>\\r\\n                                    <ul class=\\\"list-inline\\\">\\r\\n                                        <li class=\\\"list-items\\\">\\r\\n                                            <i class=\\\"icon-calendar font-blue\\\"></i>\\r\\n                                            <a href=\\\"javascript:;\\\">{{newDetail?.createTime | dateTimeFormat :\\r\\n                                                'DD/MM/YYYY hh:mm'}}</a>\\r\\n                                        </li>\\r\\n                                        <li class=\\\"list-items\\\">\\r\\n                                            <i class=\\\"icon-user font-blue\\\"></i>\\r\\n                                            <a href=\\\"javascript:;\\\">{{newDetail.creatorFullName}}</a>\\r\\n                                        </li>\\r\\n                                    </ul>\\r\\n                                </div>\\r\\n                                <div class=\\\"blog-single-description\\\"\\r\\n                                     *ngFor=\\\"let newTranslation of newsTranslation; index as i\\\"\\r\\n                                     [hidden]=\\\"newTranslation.languageId !== currentLanguage\\\">\\r\\n                                    {{newTranslation.description}}\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"blog-single-desc\\\" *ngFor=\\\"let newTranslation of newsTranslation; index as i\\\"\\r\\n                             [hidden]=\\\"newTranslation.languageId !== currentLanguage\\\">\\r\\n                            <nh-safeHtml [html]=\\\"newTranslation.content\\\"></nh-safeHtml>\\r\\n                        </div>\\r\\n                        <div class=\\\"blog-single-foot\\\" *ngFor=\\\"let newTranslation of newsTranslation; index as i\\\"\\r\\n                             [hidden]=\\\"newTranslation.languageId !== currentLanguage || newTranslation.tags?.length === 0\\\">\\r\\n                            <ul class=\\\"blog-post-tags\\\" *ngIf=\\\"newTranslation.tags && newTranslation.tags.length> 0\\\">\\r\\n                                <li *ngFor=\\\"let tag of newTranslation.tags\\\" class=\\\"uppercase\\\">\\r\\n                                    <a href=\\\"javascript:;\\\">{{tag.name}}</a>\\r\\n                                </li>\\r\\n                            </ul>\\r\\n                        </div>\\r\\n                        <div class=\\\"blog-comments\\\" *ngIf=\\\"newDetail?.commentCount > 0\\\">\\r\\n                            <h3 class=\\\"sbold blog-comments-title\\\" i18n=\\\"@@comment\\\">Comments (<span>{{listComment?.length}}</span>)\\r\\n                            </h3>\\r\\n                            <div class=\\\"c-comment-list\\\">\\r\\n                                <app-new-comment [comments]=\\\"comments\\\"></app-new-comment>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"col-sm-3\\\">\\r\\n            <div class=\\\"portlet light\\\">\\r\\n                <div class=\\\"portlet-title cm-mgb-0\\\">\\r\\n                    <div class=\\\"caption uppercase cm-mgt-5 cm-mgl-10 cm-mgb-25\\\">\\r\\n                        <i class=\\\"icon-speech font-blue-sharp\\\"></i>\\r\\n                        <span class=\\\"caption-subject font-blue-sharp bold\\\">Approve</span>\\r\\n                    </div>\\r\\n                    <div class=\\\"actions\\\">\\r\\n                        <a href=\\\"javascript:;\\\" class=\\\"btn btn-sm blue cm-mgr-5\\\"\\r\\n                           *ngIf=\\\"currentUser.id === newDetail?.creatorId && (newDetail.status === newsStatus.draft || newDetail?.status === newsStatus.decline)\\\"\\r\\n                           [swal]=\\\"confirmSendNews\\\"\\r\\n                           (confirm)=\\\"send(newsStatus.pending)\\\">Send</a>\\r\\n                        <a href=\\\"javascript:;\\\" class=\\\"btn btn-sm blue cm-mgr-5\\\"\\r\\n                           *ngIf=\\\"newDetail?.status === newsStatus.pending && newDetail?.isApprove\\\"\\r\\n                           [swal]=\\\"confirmApproveNews\\\"\\r\\n                           (confirm)=\\\"send(newsStatus.approved)\\\">\\r\\n                            Approve </a>\\r\\n                        <a href=\\\"javascript:;\\\" class=\\\"btn btn-sm red cm-mgr-5\\\"\\r\\n                           *ngIf=\\\"newDetail?.status === newsStatus.pending && newDetail?.isApprove\\\"\\r\\n                           [swal]=\\\"confirmDeclineNews\\\"\\r\\n                           (confirm)=\\\"declineNew($event)\\\">\\r\\n                            Decline\\r\\n                        </a>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"portlet-body cm-pdt-0\\\">\\r\\n                    <div class=\\\"blog-single-sidebar bordered blog-container\\\">\\r\\n                        <h3 class=\\\"blog-sidebar-title uppercase cm-mgt-0\\\" i18n=\\\"@@attribute\\\">Attribute</h3>\\r\\n                        <div class=\\\"form-group cm-mg-0\\\">\\r\\n                            <mat-checkbox color=\\\"primary\\\" i18n=\\\"@@isHost\\\" [disabled]=\\\"true\\\"\\r\\n                                          [checked]=\\\"newDetail?.isHot\\\">\\r\\n                                {newDetail?.isHot, select, 0 {Normal} 1 {Hot}}\\r\\n                            </mat-checkbox>\\r\\n                        </div>\\r\\n                        <div class=\\\"form-group cm-mg-0\\\">\\r\\n                            <mat-checkbox color=\\\"primary\\\" [disabled]=\\\"true\\\" i18n=\\\"@@isHomePage\\\"\\r\\n                                          [checked]=\\\"newDetail?.isHomePage\\\">\\r\\n                                {newDetail?.isHomePage, select, 0 {Not Home Page} 1 {Home Page}}\\r\\n                            </mat-checkbox>\\r\\n                        </div>\\r\\n                        <div class=\\\"form-group cm-mg-0\\\">\\r\\n                            <mat-checkbox color=\\\"primary\\\" [disabled]=\\\"true\\\" i18n=\\\"@@isActive\\\"\\r\\n                                          [checked]=\\\"newDetail?.isActive\\\">\\r\\n                                {newDetail?.isActive, select, 0 {Inactive} 1 {Active}}\\r\\n                            </mat-checkbox>\\r\\n                        </div>\\r\\n                        <div class=\\\"form-group cm-mg-0\\\">\\r\\n                            <span class=\\\"blog-sidebar-title\\\" i18n=\\\"@@status\\\">Status</span> &nbsp;\\r\\n                            <span class=\\\"badge\\\" [class.badge-danger]=\\\"newDetail?.status === newsStatus?.decline\\\"\\r\\n                                  [class.badge-success]=\\\"newDetail?.status === newsStatus.approved\\\"\\r\\n                                  [class.badge-warning]=\\\"newDetail?.status === newsStatus.pending\\\"\\r\\n                                  [class.badge-draft]=\\\"newDetail?.status === newsStatus.draft\\\"> {{newDetail?.status === newsStatus.draft ? 'Draft' :\\r\\n                                                                                                    newDetail?.status === newsStatus.pending ? 'Pending' :\\r\\n                                                                                                        newDetail?.status === newsStatus.approved ? 'Approved' :\\r\\n                                                                                                            newDetail?.status === newsStatus.decline ? 'Decline' : ''}}\\r\\n                            </span>\\r\\n                        </div>\\r\\n                        <div class=\\\"form-group cm-mg-0\\\" *ngIf=\\\"newDetail?.status === newsStatus?.decline\\\">\\r\\n                            <span class=\\\"blog-sidebar-title\\\" i18n=\\\"@@declineRreason\\\">Decline Reason: {{newDetail?.approverComment}}</span>\\r\\n                        </div>\\r\\n                        <div class=\\\"blog-single-sidebar-recent\\\"\\r\\n                             *ngIf=\\\"listCategoryNews && listCategoryNews?.length > 0\\\">\\r\\n                            <h3 class=\\\"blog-sidebar-title uppercase\\\" i18n=\\\"@@category\\\">Category</h3>\\r\\n                            <ul>\\r\\n                                <li *ngFor=\\\"let category of listCategoryNews\\\"\\r\\n                                    [hidden]=\\\"category.languageId !== currentLanguage\\\">\\r\\n                                    <a href=\\\"javascript:;\\\">{{category.categoryName}}</a>\\r\\n                                </li>\\r\\n                            </ul>\\r\\n                        </div>\\r\\n                        <div class=\\\"blog-single-sidebar-recent\\\">\\r\\n                            <h3 class=\\\"blog-sidebar-title uppercase\\\" i18n=\\\"@@category\\\">Seo Content</h3>\\r\\n                            <div class=\\\"blog-single-seo\\\" *ngFor=\\\"let newTranslation of newsTranslation; index as i\\\"\\r\\n                                 [hidden]=\\\"newTranslation.languageId !== currentLanguage\\\">\\r\\n                                <app-new-seo [title]=\\\"newTranslation?.metaTitle\\\"\\r\\n                                             [seoLink]=\\\"newTranslation.seoLink\\\"\\r\\n                                             [metaKeyword]=\\\"newTranslation.metaKeyword\\\"\\r\\n                                             [description]=\\\"newTranslation.metaDescription\\\"></app-new-seo>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n<swal\\r\\n        #confirmDeleteNews\\r\\n        i18n=\\\"@@confirmDeleteNews\\\"\\r\\n        i18n-title=\\\"@@titleConfirmDeleteNews\\\"\\r\\n        i18n-text=\\\"@@textConfitmDeleteNews\\\"\\r\\n        title=\\\"Are you sure for delete this news?\\\"\\r\\n        text=\\\"You can't recover this video after news.\\\"\\r\\n        type=\\\"question\\\"\\r\\n        [showCancelButton]=\\\"true\\\"\\r\\n        [focusCancel]=\\\"true\\\">\\r\\n</swal>\\r\\n\\r\\n<swal\\r\\n        #confirmSendNews\\r\\n        i18n=\\\"@@confirmSendNews\\\"\\r\\n        i18n-title=\\\"@@titleConfirmSendNews\\\"\\r\\n        i18n-text=\\\"@@textConfitmSendNews\\\"\\r\\n        title=\\\"Are you sure for send this news?\\\"\\r\\n        type=\\\"question\\\"\\r\\n        [showCancelButton]=\\\"true\\\"\\r\\n        [focusCancel]=\\\"true\\\">\\r\\n</swal>\\r\\n\\r\\n<swal\\r\\n        #confirmApproveNews\\r\\n        i18n=\\\"@@confirmApproveNews\\\"\\r\\n        i18n-title=\\\"@@titleConfirmApproveNews\\\"\\r\\n        i18n-text=\\\"@@textConfirmApproveNews\\\"\\r\\n        title=\\\"Are you sure for approve this news?\\\"\\r\\n        type=\\\"question\\\"\\r\\n        [showCancelButton]=\\\"true\\\"\\r\\n        [focusCancel]=\\\"true\\\">\\r\\n</swal>\\r\\n\\r\\n<swal #confirmDeclineNews\\r\\n      i18n=\\\"@@confirmDeclineNews\\\"\\r\\n      i18n-title=\\\"@@titleConfirmDeclineNews\\\"\\r\\n      i18n-text=\\\"@@textConfirmDeclineNews\\\"\\r\\n      title=\\\"Decline Reason\\\"\\r\\n      input=\\\"textarea\\\"\\r\\n      type=\\\"warning\\\"\\r\\n      size=\\\"lage\\\"\\r\\n      customClass=\\\"w500\\\"\\r\\n      inputPlaceholder=\\\"Please enter decline reason\\\"\\r\\n      [showCancelButton]=\\\"true\\\"\\r\\n      [focusCancel]=\\\"true\\\">>\\r\\n</swal>\\r\\n\"","import {Component, Inject, OnInit} from '@angular/core';\r\nimport {NewDetailViewModel} from '../viewmodel/new-detail.viewmodel';\r\nimport {NewsService} from '../service/news.service';\r\nimport {ActionResultViewModel} from '../../../../shareds/view-models/action-result.viewmodel';\r\nimport {NewsTranslation} from '../model/news-translations.model';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\nimport {NewsStatus} from '../model/news.model';\r\nimport {BaseFormComponent} from '../../../../base-form.component';\r\nimport {IPageId, PAGE_ID} from '../../../../configs/page-id.config';\r\nimport {CommentViewModel} from '../viewmodel/comment.viewmodel';\r\nimport * as _ from 'lodash';\r\nimport {TreeComment} from '../model/tree-comment.model';\r\nimport {ToastrService} from 'ngx-toastr';\r\nimport {ChangeNewsStatus} from '../model/newStatus.model';\r\nimport {CategoryNewsViewModel} from '../viewmodel/categoryNewsViewModel';\r\n\r\n@Component({\r\n    selector: 'app-new-detail',\r\n    templateUrl: './new-detail.component.html',\r\n    styleUrls: ['../news.scss']\r\n})\r\n\r\nexport class NewDetailComponent extends BaseFormComponent implements OnInit {\r\n    newDetail: NewDetailViewModel;\r\n    newsTranslation: NewsTranslation[];\r\n    comments = [];\r\n    listCategory;\r\n    isApprove;\r\n    newsStatus = NewsStatus;\r\n    currentUser;\r\n    declineReason;\r\n    listComment = [];\r\n    listCategoryNews: CategoryNewsViewModel[];\r\n\r\n    constructor(@Inject(PAGE_ID) public pageId: IPageId,\r\n                private route: ActivatedRoute,\r\n                private router: Router,\r\n                private toastr: ToastrService,\r\n                private newsService: NewsService) {\r\n        super();\r\n        this.currentUser = this.appService.currentUser;\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.appService.setupPage(this.pageId.NEWS, this.pageId.NEWS_LIST, 'Quản lý tin tức', 'Chi tiết tin tức');\r\n        this.route.params.subscribe((params: any) => {\r\n            const id = params['id'];\r\n            if (id) {\r\n                this.getDetail(id);\r\n            }\r\n        });\r\n\r\n\r\n        this.comments = this.renderCommentTree(this.listComment, null);\r\n    }\r\n\r\n    closeForm() {\r\n        this.router.navigate(['/news']);\r\n    }\r\n\r\n    delete() {\r\n        this.newsService.delete(this.newDetail.id)\r\n            .subscribe(() => {\r\n                this.router.navigate(['/news']);\r\n            });\r\n    }\r\n\r\n    edit() {\r\n        this.router.navigate([`/news/edit/${this.newDetail.id}`]);\r\n    }\r\n\r\n    send(status: number) {\r\n        const newsStatus = new ChangeNewsStatus(status, '');\r\n        this.newsService.updateStatus(this.newDetail.id, newsStatus).subscribe(() => {\r\n            this.newDetail.status = status;\r\n            this.getDetail(this.newDetail.id);\r\n        });\r\n    }\r\n\r\n    declineNew(value) {\r\n        if (value) {\r\n            const newsStatus = new ChangeNewsStatus(NewsStatus.decline, value);\r\n            this.newsService.updateStatus(this.newDetail.id, newsStatus).subscribe(() => {\r\n                this.newDetail.status = NewsStatus.decline;\r\n                this.getDetail(this.newDetail.id);\r\n            });\r\n        } else {\r\n            this.toastr.error('Please enter decline reason');\r\n        }\r\n    }\r\n\r\n    getDetail(id: string) {\r\n        this.newsService.getDetail(id).subscribe((result: ActionResultViewModel<NewDetailViewModel>) => {\r\n            this.newDetail = result.data;\r\n            this.newsTranslation = this.newDetail.newsTranslations;\r\n            this.listComment = this.newDetail.listComment;\r\n            this.listCategoryNews = _.filter(this.newDetail.categoriesNews, (item: CategoryNewsViewModel) => {\r\n                return item.languageId === this.currentLanguage;\r\n            });\r\n        });\r\n    }\r\n\r\n    selectLanguage(value) {\r\n        console.log(value);\r\n        this.currentLanguage = value.id;\r\n        this.listCategoryNews = _.filter(this.newDetail.categoriesNews, (item: CategoryNewsViewModel) => {\r\n            return item.languageId === this.currentLanguage;\r\n        });\r\n    }\r\n\r\n    private renderCommentTree(listComment: CommentViewModel[], parentId?: number) {\r\n        const comments = _.filter(listComment, (comment: CommentViewModel) => {\r\n            return comment.parentId === parentId;\r\n        });\r\n        const treeComment = [];\r\n        if (comments && comments.length > 0) {\r\n            _.each(comments, (commentChildren: CommentViewModel) => {\r\n                const childCount = _.countBy(listComment, (item: CommentViewModel) => {\r\n                    return item.parentId === commentChildren.id;\r\n                }).true;\r\n\r\n                const children = this.renderCommentTree(listComment, commentChildren.id);\r\n                treeComment.push(new TreeComment(commentChildren.id, commentChildren.parentId, commentChildren.idPath,\r\n                    commentChildren.fullName,\r\n                    commentChildren.email, commentChildren.avatar, commentChildren.sendTime, commentChildren.content,\r\n                    childCount, children));\r\n            });\r\n        }\r\n        return treeComment;\r\n    }\r\n}\r\n","import {Component, Input} from '@angular/core';\r\n\r\n@Component({\r\n    selector: 'app-new-seo',\r\n    template: `<p><b> SeoLink </b>: {{seoLink}}</p>\r\n               <p><b> Meta Title</b>: <a>{{title}}</a></p>\r\n               <p><b> MetaDescription </b>: {{description}}</p>\r\n               <p><b> MetaKeyword</b>: {{metaKeyword}}</p>`\r\n})\r\n\r\nexport class NewSeoComponent {\r\n    @Input() title;\r\n    @Input() description;\r\n    @Input() seoLink;\r\n    @Input() metaKeyword;\r\n}\r\n","module.exports = \"<h1 class=\\\"page-title\\\">\\r\\n   <span class=\\\"uppercase\\\">\\r\\n       {isUpdate, select, 0 {Add new news} 1 {Update news} other {}}\\r\\n    </span>\\r\\n</h1>\\r\\n<div class=\\\"form\\\">\\r\\n    <form action=\\\"\\\" class=\\\"form-horizontal\\\" [formGroup]=\\\"model\\\">\\r\\n        <div class=\\\"row new-content\\\" formArrayName=\\\"modelTranslations\\\">\\r\\n            <div class=\\\"col-sm-8\\\">\\r\\n                <div class=\\\"portlet light\\\">\\r\\n                    <div class=\\\"portlet-title\\\">\\r\\n                        <div class=\\\"caption\\\">\\r\\n                                <span class=\\\"caption-subject bold uppercase\\\"\\r\\n                                      i18n=\\\"@@newContent\\\">\\r\\n                                     <i class=\\\"fa fa-newspaper-o\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                                    News content\\r\\n                                </span>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"portlet-body cm-pdt-0\\\">\\r\\n                        <div class=\\\"form-group cm-mg-0\\\" *ngIf=\\\"languages && languages.length > 1\\\">\\r\\n                            <label i18n-ghmLabel=\\\"@@language\\\" ghmLabel=\\\"Language\\\"\\r\\n                                   class=\\\"control-label\\\"></label>\\r\\n                            <ghm-select [data]=\\\"languages\\\"\\r\\n                                       i18n-title=\\\"@@pleaseSelectLanguage\\\"\\r\\n                                       title=\\\"-- Please select language --\\\"\\r\\n                                       name=\\\"language\\\"\\r\\n                                       [(value)]=\\\"currentLanguage\\\"\\r\\n                                       (itemSelected)=\\\"currentLanguage = $event.id\\\"></ghm-select>\\r\\n                        </div>\\r\\n                        <div class=\\\"form-group cm-mg-0\\\"\\r\\n                             [hidden]=\\\"modelTranslation.value.languageId !== currentLanguage\\\"\\r\\n                             *ngFor=\\\"let modelTranslation of modelTranslations.controls; index as i\\\"\\r\\n                             [formGroupName]=\\\"i\\\"\\r\\n                             [class.has-error]=\\\"translationFormErrors[modelTranslation.value.languageId]?.title\\\">\\r\\n                            <label class=\\\"control-label\\\" i18n-ghmLabel=\\\"@@title\\\" ghmLabel=\\\"Title\\\"\\r\\n                                   [required]=\\\"true\\\"></label>\\r\\n                            <input type=\\\"text\\\" id=\\\"{{'title ' + currentLanguage}}\\\" class=\\\"form-control\\\" i18n-placeholder=\\\"@@titlePlaceHolder\\\"\\r\\n                                   placeholder=\\\"Please enter title\\\"\\r\\n                                   formControlName=\\\"title\\\"/>\\r\\n                            <span class=\\\"help-block\\\">{translationFormErrors[modelTranslation.value.languageId]?.title, select, required {Title is required} maxLength {Title not allowed\\r\\n                                                          over 256 characters}}</span>\\r\\n                        </div>\\r\\n                        <div class=\\\"form-group cm-mg-0\\\" [formGroup]=\\\"model\\\"\\r\\n                             [class.has-error]=\\\"formErrors?.categoriesNews\\\">\\r\\n                            <label class=\\\"control-label\\\" i18n-ghmLabel=\\\"@@group\\\" ghmLabel=\\\"Group\\\"\\r\\n                                   [required]=\\\"true\\\"></label>\\r\\n                            <nh-dropdown-tree [data]=\\\"categoryTree\\\"\\r\\n                                              [title]=\\\"categoryText\\\"\\r\\n                                              [isMultiple]=\\\"true\\\"\\r\\n                                              formControlName=\\\"categoriesNews\\\"\\r\\n                                              (accepted)=\\\"onAcceptSelectCategory($event)\\\">\\r\\n                            </nh-dropdown-tree>\\r\\n                            <span class=\\\"help-block\\\">{formErrors?.categoriesNews, select, required {Category is required}}</span>\\r\\n                        </div>\\r\\n                        <div class=\\\"form-group cm-mg-0\\\"\\r\\n                             [hidden]=\\\"modelTranslation.value.languageId !== currentLanguage\\\"\\r\\n                             *ngFor=\\\"let modelTranslation of modelTranslations.controls; index as i\\\"\\r\\n                             [formGroupName]=\\\"i\\\"\\r\\n                             [class.has-error]=\\\"translationFormErrors[modelTranslation.value.languageId]?.description\\\">\\r\\n                            <label class=\\\"control-label\\\" i18n-ghmLabel=\\\"@@descriptionPlaceHolder\\\"\\r\\n                                   ghmLabel=\\\"Description\\\"></label>\\r\\n                            <textarea rows=\\\"3\\\" class=\\\"form-control\\\" i18n-placeholder=\\\"@@descriptionPlaceholder\\\"\\r\\n                                      placeholder=\\\"Please enter description\\\"\\r\\n                                      formControlName=\\\"description\\\"></textarea>\\r\\n                            <span class=\\\"help-block\\\">{translationFormErrors[modelTranslation.value.languageId]?.description, select, maxLength {Description not allowed over 1000 characters}} </span>\\r\\n                        </div>\\r\\n                        <div class=\\\"form-group cm-mg-0\\\"\\r\\n                             [hidden]=\\\"modelTranslation.value.languageId !== currentLanguage\\\"\\r\\n                             *ngFor=\\\"let modelTranslation of modelTranslations.controls; index as i\\\"\\r\\n                             [formGroupName]=\\\"i\\\"\\r\\n                             [class.has-error]=\\\"translationFormErrors[modelTranslation.value.languageId]?.content\\\">\\r\\n                            <label class=\\\"control-label\\\" i18n-ghmlabel=\\\"@@content\\\" ghmLabel=\\\"Content\\\"\\r\\n                                   [required]=\\\"true\\\"></label>\\r\\n                            <div class=\\\"form-group cm-mg-0\\\"\\r\\n                                 *ngIf=\\\"!isUpdate || (newDetail?.status === newsStatus.pending && newDetail?.isApprove)\\r\\n                            || ((newDetail?.status !==  newsStatus.pending) && newDetail?.creatorId === currentUser.id)\\\">\\r\\n                                <ghm-file-explorer i18n-buttonText=\\\"@@appendImageToContent\\\"\\r\\n                                                   [buttonText]=\\\"'Append image to content '\\\"\\r\\n                                                   [multiple]=\\\"true\\\"\\r\\n                                                   (acceptSelected)=\\\"afterUploadImageContent($event)\\\"></ghm-file-explorer>\\r\\n                            </div>\\r\\n                            <tinymce [elementId]=\\\"'content'+ i\\\" formControlName=\\\"content\\\"\\r\\n                                     [(ngModel)]=\\\"modelTranslation.value.content\\\" [height]=\\\"350\\\"></tinymce>\\r\\n                            <span class=\\\"help-block\\\">\\r\\n                                {translationFormErrors[modelTranslation.value.languageId]?.content, select, required {Content is required}}\\r\\n                            </span>\\r\\n                        </div>\\r\\n                        <div class=\\\"form-group cm-mg-0\\\" [formGroup]=\\\"model\\\">\\r\\n                            <mat-checkbox color=\\\"primary\\\" formControlName=\\\"isHot\\\" i18n=\\\"@@isHot\\\">\\r\\n                                {model.value.isHot, select, 0 {Normal} 1 {Hot}}\\r\\n                            </mat-checkbox>\\r\\n                        </div>\\r\\n                        <div class=\\\"form-group cm-mg-0\\\" [formGroup]=\\\"model\\\">\\r\\n                            <mat-checkbox color=\\\"primary\\\" formControlName=\\\"isHomePage\\\" i18n=\\\"@@isHomePage\\\">\\r\\n                                {model.value.isHomePage, select, 0 {Not Home Page} 1 {Home Page}}\\r\\n                            </mat-checkbox>\\r\\n                        </div>\\r\\n                        <div class=\\\"form-group cm-mg-0\\\" [formGroup]=\\\"model\\\">\\r\\n                            <mat-checkbox color=\\\"primary\\\" formControlName=\\\"isActive\\\" i18n=\\\"@@isActive\\\">\\r\\n                                {model.value.isActive, select, 0 {Inactive} 1 {Active}}\\r\\n                            </mat-checkbox>\\r\\n                        </div>\\r\\n                        <div class=\\\"form-group cm-mg-0\\\" [formGroup]=\\\"model\\\"\\r\\n                             [class.has-error]=\\\"formErrors.source\\\">\\r\\n                            <label class=\\\"control-label\\\" i18n-ghmLabel=\\\"@@source\\\" ghmLabel=\\\"Source\\\"></label>\\r\\n                            <input type=\\\"text\\\" class=\\\"form-control\\\" i18n-placeholder=\\\"@@sourceHolder\\\"\\r\\n                                   placeholder=\\\"Please enter source\\\" formControlName=\\\"source\\\"/>\\r\\n                            <span class=\\\"help-block\\\">{formErrors?.source, select, maxLength {Scource  not allowed over 256 characters}}</span>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"col-sm-4 \\\">\\r\\n                <div class=\\\"portlet light bordered\\\">\\r\\n                    <div class=\\\"portlet-title\\\">\\r\\n                        <div class=\\\"caption\\\">\\r\\n                             <span class=\\\"caption-subject bold uppercase\\\" i18n=\\\"@@seoContent\\\">\\r\\n                                <i class=\\\"fa fa-line-chart\\\" aria-hidden=\\\"true\\\"></i>\\r\\n                                 Seo content\\r\\n                             </span>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"portlet-body cm-pdt-0\\\">\\r\\n                        <div class=\\\"form-group cm-mg-0\\\"\\r\\n                             [hidden]=\\\"modelTranslation.value.languageId !== currentLanguage\\\"\\r\\n                             *ngFor=\\\"let modelTranslation of modelTranslations.controls; index as i\\\"\\r\\n                             [formGroupName]=\\\"i\\\"\\r\\n                             [class.has-error]=\\\"translationFormErrors[modelTranslation.value.languageId]?.metaKeyword\\\">\\r\\n                            <label class=\\\"control-label\\\" i18n-ghmLabel=\\\"@@metaKeyword\\\"\\r\\n                                   ghmLabel=\\\"Meta Keyword\\\"> </label>\\r\\n                            <input type=\\\"text\\\" class=\\\"form-control\\\" i18n-placeholder=\\\"@@metaKeywordPlaceHolder\\\"\\r\\n                                   placeholder=\\\"Please enter meta keyword\\\"\\r\\n                                   formControlName=\\\"metaKeyword\\\"/>\\r\\n                            <span class=\\\"help-block\\\">{translationFormErrors[modelTranslation.value.languageId]?.metaKeyword, select, maxLength {Meta Keyword not allowed\\r\\n                                                          over 300 characters}}</span>\\r\\n                        </div>\\r\\n                        <div class=\\\"form-group cm-mg-0\\\"\\r\\n                             [hidden]=\\\"modelTranslation.value.languageId !== currentLanguage\\\"\\r\\n                             *ngFor=\\\"let modelTranslation of modelTranslations.controls; index as i\\\"\\r\\n                             [formGroupName]=\\\"i\\\"\\r\\n                             [class.has-error]=\\\"translationFormErrors[modelTranslation.value.languageId]?.metaTitle\\\">\\r\\n                            <label class=\\\"control-label\\\" i18n-ghmLabel=\\\"@@metaTitle\\\"\\r\\n                                   ghmLabel=\\\"Meta Title\\\"></label>\\r\\n                            <input type=\\\"text\\\" class=\\\"form-control\\\" i18n-placeholder=\\\"@@metaTitlePlaceHolder\\\"\\r\\n                                   placeholder=\\\"Please enter meta title\\\"\\r\\n                                   formControlName=\\\"metaTitle\\\"/>\\r\\n                            <span class=\\\"help-block\\\">{translationFormErrors[modelTranslation.value.languageId]?.metaTitle, select, maxLength {MetaTitle not allowed\\r\\n                                                          over 256 characters}}</span>\\r\\n                        </div>\\r\\n                        <div class=\\\"form-group cm-mg-0\\\" [hidden]=\\\"modelTranslation.value.languageId !== currentLanguage\\\"\\r\\n                             *ngFor=\\\"let modelTranslation of modelTranslations.controls; index as i\\\"\\r\\n                             [formGroupName]=\\\"i\\\"\\r\\n                             [class.has-error]=\\\"translationFormErrors[modelTranslation.value.languageId]?.seoLink\\\">\\r\\n                            <label class=\\\"control-label\\\" i18n-ghmLabel=\\\"@@seoLink\\\" ghmLabel=\\\"Seo Link\\\"></label>\\r\\n                            <!--{{modelTranslation.value.seoLink}}-->\\r\\n                            <input type=\\\"text\\\" class=\\\"form-control\\\" i18n-placeholder=\\\"@@seoLinkHolder\\\"\\r\\n                                   placeholder=\\\"Please enter seoLink\\\" formControlName=\\\"seoLink\\\"/>\\r\\n                            <span class=\\\"help-block\\\">{translationFormErrors[modelTranslation.value.languageId]?.seoLink, select,\\r\\n                                maxLength {SeoLink not allowed over 256 characters}}</span>\\r\\n                        </div>\\r\\n                        <div class=\\\"form-group cm-mg-0\\\"\\r\\n                             [hidden]=\\\"modelTranslation.value.languageId !== currentLanguage\\\"\\r\\n                             *ngFor=\\\"let modelTranslation of modelTranslations.controls; index as i\\\"\\r\\n                             [formGroupName]=\\\"i\\\"\\r\\n                             [class.has-error]=\\\"translationFormErrors[modelTranslation.value.languageId]?.metaDescription\\\">\\r\\n                            <label class=\\\"control-label\\\" i18n-ghmLabel=\\\"@@metaDescriptionPlaceHolder\\\"\\r\\n                                   ghmLabel=\\\"Meta Description\\\"></label>\\r\\n                            <textarea rows=\\\"3\\\" class=\\\"form-control\\\" i18n-placeholder=\\\"@@metaDescriptionPlaceholder\\\"\\r\\n                                      placeholder=\\\"Please enter meta description\\\"\\r\\n                                      formControlName=\\\"metaDescription\\\"></textarea>\\r\\n                            <span class=\\\"help-block\\\">{translationFormErrors[modelTranslation.value.languageId]?.metaDescription, select,\\r\\n                                maxLength {Meta Description not allowed over 1000 characters}}</span>\\r\\n                        </div>\\r\\n                        <div class=\\\"form-group cm-mg-0\\\"\\r\\n                             [hidden]=\\\"modelTranslation.value.languageId !== currentLanguage\\\"\\r\\n                             *ngFor=\\\"let modelTranslation of modelTranslations.controls; index as i\\\"\\r\\n                             [formGroupName]=\\\"i\\\">\\r\\n                            <label class=\\\"control-label\\\" i18n-ghmLabel=\\\"@@tags\\\" ghmLabel=\\\"Tags\\\"></label>\\r\\n                            <nh-tag [type]=\\\"tagType.new\\\"\\r\\n                                    [listTag]=\\\"modelTranslation.value.tags\\\"\\r\\n                                    [languageId]=\\\"currentLanguage\\\"\\r\\n                                    [tenantId]=\\\"currentUser.tenantId\\\"\\r\\n                                    [objectId]=\\\"id\\\"\\r\\n                                    (onRemove)=\\\"removeTag($event)\\\"\\r\\n                                    (onSelect)=\\\"selectTag($event)\\\"\\r\\n                                    (onSelectListItem)=\\\"selectListTag($event)\\\"\\r\\n                            ></nh-tag>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"portlet-title cm-mgt-20\\\">\\r\\n                        <div class=\\\"caption\\\">\\r\\n                             <span class=\\\"caption-subject font-blue-sharp bold uppercase\\\" i18n=\\\"@@image\\\">\\r\\n                                Image\\r\\n                             </span>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"portlet-body\\\">\\r\\n                        <div class=\\\"form-group cm-mg-0 display-table\\\" [formGroup]=\\\"model\\\">\\r\\n                            <div class=\\\"fileinput fileinput-new\\\" [class.has-error]=\\\"formErrors.featureImage\\\">\\r\\n                                <div class=\\\"fileinput-new thumbnail\\\">\\r\\n                                    <img ghmImage [src]=\\\"model.value.featureImage\\\" class=\\\"w150\\\" [isUrlAbsolute]=\\\"true\\\">\\r\\n                                    <ghm-file-explorer *ngIf=\\\"!isUpdate || (newDetail?.status === newsStatus.pending && newDetail?.isApprove)\\r\\n                            || ((newDetail?.status !==  newsStatus.pending) && newDetail?.creatorId === currentUser.id)\\\"\\r\\n                                                       i18n-buttonText=\\\"@@selectImage\\\"\\r\\n                                                       [buttonText]=\\\"'Select image'\\\"\\r\\n                                                       (itemSelected)=\\\"afterUploadImage($event)\\\"></ghm-file-explorer>\\r\\n                                    <span class=\\\"help-block\\\">{formErrors?.featureImage, select, required {Image is required} maxLength {Image url  not allowed over 1000 characters}}</span>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"form-group cm-mg-0\\\" [formGroup]=\\\"model\\\">\\r\\n                            <label class=\\\"control-label\\\" i18n-ghmLabel=\\\"@@altImage\\\" ghmLabel=\\\"Alt Image\\\"></label>\\r\\n                            <div [class.has-error]=\\\"formErrors.altImage\\\" class=\\\"cm-mgt-10\\\">\\r\\n                                <input type=\\\"text\\\" class=\\\"form-control\\\" i18n-placeholder=\\\"@@altImage\\\"\\r\\n                                       placeholder=\\\"Please enter alt image\\\" formControlName=\\\"altImage\\\"/>\\r\\n                                <span class=\\\"help-block\\\">{formErrors?.altImage, select, maxLength {Alt  not allowed over 256 characters}}</span>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"form-group cm-mg-0 display-table\\\" [formGroup]=\\\"model\\\">\\r\\n                            <div class=\\\"fileinput fileinput-new\\\" [class.has-error]=\\\"formErrors.featureImage\\\">\\r\\n                                <div class=\\\"fileinput-new thumbnail\\\">\\r\\n                                    <img ghmImage [src]=\\\"model.value.bannerImage\\\" class=\\\"w150\\\" [isUrlAbsolute]=\\\"true\\\">\\r\\n                                    <ghm-file-explorer *ngIf=\\\"!isUpdate || (newDetail?.status === newsStatus.pending && newDetail?.isApprove)\\r\\n                            || ((newDetail?.status !==  newsStatus.pending) && newDetail?.creatorId === currentUser.id)\\\"\\r\\n                                                       i18n-buttonText=\\\"@@selectImage\\\"\\r\\n                                                       [buttonText]=\\\"'Select banner image'\\\"\\r\\n                                                       (itemSelected)=\\\"afterUploadImageBanner($event)\\\"></ghm-file-explorer>\\r\\n                                    <span class=\\\"help-block\\\">{formErrors?.bannerImage, select, required {Banner image is required} maxLength {Banner image url  not allowed over 1000 characters}}</span>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                        <div class=\\\"form-group cm-mg-0\\\" *ngIf=\\\"isUpdate\\\">\\r\\n                            <span class=\\\"blog-sidebar-title\\\" i18n=\\\"@@status\\\">Status</span> &nbsp;\\r\\n                            <span class=\\\"label\\\" [class.label-danger]=\\\"newDetail?.status === newsStatus?.decline\\\"\\r\\n                                  [class.label-success]=\\\"newDetail?.status === newsStatus.approved\\\"\\r\\n                                  [class.label-warning]=\\\"newDetail?.status === newsStatus.pending\\\"\\r\\n                                  [class.label-draft]=\\\"newDetail?.status === newsStatus.draft\\\"> {{newDetail?.status === newsStatus.draft ? 'Draft' :\\r\\n                                                                                                    newDetail?.status === newsStatus.pending ? 'Pending' :\\r\\n                                                                                                        newDetail?.status === newsStatus.approved ? 'Approved' :\\r\\n                                                                                                            newDetail?.status === newsStatus.decline ? 'Decline' : ''}}\\r\\n                            </span>\\r\\n                        </div>\\r\\n                        <div class=\\\"form-group cm-mg-0\\\" *ngIf=\\\"newDetail?.status === newsStatus?.decline\\\">\\r\\n                            <span class=\\\"blog-sidebar-title\\\" i18n=\\\"@@declineRreason\\\">Decline Reason: {{newDetail?.approverComment}}</span>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n        <div class=\\\"col-sm-12\\\">\\r\\n            <div class=\\\"form-group cm\\\">\\r\\n                <mat-checkbox [checked]=\\\"isCreateAnother\\\" (change)=\\\"isCreateAnother = !isCreateAnother\\\"\\r\\n                              *ngIf=\\\"!isUpdate\\\"\\r\\n                              i18n=\\\"@@isCreateAnother\\\"\\r\\n                              class=\\\"cm-mgr-5\\\"\\r\\n                              color=\\\"primary\\\">\\r\\n                    Create another\\r\\n                </mat-checkbox>\\r\\n                <ghm-button classes=\\\"btn blue cm-mgr-5\\\" type=\\\"button\\\"\\r\\n                            *ngIf=\\\"!isUpdate || (newDetail?.status === newsStatus.pending && newDetail?.isApprove)\\r\\n                            || ((newDetail?.status !==  newsStatus.pending) && newDetail?.creatorId === currentUser.id)\\\"\\r\\n                            [loading]=\\\"isSaving\\\"\\r\\n                            (clicked)=\\\"save(true)\\\">\\r\\n                    <span i18n=\\\"@@saveAndSend\\\">Save & Send</span>\\r\\n                </ghm-button>\\r\\n                <ghm-button classes=\\\"btn blue cm-mgr-5\\\"\\r\\n                            type=\\\"button\\\"\\r\\n                            *ngIf=\\\"!isUpdate || (newDetail?.status === newsStatus.pending && newDetail?.isApprove)\\r\\n                            || ((newDetail?.status !==  newsStatus.pending) && newDetail?.creatorId === currentUser.id)\\\"\\r\\n                            (clicked)=\\\"save(false)\\\"\\r\\n                            [loading]=\\\"isSaving\\\">\\r\\n                    <span i18n=\\\"@@Save\\\">Save</span>\\r\\n                </ghm-button>\\r\\n                <ghm-button classes=\\\"btn default\\\"\\r\\n                            (clicked)=\\\"closeForm()\\\"\\r\\n                            [type]=\\\"'button'\\\">\\r\\n                    <span i18n=\\\"@@cancel\\\">Cancel</span>\\r\\n                </ghm-button>\\r\\n            </div>\\r\\n        </div>\\r\\n    </form>\\r\\n</div>\\r\\n\"","import {\r\n    AfterViewInit,\r\n    ChangeDetectorRef,\r\n    Component,\r\n    EventEmitter,\r\n    Inject,\r\n    OnInit,\r\n    Output,\r\n    QueryList,\r\n    ViewChild,\r\n    ViewChildren\r\n} from '@angular/core';\r\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\nimport * as _ from 'lodash';\r\nimport {finalize} from 'rxjs/operators';\r\nimport {CategoryService} from '../../category/category.service';\r\nimport {NhModalComponent} from '../../../../shareds/components/nh-modal/nh-modal.component';\r\nimport {BaseFormComponent} from '../../../../base-form.component';\r\nimport {News, NewsStatus} from '../model/news.model';\r\nimport {UtilService} from '../../../../shareds/services/util.service';\r\nimport {NewsService} from '../service/news.service';\r\nimport {TreeData} from '../../../../view-model/tree-data';\r\nimport {NewsTranslation} from '../model/news-translations.model';\r\nimport {APP_CONFIG, IAppConfig} from '../../../../configs/app.config';\r\nimport {IPageId, PAGE_ID} from '../../../../configs/page-id.config';\r\nimport {TagType} from '../../../../shareds/components/nh-tags/tag.model';\r\nimport {ActionResultViewModel} from '../../../../shareds/view-models/action-result.viewmodel';\r\nimport {NewDetailViewModel} from '../viewmodel/new-detail.viewmodel';\r\nimport {ExplorerItem} from '../../../../shareds/components/ghm-file-explorer/explorer-item.model';\r\nimport {ToastrService} from 'ngx-toastr';\r\nimport {TinymceComponent} from '../../../../shareds/components/tinymce/tinymce.component';\r\nimport {CategoryNewsViewModel} from '../viewmodel/categoryNewsViewModel';\r\n\r\ndeclare var tinyMCE;\r\n\r\n@Component({\r\n    selector: 'app-news-form',\r\n    templateUrl: './news-form.component.html',\r\n    styleUrls: ['../news.scss'],\r\n    providers: [CategoryService, NewsService]\r\n})\r\n\r\nexport class NewsFormComponent extends BaseFormComponent implements OnInit, AfterViewInit {\r\n    @ViewChild('newsFormModal') newsFormModal: NhModalComponent;\r\n    @ViewChildren(TinymceComponent) eventContentEditors: QueryList<TinymceComponent>;\r\n    @Output() onSaveSuccess = new EventEmitter();\r\n    news = new News();\r\n    listTag = [];\r\n    tagType = TagType;\r\n    categoryTree;\r\n    newDetail: NewDetailViewModel;\r\n    categoryNews: number[];\r\n    modelTranslation = new NewsTranslation();\r\n    currentUser;\r\n    newsStatus = NewsStatus;\r\n    categoryText;\r\n\r\n    constructor(@Inject(APP_CONFIG) public appConfig: IAppConfig,\r\n                @Inject(PAGE_ID) public pageId: IPageId,\r\n                private fb: FormBuilder,\r\n                private router: Router,\r\n                private route: ActivatedRoute,\r\n                private cdr: ChangeDetectorRef,\r\n                private utilService: UtilService,\r\n                private categoryService: CategoryService,\r\n                private toastr: ToastrService,\r\n                private newsService: NewsService) {\r\n        super();\r\n        this.currentUser = this.appService.currentUser;\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.appService.setupPage(this.pageId.NEWS, this.pageId.NEWS_LIST, 'Quản lý tin tức', 'Danh sách tin tức');\r\n        this.renderForm();\r\n        this.getCategoryTree();\r\n        this.subscribers.routerParam = this.route.params.subscribe((params: any) => {\r\n            const id = params['id'];\r\n            if (id) {\r\n                this.id = id;\r\n                this.isUpdate = true;\r\n                this.newsService.getDetail(id).subscribe((result: ActionResultViewModel<NewDetailViewModel>) => {\r\n                    this.newDetail = result.data;\r\n                    if (this.newDetail) {\r\n                        if (this.newDetail.categoriesNews) {\r\n                            this.categoryNews = [];\r\n                            const listCategoryByLanguageId = _.filter(this.newDetail.categoriesNews, (category: CategoryNewsViewModel) => {\r\n                                return category.languageId === this.currentLanguage;\r\n                            });\r\n\r\n                            _.each(listCategoryByLanguageId, (category: any) => {\r\n                                this.categoryNews.push(category.categoryId);\r\n                            });\r\n\r\n                            this.categoryText = _.join(_.map(listCategoryByLanguageId, (categoryNews: CategoryNewsViewModel) => {\r\n                                return categoryNews.categoryName;\r\n                            }), ', ');\r\n                        }\r\n                        this.model.patchValue({\r\n                            id: this.newDetail.id,\r\n                            categoriesNews: this.categoryNews,\r\n                            altImage: this.newDetail.altImage,\r\n                            bannerImage: this.newDetail.bannerImage,\r\n                            isHot: this.newDetail.isHot,\r\n                            isHomePage: this.newDetail.isHomePage,\r\n                            source: this.newDetail.source,\r\n                            isActive: this.newDetail.isActive,\r\n                            featureImage: this.newDetail.featureImage,\r\n                            concurrencyStamp: this.newDetail.concurrencyStamp,\r\n                        });\r\n                    }\r\n\r\n                    if (this.newDetail.newsTranslations && this.newDetail.newsTranslations.length > 0) {\r\n                        this.modelTranslations.controls.forEach(\r\n                            (model: FormGroup) => {\r\n                                const detail = _.find(\r\n                                    this.newDetail.newsTranslations,\r\n                                    (newTranslation: NewsTranslation) => {\r\n                                        return (\r\n                                            newTranslation.languageId === model.value.languageId\r\n                                        );\r\n                                    }\r\n                                );\r\n                                if (detail) {\r\n                                    model.patchValue(detail);\r\n                                }\r\n                            }\r\n                        );\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        this.cdr.detectChanges();\r\n        this.initEditor();\r\n        this.utilService.focusElement('title ' + this.currentLanguage);\r\n    }\r\n\r\n    onAcceptSelectCategory(data: TreeData[]) {\r\n        this.categoryNews = [];\r\n        if (data && data.length > 0) {\r\n            _.each(data, (tree: TreeData) => {\r\n                this.categoryNews.push(parseInt(tree.id));\r\n            });\r\n        }\r\n        this.model.patchValue({categoriesNews: this.categoryNews});\r\n    }\r\n\r\n    save(isSend: boolean) {\r\n        const isValid = this.utilService.onValueChanged(this.model, this.formErrors, this.validationMessages, true);\r\n        const isLanguageValid = this.checkLanguageValid();\r\n        if (isValid && isLanguageValid) {\r\n            this.news = this.model.value;\r\n            this.isSaving = true;\r\n            if (this.isUpdate) {\r\n                this.newsService.update(this.id, this.news, isSend)\r\n                    .pipe(finalize(() => this.isSaving = false))\r\n                    .subscribe(() => {\r\n                        this.isModified = true;\r\n                        this.router.navigate(['/news']);\r\n                    });\r\n            } else {\r\n                this.newsService.insert(isSend, this.news)\r\n                    .pipe(finalize(() => this.isSaving = false))\r\n                    .subscribe(() => {\r\n                        this.isModified = true;\r\n                        if (this.isCreateAnother) {\r\n                            this.utilService.focusElement('title ' + this.currentLanguage);\r\n                            this.resetForm();\r\n                        } else {\r\n                            this.router.navigate(['/news']);\r\n                        }\r\n                    });\r\n            }\r\n        }\r\n    }\r\n\r\n    removeTag(value) {\r\n    }\r\n\r\n    selectTag(value) {\r\n    }\r\n\r\n    selectListTag(value) {\r\n        if (value) {\r\n            this.listTag = value;\r\n        }\r\n    }\r\n\r\n    afterUploadImage(file: ExplorerItem) {\r\n        if (file.isImage) {\r\n            this.model.patchValue({featureImage: file.absoluteUrl});\r\n        } else {\r\n            this.toastr.error('Please select file image');\r\n        }\r\n    }\r\n\r\n    afterUploadImageBanner(file: ExplorerItem) {\r\n        if (file.isImage) {\r\n            this.model.patchValue({bannerImage: file.absoluteUrl});\r\n        } else {\r\n            this.toastr.error('Please select file image');\r\n        }\r\n    }\r\n\r\n    afterDeleteImage() {\r\n        this.model.patchValue({altImage: ''});\r\n    }\r\n\r\n    afterUploadImageContent(images: ExplorerItem[]) {\r\n        images.forEach((image) => {\r\n            if (image.isImage) {\r\n                tinyMCE.execCommand('mceInsertContent', false,\r\n                    `<img class=\"img-responsive\" style=\"margin-left: auto; margin-right: auto\" src=\"${image.absoluteUrl}\"/>`);\r\n            }\r\n        });\r\n    }\r\n\r\n    closeForm() {\r\n        this.router.navigate(['/news']);\r\n    }\r\n\r\n    private renderForm() {\r\n        this.buildForm();\r\n        this.renderTranslationFormArray(this.buildFormLanguage);\r\n    }\r\n\r\n    private buildForm() {\r\n        this.formErrors = this.utilService.renderFormError(['featureImage', 'bannerImage', 'source', 'categoriesNews', 'altImage']);\r\n        this.validationMessages = this.renderFormErrorMessage([\r\n            {'featureImage': ['maxLength']},\r\n            {'bannerImage': ['maxLength']},\r\n            {'altImage': ['maxLength']},\r\n            {'categoriesNews': ['required']},\r\n            {'source': ['maxLength']}]);\r\n        this.model = this.fb.group({\r\n            id: [this.news.id],\r\n            categoriesNews: [this.news.categoriesNews, [\r\n                Validators.required\r\n            ]],\r\n            isActive: [this.news.isActive],\r\n            altImage: [this.news.altImage, [\r\n                Validators.maxLength(258)\r\n            ]],\r\n            isHot: [this.news.isHot],\r\n            isHomePage: [this.news.isHomePage],\r\n            source: [this.news.source, [\r\n                Validators.maxLength(256)\r\n            ]],\r\n            featureImage: [this.news.featureImage, [Validators.maxLength(500)]],\r\n            bannerImage: [this.news.bannerImage, [Validators.maxLength(500)]],\r\n            concurrencyStamp: [this.news.concurrencyStamp],\r\n            modelTranslations: this.fb.array([])\r\n        });\r\n        this.model.valueChanges.subscribe(() => this.utilService.onValueChanged(this.model, this.formErrors, this.validationMessages));\r\n    }\r\n\r\n    private buildFormLanguage = (language: string) => {\r\n        this.translationFormErrors[language] = this.utilService.renderFormError(\r\n            ['title', 'description', 'content', 'metaTitle', 'metaDescription', 'metaKeyword']\r\n        );\r\n        this.translationValidationMessage[language] = this.utilService.renderFormErrorMessage([\r\n            {title: ['required', 'maxLength']},\r\n            {description: ['maxLength']},\r\n            {content: ['required']},\r\n            {metaTitle: ['maxLength']},\r\n            {metaDescription: ['maxLength']},\r\n            {metaKeyword: ['maxLength']},\r\n            {seoLink: ['maxLength']},\r\n        ]);\r\n        const translationModel = this.fb.group({\r\n            languageId: [language],\r\n            title: [\r\n                this.modelTranslation.title,\r\n                [Validators.required, Validators.maxLength(256)]\r\n            ],\r\n            description: [this.modelTranslation.description,\r\n                [Validators.maxLength(1000)]],\r\n            content: [\r\n                this.modelTranslation.content,\r\n                [Validators.required]\r\n            ],\r\n            metaTitle: [this.modelTranslation.metaTitle,\r\n                [Validators.maxLength(256)]],\r\n            metaDescription: [\r\n                this.modelTranslation.metaDescription,\r\n                [Validators.maxLength(1000)]\r\n            ],\r\n            seoLink: [this.modelTranslation.seoLink, [Validators.maxLength(256)]],\r\n            metaKeyword: [this.modelTranslation.metaKeyword,\r\n                [Validators.maxLength(300)]],\r\n            tags: [this.listTag]\r\n        });\r\n        translationModel.valueChanges.subscribe((data: any) =>\r\n            this.validateTranslationModel(false)\r\n        );\r\n        return translationModel;\r\n    };\r\n\r\n    private resetForm() {\r\n        this.id = null;\r\n        this.model.patchValue({\r\n            id: null,\r\n            categoriesNews: [],\r\n            altImage: '',\r\n            isHot: false,\r\n            isHomePage: false,\r\n            source: '',\r\n            isActive: true,\r\n            featureImage: '',\r\n            bannerImage: '',\r\n            concurrencyStamp: '',\r\n        });\r\n        this.modelTranslations.controls.forEach((model: FormGroup) => {\r\n            model.patchValue({\r\n                title: '',\r\n                description: '',\r\n                content: '',\r\n                metaTitle: '',\r\n                metaDescription: '',\r\n                metaKeyword: '',\r\n                seoLink: ''\r\n            });\r\n        });\r\n        this.listTag = [];\r\n        this.clearFormError(this.formErrors);\r\n        this.clearFormError(this.translationFormErrors);\r\n    }\r\n\r\n    private getCategoryTree() {\r\n        this.categoryService.getTree().subscribe((result: TreeData[]) => {\r\n            this.categoryTree = result;\r\n        });\r\n    }\r\n\r\n    private initEditor() {\r\n        this.eventContentEditors.forEach((eventContentEditor: TinymceComponent) => {\r\n            eventContentEditor.initEditor();\r\n        });\r\n    }\r\n}\r\n\r\n","module.exports = \"<h1 class=\\\"page-title\\\">\\r\\n    <span class=\\\"cm-mgr-5\\\" i18n=\\\"@@listNewPageTitle\\\">List new</span>\\r\\n    <small i18n=\\\"@@newModuleTitle\\\">New management</small>\\r\\n</h1>\\r\\n<form class=\\\"form-inline\\\" (ngSubmit)=\\\"search(1)\\\">\\r\\n    <div class=\\\"form-group cm-mgr-5\\\">\\r\\n        <input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Nhập tiêu đề tin cần tìm.\\\"\\r\\n               [(ngModel)]=\\\"keyword\\\" name=\\\"keyword\\\">\\r\\n    </div>\\r\\n    <div class=\\\"form-group cm-mgr-5\\\">\\r\\n        <nh-dropdown-tree [data]=\\\"categoryTree\\\"\\r\\n                          i18n-title=\\\"@@selectCategoryNews\\\"\\r\\n                          [title]=\\\"'--Select category --'\\\"\\r\\n                          [width]=\\\"350\\\"\\r\\n                          [value]=\\\"categoryId\\\"\\r\\n                          (nodeSelected)=\\\"selectCategory($event)\\\"></nh-dropdown-tree>\\r\\n    </div>\\r\\n    <div class=\\\"form-group cm-mgr-5\\\">\\r\\n        <ghm-user-suggestion\\r\\n                [isShowSelected]=\\\"false\\\"\\r\\n                (userSelected)=\\\"onSelectUser($event)\\\"\\r\\n                (userRemoved)=\\\"onRemoveUser()\\\"\\r\\n        ></ghm-user-suggestion>\\r\\n    </div>\\r\\n    <div class=\\\"form-group cm-mgr-5\\\">\\r\\n        <nh-select [data]=\\\"listNewStatus\\\"\\r\\n                   i18n=\\\"@@selectStatus\\\"\\r\\n                   i18n-title\\r\\n                   [title]=\\\"'-- Select status --'\\\"\\r\\n                   [(ngModel)]=\\\"status\\\"\\r\\n                   name=\\\"status\\\"\\r\\n                   (onSelectItem)=\\\"search(1)\\\"></nh-select>\\r\\n    </div>\\r\\n    <div class=\\\"form-group cm-mgl-5\\\">\\r\\n        <ghm-button [loading]=\\\"isSearching\\\"\\r\\n                    [classes]=\\\"'btn blue'\\\"\\r\\n                    icon=\\\"fa fa-search\\\"></ghm-button>\\r\\n        <button class=\\\"btn default cm-mgl-5\\\" type=\\\"button\\\" (click)=\\\"resetFormSearch()\\\">\\r\\n            <i class=\\\"fa fa-refresh\\\"></i>\\r\\n        </button>\\r\\n    </div>\\r\\n    <div class=\\\"form-group pull-right\\\">\\r\\n        <a href=\\\"javascript:;\\\" class=\\\"btn blue cm-mgr-5\\\" *ngIf=\\\"listNewsIdForApprove && listNewsIdForApprove.length > 0\\\"\\r\\n           [swal]=\\\"confirmApproveNews\\\"\\r\\n           (confirm)=\\\"approveNews()\\\" i18n=\\\"@@approve\\\">\\r\\n            Approve </a>\\r\\n        <a href=\\\"javascript:;\\\" class=\\\"btn red cm-mgr-5\\\" *ngIf=\\\"listNewsIdForApprove && listNewsIdForApprove.length > 0\\\"\\r\\n           [swal]=\\\"confirmDeclineNews\\\"\\r\\n           (confirm)=\\\"declineNew($event)\\\" i18n=\\\"@@decline\\\">\\r\\n            Decline\\r\\n        </a>\\r\\n        <a href=\\\"javascript:;\\\" class=\\\"btn blue cm-mgr-5\\\" *ngIf=\\\"listNewsIdForSend && listNewsIdForSend.length > 0\\\"\\r\\n           [swal]=\\\"confirmSendListNews\\\"\\r\\n           (confirm)=\\\"sendNews()\\\" i18n=\\\"@@decline\\\">\\r\\n            Send\\r\\n        </a>\\r\\n        <a href=\\\"javascript:;\\\" class=\\\"btn red cm-mgr-5\\\" *ngIf=\\\"listNewsIdForSend && listNewsIdForSend.length > 0\\\"\\r\\n           [swal]=\\\"confirmDeleteNews\\\"\\r\\n           (confirm)=\\\"deleteNews()\\\" i18n=\\\"@@delete\\\">\\r\\n            Delete\\r\\n        </a>\\r\\n        <button type=\\\"button\\\" class=\\\"btn blue\\\" routerLink=\\\"/news/add\\\" i18n=\\\"@@add\\\">\\r\\n            Add\\r\\n        </button>\\r\\n    </div>\\r\\n</form>\\r\\n\\r\\n<table class=\\\"table table-hover table-stripped\\\">\\r\\n    <thead>\\r\\n    <tr>\\r\\n        <th class=\\\"center middle w50\\\">\\r\\n            <mat-checkbox color=\\\"primary\\\" [(ngModel)]=\\\"isCheckAll\\\" (change)=\\\"selectAll()\\\"></mat-checkbox>\\r\\n        </th>\\r\\n        <th class=\\\"middle\\\" i18n=\\\"@@titleNews\\\">Title</th>\\r\\n        <th class=\\\"middle w200\\\" i18n=\\\"@@categoryNews\\\">Category</th>\\r\\n        <th class=\\\"right middle w150\\\" i18n=\\\"@@createDate\\\">Create Date</th>\\r\\n        <th class=\\\"center middle w50\\\" i18n=\\\"@@viewCount\\\">View count</th>\\r\\n        <th class=\\\"middle center w100\\\" i18n=\\\"@@statusApprove\\\">Status approve</th>\\r\\n        <th class=\\\"middle center \\\" i18n=\\\"@@approve\\\" *ngIf=\\\"isApprove\\\">Approve</th>\\r\\n        <th class=\\\"middle center\\\" i18n=\\\"@@decline\\\" *ngIf=\\\"isApprove\\\">Decline</th>\\r\\n        <th class=\\\"middle w150\\\" i18n=\\\"@@userCreate\\\">User Create</th>\\r\\n        <th class=\\\"center middle w50\\\" i18n=\\\"@@status\\\">Active?</th>\\r\\n        <th class=\\\"center middle w50\\\" i18n=\\\"@@isHot\\\">Hot?</th>\\r\\n        <th class=\\\"center middle w50\\\" i18n=\\\"@@isHomePage\\\">Home Page?</th>\\r\\n        <th class=\\\"center middle w100\\\" i18n=\\\"@@action\\\">Action</th>\\r\\n    </tr>\\r\\n    </thead>\\r\\n    <tbody>\\r\\n    <tr *ngFor=\\\"let item of listNews; let i = index\\\"\\r\\n        nhContextMenuTrigger\\r\\n        [nhContextMenuTriggerFor]=\\\"nhMenu\\\"\\r\\n        [nhContextMenuData]=\\\"item\\\">\\r\\n        <td class=\\\"center middle\\\">\\r\\n            <mat-checkbox [disabled]=\\\"!(((item?.status === newsStatus.decline || item?.status === newsStatus.draft) && item?.creatorId === currentUser.id)\\r\\n                                   || (item?.status === newsStatus.pending && isApprove))\\\"\\r\\n                          color=\\\"primary\\\" [(ngModel)]=\\\"item.isCheck\\\" (change)=\\\"selectNew(item)\\\"></mat-checkbox>\\r\\n        </td>\\r\\n        <td class=\\\"middle\\\">\\r\\n            <div class=\\\"media\\\" [class.cursor-pointer]=\\\"permission.view\\\" (click)=\\\"permission.view ? detail(item) : ''\\\"\\r\\n                 title=\\\"{{item.title}}\\\">\\r\\n                <div class=\\\"media-left middle\\\">\\r\\n                    <img ghmImage src=\\\"{{item.featureImage}}\\\" [isUrlAbsolute]=\\\"true\\\" class=\\\"media-object w50\\\"\\r\\n                         alt=\\\"{{item.altImage}}\\\">\\r\\n                </div>\\r\\n                <div class=\\\"media-body middle\\\">\\r\\n                    <h4 class=\\\"media-heading\\\">{{ item.title }}</h4>\\r\\n                </div>\\r\\n            </div>\\r\\n        </td>\\r\\n        <td class=\\\"middle\\\">{{item.categoryNews}}</td>\\r\\n        <td class=\\\"middle right\\\">{{ item.createTime | dateTimeFormat: 'DD/MM/YYYY HH:mm' }}</td>\\r\\n        <td class=\\\"middle center\\\">\\r\\n            <a href=\\\"javascript://\\\" (click)=\\\"viewHistory(item.id)\\\">\\r\\n                {{ item.viewCount }}\\r\\n            </a>\\r\\n        </td>\\r\\n        <td class=\\\"center middle\\\">\\r\\n                         <span class=\\\"badge\\\" [class.badge-danger]=\\\"item.status === newStatus.decline\\\"\\r\\n                               [class.badge-success]=\\\"item.status === newStatus.approved\\\"\\r\\n                               [class.badge-warning]=\\\"item.status === newStatus.pending\\\">\\r\\n                             {item.status, select, 0 {Draft} 1 {Pending} 2 {Approved} 3 {Decline}}\\r\\n                </span>\\r\\n        </td>\\r\\n        <td class=\\\"middle center\\\" *ngIf=\\\"isApprove\\\">\\r\\n            <ghm-button\\r\\n                    *ngIf=\\\"item.status === newStatus.pending\\\"\\r\\n                    icon=\\\"fa fa-check\\\" classes=\\\"btn blue btn-sm\\\"\\r\\n                    [swal]=\\\"confirmApproveNews\\\"\\r\\n                    (confirm)=\\\"updateStatus(item, newStatus.approved, $event)\\\"></ghm-button>\\r\\n            <button\\r\\n                    *ngIf=\\\"item.status !== newStatus.pending\\\"\\r\\n                    class=\\\"btn default btn-sm\\\" disabled><i class=\\\"fa fa-check\\\"></i></button>\\r\\n        </td>\\r\\n        <td class=\\\"middle center\\\" *ngIf=\\\"isApprove\\\">\\r\\n            <button *ngIf=\\\"item.status === newsStatus.pending\\\" class=\\\"btn red btn-sm\\\"\\r\\n                    [swal]=\\\"confirmDeclineNews\\\"\\r\\n                    (confirm)=\\\"updateStatus(item, newStatus.decline, $event)\\\">\\r\\n                <i class=\\\"fa fa-times\\\" ></i>\\r\\n            </button>\\r\\n            <button *ngIf=\\\"item.status !== newStatus.pending\\\" class=\\\"btn default btn-sm\\\"\\r\\n                    disabled>\\r\\n                <i class=\\\"fa fa-times\\\"></i>\\r\\n            </button>\\r\\n        </td>\\r\\n        <td class=\\\"middle\\\">\\r\\n            {{item.creatorFullName}}\\r\\n        </td>\\r\\n        <td class=\\\"center middle\\\">\\r\\n                        <span class=\\\"badge\\\" [class.badge-danger]=\\\"!item.isActive\\\"\\r\\n                              [class.badge-success]=\\\"item.isActive\\\">\\r\\n                              {item.isActive, select, 1 {Activated} 0 {InActive}}</span>\\r\\n        </td>\\r\\n        <td class=\\\"middle center\\\">\\r\\n            <mat-checkbox color=\\\"primary\\\" [checked]=\\\"item.isHot\\\" [disabled]=\\\"item.status === 2\\\" (change)=\\\"updateIsHot(item)\\\"></mat-checkbox>\\r\\n        </td>\\r\\n        <td class=\\\"middle center\\\">\\r\\n            <mat-checkbox color=\\\"primary\\\" [checked]=\\\"item.isHomePage\\\" [disabled]=\\\"item.status === 2\\\" (change)=\\\"updateIsHomePage(item)\\\"></mat-checkbox>\\r\\n        </td>\\r\\n        <td class=\\\"center middle\\\">\\r\\n            <nh-dropdown *ngIf=\\\"permission.view || permission.edit || permission.delete\\\">\\r\\n                <button type=\\\"button\\\" class=\\\"btn btn-sm btn-light btn-no-background no-border\\\" matTooltip=\\\"Menu\\\">\\r\\n                    <mat-icon>more_horiz</mat-icon>\\r\\n                </button>\\r\\n                <ul class=\\\"nh-dropdown-menu right\\\" role=\\\"menu\\\">\\r\\n                    <li>\\r\\n                        <a *ngIf=\\\"permission.view\\\"\\r\\n                           (click)=\\\"detail(item)\\\" i18n=\\\"@@view\\\">\\r\\n                            <i class=\\\"fa fa-eye\\\"></i>\\r\\n                            View\\r\\n                        </a>\\r\\n                    </li>\\r\\n                    <li>\\r\\n                        <a *ngIf=\\\"permission.edit && ((item?.status !== newsStatus.pending) && item?.creatorId === currentUser.id)\\r\\n                                   || (item?.status === newsStatus.pending && isApprove)\\\"\\r\\n                           (click)=\\\"edit(item)\\\"\\r\\n                           i18n=\\\"@@edit\\\">\\r\\n                            <i class=\\\"fa fa-edit\\\"></i>\\r\\n                            Edit\\r\\n                        </a>\\r\\n                    </li>\\r\\n                    <li>\\r\\n                        <a *ngIf=\\\"permission.delete && ((item?.status === newsStatus.decline || item?.status === newsStatus.draft) && item?.creatorId === currentUser.id)\\\"\\r\\n                           (click)=\\\"confirm(item)\\\" i18n=\\\"@@delete\\\">\\r\\n                            <i class=\\\"fa fa-trash\\\"></i>\\r\\n                            Delete\\r\\n                        </a>\\r\\n                    </li>\\r\\n                </ul>\\r\\n            </nh-dropdown>\\r\\n        </td>\\r\\n    </tr>\\r\\n    </tbody>\\r\\n</table>\\r\\n<ghm-paging [totalRows]=\\\"totalRows\\\" [pageSize]=\\\"pageSize\\\" [currentPage]=\\\"currentPage\\\" [pageShow]=\\\"6\\\"\\r\\n            (pageClick)=\\\"search($event)\\\"\\r\\n            [isDisabled]=\\\"isSearching\\\" i18n-pageName=\\\"@@news\\\" pageName=\\\"News\\\"></ghm-paging>\\r\\n<swal\\r\\n        #confirmDeleteNews\\r\\n        i18n=\\\"@@confirmDeleteListNews\\\"\\r\\n        i18n-title=\\\"@@confirmTitleDeleteListNews\\\"\\r\\n        i18n-text=\\\"@@confirmTextDeleteListNew\\\"\\r\\n        title=\\\"Are you sure for delete this list news?\\\"\\r\\n        text=\\\"You can't recover this list news after delete.\\\"\\r\\n        type=\\\"question\\\"\\r\\n        i18n-confirmButtonText=\\\"@@accept\\\"\\r\\n        i18n-cancelButtonText=\\\"@@cancel\\\"\\r\\n        confirmButtonText=\\\"Accept\\\"\\r\\n        cancelButtonText=\\\"Cancel\\\"\\r\\n        [showCancelButton]=\\\"true\\\"\\r\\n        [focusCancel]=\\\"true\\\">\\r\\n</swal>\\r\\n\\r\\n<swal\\r\\n        #confirmApproveNews\\r\\n        i18n=\\\"@@confirmApproveListNews\\\"\\r\\n        i18n-title=\\\"@@titleConfirmApproveListNews\\\"\\r\\n        i18n-text=\\\"@@textConfirmApproveListNews\\\"\\r\\n        title=\\\"Are you sure for approve this list news?\\\"\\r\\n        type=\\\"question\\\"\\r\\n        [showCancelButton]=\\\"true\\\"\\r\\n        [focusCancel]=\\\"true\\\">\\r\\n</swal>\\r\\n\\r\\n<swal #confirmDeclineNews\\r\\n      i18n=\\\"@@confirmDeclineListNews\\\"\\r\\n      i18n-title=\\\"@@titleConfirmDeclineListNews\\\"\\r\\n      i18n-text=\\\"@@textConfirmDeclineListNews\\\"\\r\\n      title=\\\"Decline Reason\\\"\\r\\n      input=\\\"textarea\\\"\\r\\n      type=\\\"warning\\\"\\r\\n      size=\\\"lage\\\"\\r\\n      customClass=\\\"w500\\\"\\r\\n      inputPlaceholder=\\\"Please enter decline reason\\\"\\r\\n      [showCancelButton]=\\\"true\\\"\\r\\n      [focusCancel]=\\\"true\\\">>\\r\\n</swal>\\r\\n\\r\\n<swal\\r\\n        #confirmSendListNews\\r\\n        i18n=\\\"@@confirmSendListNews\\\"\\r\\n        i18n-title=\\\"@@titleConfirmSendListNews\\\"\\r\\n        i18n-text=\\\"@@textConfitmSendListNews\\\"\\r\\n        title=\\\"Are you sure for send this list news?\\\"\\r\\n        type=\\\"question\\\"\\r\\n        [showCancelButton]=\\\"true\\\"\\r\\n        [focusCancel]=\\\"true\\\">\\r\\n</swal>\\r\\n\\r\\n<nh-menu #nhMenu>\\r\\n    <nh-menu-item (clicked)=\\\"detail($event)\\\">\\r\\n        <i class=\\\"fa fa-eye\\\"></i>\\r\\n        <span i18n=\\\"@@view\\\">View</span>\\r\\n    </nh-menu-item>\\r\\n    <nh-menu-item (clicked)=\\\"edit($event)\\\">\\r\\n        <i class=\\\"fa fa-edit\\\"></i>\\r\\n        <span i18n=\\\"@@edit\\\">Edit</span>\\r\\n    </nh-menu-item>\\r\\n    <nh-menu-item *ngIf=\\\"permission.delete\\\"\\r\\n                  (clicked)=\\\"confirm($event)\\\">\\r\\n        <i class=\\\"fa fa-edit\\\"></i>\\r\\n        <span i18n=\\\"@@edit\\\">Delete</span>\\r\\n    </nh-menu-item>\\r\\n</nh-menu>\\r\\n\"","import {AfterViewInit, ChangeDetectorRef, Component, Inject, OnInit, ViewChild} from '@angular/core';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\nimport {BaseListComponent} from '../../../../base-list.component';\r\nimport {APP_CONFIG, IAppConfig} from '../../../../configs/app.config';\r\nimport {IPageId, PAGE_ID} from '../../../../configs/page-id.config';\r\nimport {finalize} from 'rxjs/operators';\r\nimport {NewsService} from '../service/news.service';\r\nimport {NewsSearchViewModel} from '../viewmodel/news-search.viewmodel';\r\nimport {NewsStatus} from '../model/news.model';\r\nimport {FilterLink} from '../../../../shareds/models/filter-link.model';\r\nimport {UtilService} from '../../../../shareds/services/util.service';\r\nimport {Location, LocationStrategy, PathLocationStrategy} from '@angular/common';\r\nimport {HelperService} from '../../../../shareds/services/helper.service';\r\nimport {QuestionGroupService} from '../../../surveys/question-group/service/question-group.service';\r\nimport * as _ from 'lodash';\r\nimport {ChangeListNewsStatus} from '../model/changeListNewsStatus.model';\r\nimport {ToastrService} from 'ngx-toastr';\r\nimport {SearchNewViewModel} from '../viewmodel/searchNewViewModel';\r\nimport {TreeData} from '../../../../view-model/tree-data';\r\nimport {CategoryService} from '../../category/category.service';\r\nimport {ChangeNewsStatus} from '../model/newStatus.model';\r\nimport {SwalComponent} from '@toverux/ngx-sweetalert2';\r\n\r\n@Component({\r\n    selector: 'app-news',\r\n    templateUrl: './news-list.component.html',\r\n    providers: [Location, {provide: LocationStrategy, useClass: PathLocationStrategy},\r\n        NewsService, HelperService, QuestionGroupService]\r\n})\r\n\r\nexport class NewsComponent extends BaseListComponent<NewsSearchViewModel> implements OnInit, AfterViewInit {\r\n    @ViewChild('confirmDeleteNews') swalConfirmDelete: SwalComponent;\r\n    creatorId; // Id người tạo\r\n    status; // Trạng thái phê duyệt\r\n    height;\r\n    listNewStatus = [\r\n        {id: NewsStatus.draft, name: 'Draft'},\r\n        {id: NewsStatus.pending, name: 'Pending'},\r\n        {id: NewsStatus.approved, name: 'Approved'},\r\n        {id: NewsStatus.decline, name: 'Decline'}];\r\n    newStatus = NewsStatus;\r\n    isCheckAll;\r\n    listNews: NewsSearchViewModel[];\r\n    listNewsSelect: string [];\r\n    newsStatus = NewsStatus;\r\n    isApprove = true;\r\n    categoryId: number;\r\n    listNewsIdForApprove;\r\n    listNewsIdForSend;\r\n    categoryTree: TreeData[];\r\n    newsId;\r\n\r\n    constructor(@Inject(APP_CONFIG) public appConfig: IAppConfig,\r\n                @Inject(PAGE_ID) public pageId: IPageId,\r\n                private router: Router,\r\n                private location: Location,\r\n                private cdr: ChangeDetectorRef,\r\n                private toastr: ToastrService,\r\n                private utilService: UtilService,\r\n                private route: ActivatedRoute,\r\n                private categoryService: CategoryService,\r\n                private newsService: NewsService) {\r\n        super();\r\n\r\n        this.categoryService.getTree().subscribe((result: TreeData[]) => this.categoryTree = result);\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.appService.setupPage(this.pageId.NEWS, this.pageId.NEWS_LIST, 'Quản lý tin tức', 'Danh sách tin tức');\r\n        this.subscribers.data = this.route.data.subscribe((result: { data: SearchNewViewModel }) => {\r\n            const data = result.data.searchResult;\r\n            this.totalRows = data.totalRows;\r\n            this.listNews = data.items;\r\n            this.rendResult();\r\n            this.isApprove = result.data.isApprove;\r\n        });\r\n\r\n        this.subscribers.queryParams = this.route.queryParams.subscribe(params => {\r\n            this.keyword = params.keyword ? params.keyword : '';\r\n            this.creatorId = params.creatorId ? params.creatorId : '';\r\n            this.categoryId = params.categoryId ? parseInt(params.categoryId) : -1;\r\n            this.status = params.questionStatus !== undefined && params.questionStatus !== '' && params.questionStatus !== null\r\n                ? parseInt(params.questionStatus) : '';\r\n            this.currentPage = params.page ? parseInt(params.page) : 1;\r\n            this.pageSize = params.pageSize ? parseInt(params.pageSize) : this.appConfig.PAGE_SIZE;\r\n        });\r\n        this.currentUser = this.appService.currentUser;\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        this.height = window.innerHeight - 270;\r\n        this.cdr.detectChanges();\r\n\r\n        this.swalConfirmDelete.confirm.subscribe(result => {\r\n            this.delete(this.newsId);\r\n        });\r\n    }\r\n\r\n    onSelectUser(value) {\r\n        if (value) {\r\n            this.creatorId = value.id;\r\n            this.search(1);\r\n        }\r\n    }\r\n\r\n    onRemoveUser() {\r\n        this.creatorId = '';\r\n        this.search(1);\r\n    }\r\n\r\n    selectCategory(value: TreeData) {\r\n        if (value) {\r\n            this.categoryId = value.id;\r\n        } else {\r\n            this.categoryId = -1;\r\n        }\r\n        this.search(1);\r\n    }\r\n\r\n    search(currentPage: number) {\r\n        this.currentPage = currentPage;\r\n        this.isSearching = true;\r\n        this.renderFilterLink();\r\n        this.newsService.search(this.keyword, this.categoryId, this.creatorId, this.status,\r\n            this.currentPage, this.pageSize)\r\n            .pipe(finalize(() => this.isSearching = false)).subscribe((result: SearchNewViewModel) => {\r\n            this.totalRows = result.searchResult.totalRows;\r\n            this.listNews = result.searchResult.items;\r\n            this.rendResult();\r\n            this.isApprove = result.isApprove;\r\n            this.getListNewSelect();\r\n        });\r\n    }\r\n\r\n    delete(id: string) {\r\n        this.newsService.delete(id)\r\n            .subscribe(() => {\r\n                _.remove(this.listNews, (item: NewsSearchViewModel) => {\r\n                    return item.id === id;\r\n                });\r\n            });\r\n    }\r\n\r\n    edit(item: NewsSearchViewModel) {\r\n        this.router.navigate([`/news/edit/${item.id}`]);\r\n    }\r\n\r\n    detail(item: NewsSearchViewModel) {\r\n        this.router.navigate([`/news/detail/${item.id}`]);\r\n    }\r\n\r\n    viewHistory(id) {\r\n        this.router.navigate([`/news/view-history/${id}`]);\r\n    }\r\n\r\n    resetFormSearch() {\r\n        this.keyword = '';\r\n        this.creatorId = '';\r\n        this.status = '';\r\n        this.search(1);\r\n    }\r\n\r\n    selectAll() {\r\n        const listSelect = _.filter(this.listNews, (item: NewsSearchViewModel) => {\r\n            return ((item.status === NewsStatus.decline || item.status === NewsStatus.draft) && item.creatorId === this.currentUser.id)\r\n                || (item.status === NewsStatus.pending && this.isApprove);\r\n        });\r\n\r\n        _.each(listSelect, (item: NewsSearchViewModel) => {\r\n            item.isCheck = this.isCheckAll;\r\n        });\r\n\r\n        this.getListNewSelect();\r\n    }\r\n\r\n    selectNew(value: NewsSearchViewModel) {\r\n        this.getListNewSelect();\r\n        this.isCheckAll = this.listNewsSelect && this.listNews && this.listNews.length === this.listNewsSelect.length;\r\n    }\r\n\r\n    getListNewSelect() {\r\n        this.listNewsSelect = _.map(_.filter(this.listNews, (item: NewsSearchViewModel) => {\r\n            return item.isCheck;\r\n        }), (newsSelect => {\r\n            return newsSelect.id;\r\n        }));\r\n\r\n        this.listNewsIdForApprove = _.map(_.filter(this.listNews, (item: NewsSearchViewModel) => {\r\n            return item.isCheck && item.status === NewsStatus.pending && this.isApprove;\r\n        }), (newsSelect => {\r\n            return newsSelect.id;\r\n        }));\r\n\r\n        this.listNewsIdForSend = _.map(_.filter(this.listNews, (item: NewsSearchViewModel) => {\r\n            return item.isCheck && (item.status === NewsStatus.decline || item.status === NewsStatus.draft)\r\n                && item.creatorId === this.currentUser.id;\r\n        }), (newsSelect => {\r\n            return newsSelect.id;\r\n        }));\r\n    }\r\n\r\n    approveNews() {\r\n        const changeListNewsStatus = new ChangeListNewsStatus(this.listNewsIdForApprove, NewsStatus.approved, '');\r\n        this.newsService.updateListNewsStatus(changeListNewsStatus).subscribe(() => {\r\n            // this.search(1);\r\n            this.updateNewsStatusByListNewsSelect(this.listNewsIdForApprove, NewsStatus.approved);\r\n        });\r\n    }\r\n\r\n    updateNewsStatusByListNewsSelect(listNewsIdSelect: string, status: number) {\r\n        const listNewsById = _.filter(this.listNews, (news: NewsSearchViewModel) => {\r\n            return listNewsIdSelect.indexOf(news.id) > -1;\r\n        });\r\n\r\n        if (listNewsById && listNewsById.length > 0) {\r\n            _.each(listNewsById, (item: NewsSearchViewModel) => {\r\n                this.updateStatusName(item, status);\r\n                item.isCheck = false;\r\n            });\r\n\r\n            this.getListNewSelect();\r\n        }\r\n    }\r\n\r\n    updateStatusName(news: NewsSearchViewModel, status: number) {\r\n        news.status = status;\r\n        news.statusName = status === NewsStatus.draft ? 'Draft' :\r\n            status === NewsStatus.pending ? 'Pending' :\r\n                status === NewsStatus.approved ? 'Approved' :\r\n                    status === NewsStatus.decline ? 'Decline' : '';\r\n    }\r\n\r\n    declineNew(value) {\r\n        if (value) {\r\n            const changeListNewsStatus = new ChangeListNewsStatus(this.listNewsIdForApprove, NewsStatus.decline, value);\r\n            this.newsService.updateListNewsStatus(changeListNewsStatus).subscribe(() => {\r\n                this.updateNewsStatusByListNewsSelect(this.listNewsIdForApprove, NewsStatus.decline);\r\n            });\r\n        } else {\r\n            this.toastr.error('Please enter decline reason');\r\n        }\r\n    }\r\n\r\n    updateStatus(news: NewsSearchViewModel, status: number, declineReason) {\r\n        const changeNewsStatus = new ChangeNewsStatus(status, declineReason);\r\n        if ((declineReason && status === NewsStatus.decline) || status !== NewsStatus.decline) {\r\n            this.newsService.updateStatus(news.id, changeNewsStatus).subscribe(() => {\r\n                this.updateStatusName(news, status);\r\n            });\r\n        } else {\r\n            this.toastr.error('Please enter decline reason');\r\n        }\r\n    }\r\n\r\n    sendNews() {\r\n        const changeListNewsStatus = new ChangeListNewsStatus(this.listNewsIdForSend, NewsStatus.pending, '');\r\n        this.newsService.updateListNewsStatus(changeListNewsStatus).subscribe(() => {\r\n            this.updateNewsStatusByListNewsSelect(this.listNewsIdForSend, NewsStatus.pending);\r\n        });\r\n    }\r\n\r\n    deleteNews() {\r\n        this.newsService.deleteMultiNews(this.listNewsIdForSend).subscribe(() => {\r\n            _.remove(this.listNews, (item: NewsSearchViewModel) => {\r\n                return this.listNewsIdForSend.indexOf(item.id) > -1;\r\n            });\r\n        });\r\n    }\r\n\r\n    confirm(value: NewsSearchViewModel) {\r\n        this.newsId = value.id;\r\n        this.swalConfirmDelete.show();\r\n    }\r\n\r\n    updateIsHot(news: NewsSearchViewModel) {\r\n        this.newsService.updateIsHot(news.id, !news.isHot).subscribe(() => {\r\n            news.isHot = !news.isHot;\r\n        });\r\n    }\r\n\r\n    updateIsHomePage(news: NewsSearchViewModel) {\r\n        this.newsService.updateIsHomePage(news.id, !news.isHomePage).subscribe(() => {\r\n            news.isHomePage = !news.isHomePage;\r\n        });\r\n    }\r\n\r\n    private rendResult() {\r\n        _.each(this.listNews, (item: NewsSearchViewModel) => {\r\n            item.categoryNews = _.join(item.categoriesNames, ', ');\r\n        });\r\n    }\r\n\r\n    renderFilterLink() {\r\n        const path = 'news';\r\n        const query = this.utilService.renderLocationFilter([\r\n            new FilterLink('keyword', this.keyword),\r\n            new FilterLink('categoryId', this.categoryId),\r\n            new FilterLink('creatorId', this.creatorId),\r\n            new FilterLink('status', this.status),\r\n            new FilterLink('page', this.currentPage),\r\n            new FilterLink('pageSize', this.pageSize)\r\n        ]);\r\n        this.location.go(path, query);\r\n    }\r\n}\r\n","module.exports = \"@charset \\\"UTF-8\\\";\\n.new-content .portlet-body .form-group {\\n  margin-bottom: 5px !important; }\\n.new-content .portlet-body .control-label {\\n  padding-bottom: 5px; }\\n.blog-page .bordered {\\n  border: 1px solid;\\n  border-color: #e7ecf1; }\\n.blog-page .blog-container {\\n  margin-bottom: 30px; }\\n.blog-page .blog-title > a {\\n  color: #4e5a64;\\n  font-weight: 600; }\\n.blog-page .blog-title > a:hover {\\n    color: #3598DC;\\n    text-decoration: none; }\\n/* Cubic Bezier Transition */\\n/***\\r\\nBlog Page\\r\\n***/\\n.blog-page {\\n  margin-top: 15px; }\\n.blog-page .blog-container {\\n    margin-bottom: 30px; }\\n.blog-page .blog-title > a {\\n    color: #4e5a64;\\n    font-weight: 600; }\\n.blog-page .blog-title > a:hover {\\n      color: #3598DC;\\n      text-decoration: none; }\\n.blog-content-2 .portlet.light {\\n  padding: 0px; }\\n.blog-content-2 .blog-single-content {\\n  padding: 15px;\\n  background-color: #fff; }\\n.blog-content-2 .blog-single-content > .media {\\n    margin-bottom: 10px; }\\n.blog-content-2 .blog-single-content > .media .media-left .blog-single-img {\\n      margin: 0 0 35px 0; }\\n.blog-content-2 .blog-single-content > .media .media-left .blog-single-img > img {\\n        width: 100%; }\\n.blog-content-2 .blog-single-content > .media .media-body .blog-single-head > .blog-single-head-title {\\n      font-size: 20px;\\n      font-weight: 600;\\n      color: #4e5a64;\\n      margin: 0 0 5px;\\n      display: inline-block; }\\n.blog-content-2 .blog-single-content > .media .media-body .blog-single-head > .blog-single-head-date {\\n      font-size: 13px;\\n      font-weight: 600;\\n      margin-bottom: 10px; }\\n.blog-content-2 .blog-single-content > .media .media-body .blog-single-head > .blog-single-head-date > i {\\n        margin-right: 5px; }\\n.blog-content-2 .blog-single-content > .media .media-body .blog-single-head > .blog-single-head-date > a {\\n        color: #9aa5b2; }\\n.blog-content-2 .blog-single-content > .media .media-body .blog-single-head > .blog-single-head-date > a:hover {\\n          color: #3598DC;\\n          text-decoration: none; }\\n.blog-content-2 .blog-single-content > .media .media-body .blog-single-description {\\n      font-weight: 600;\\n      margin-top: 0px; }\\n.blog-content-2 .blog-single-content > .blog-single-desc > {\\n    margin-bottom: 20px; }\\n.blog-content-2 .blog-single-content > .blog-single-desc > p {\\n      margin: 0 0 35px 0;\\n      font-size: 16px;\\n      color: #7e8691;\\n      line-height: 24px; }\\n.blog-content-2 .blog-single-content > .blog-single-foot {\\n    border-top: 1px solid;\\n    border-bottom: 1px solid;\\n    border-color: #f0f1f2;\\n    padding: 20px 0 25px 0;\\n    margin-bottom: 20px; }\\n.blog-content-2 .blog-single-content > .blog-single-foot > .blog-post-tags {\\n      text-align: left;\\n      padding: 0;\\n      margin: 0; }\\n.blog-content-2 .blog-single-content > .blog-single-foot > .blog-post-tags > li {\\n        list-style: none;\\n        display: inline-block;\\n        margin-right: 5px; }\\n.blog-content-2 .blog-single-content > .blog-single-foot > .blog-post-tags > li > a {\\n          background-color: #f4f6f8;\\n          color: #a0a9b4;\\n          font-size: 11px;\\n          font-weight: 600;\\n          padding: 7px 10px; }\\n.blog-content-2 .blog-single-content > .blog-single-foot > .blog-post-tags > li > a:hover {\\n            background-color: #3598DC;\\n            color: #fff;\\n            text-decoration: none; }\\n.blog-content-2 .blog-single-content > .blog-single-foot > .blog-post-tags > li:last-child {\\n          margin-right: 0; }\\n.blog-content-2 .blog-single-content > p {\\n    margin: 10px 0 !important; }\\n.blog-content-2 .blog-single-content > .blog-comments {\\n    display: inline-block;\\n    font-size: 14px;\\n    font-weight: 400;\\n    margin: 6px 10px 3px 0; }\\n.blog-content-2 .blog-single-content > .blog-comments .blog-comments-title {\\n      font-size: 20px; }\\n.blog-content-2 .blog-single-content > .blog-comments i {\\n      position: relative;\\n      top: 2px; }\\n.blog-content-2 .blog-single-content > .blog-comments input:focus, .blog-content-2 .blog-single-content > .blog-comments textarea:focus {\\n      outline: 0;\\n      border: 1px solid #ccc; }\\n.blog-content-2 .blog-single-sidebar {\\n  padding: 15px;\\n  background-color: #fff; }\\n.blog-content-2 .blog-single-sidebar .blog-sidebar-title {\\n    font-weight: 600;\\n    font-size: 14px;\\n    color: #4e5a64;\\n    letter-spacing: 1px;\\n    margin: 20px 0px; }\\n.blog-content-2 .blog-single-sidebar .list-inline .list-items {\\n    border: none !important; }\\n.blog-content-2 .blog-single-sidebar > .blog-single-sidebar-search input {\\n    font-size: 14px;\\n    color: #a0a9b4; }\\n.blog-content-2 .blog-single-sidebar > .blog-single-sidebar-search input:focus {\\n      outline: 0;\\n      border: 1px solid #ccc; }\\n.blog-content-2 .blog-single-sidebar > .blog-single-sidebar-recent > ul {\\n    padding: 0; }\\n.blog-content-2 .blog-single-sidebar > .blog-single-sidebar-recent > ul > li {\\n      list-style: none;\\n      margin-bottom: 10px;\\n      position: relative; }\\n.blog-content-2 .blog-single-sidebar > .blog-single-sidebar-recent > ul > li > a {\\n        color: #49a7fa;\\n        font-size: 16px;\\n        padding-left: 20px;\\n        display: block; }\\n.blog-content-2 .blog-single-sidebar > .blog-single-sidebar-recent > ul > li > a:hover {\\n          text-decoration: none;\\n          color: #3598DC; }\\n.blog-content-2 .blog-single-sidebar > .blog-single-sidebar-recent > ul > li:before {\\n        content: \\\"•\\\";\\n        color: #dae0e5;\\n        font-size: 30px;\\n        position: absolute;\\n        margin-top: -9px; }\\n.blog-content-2 .blog-single-sidebar > .blog-single-sidebar-tags .blog-post-tags {\\n    text-align: left;\\n    padding: 0;\\n    margin: 20px 0 0 0; }\\n.blog-content-2 .blog-single-sidebar > .blog-single-sidebar-tags .blog-post-tags > li {\\n      list-style: none;\\n      display: inline-block;\\n      margin: 0 5px 20px 0; }\\n.blog-content-2 .blog-single-sidebar > .blog-single-sidebar-tags .blog-post-tags > li > a {\\n        background-color: #f4f6f8;\\n        color: #a0a9b4;\\n        font-size: 11px;\\n        font-weight: 600;\\n        padding: 7px 10px; }\\n.blog-content-2 .blog-single-sidebar > .blog-single-sidebar-tags .blog-post-tags > li > a:hover {\\n          background-color: #3598DC;\\n          color: #fff;\\n          text-decoration: none; }\\n.blog-content-2 .blog-single-sidebar > .blog-single-sidebar-tags .blog-post-tags > li:last-child {\\n        margin-right: 0; }\\n.blog-content-2 .blog-single-sidebar > .blog-single-sidebar-links > ul {\\n    padding: 0; }\\n.blog-content-2 .blog-single-sidebar > .blog-single-sidebar-links > ul > li {\\n      list-style: none;\\n      border-bottom: 1px solid;\\n      border-color: #f0f1f2;\\n      padding: 20px 0; }\\n.blog-content-2 .blog-single-sidebar > .blog-single-sidebar-links > ul > li > a {\\n        color: #49a7fa;\\n        font-size: 16px; }\\n.blog-content-2 .blog-single-sidebar > .blog-single-sidebar-links > ul > li > a:hover {\\n          text-decoration: none;\\n          color: #3598DC; }\\n.blog-content-2 .blog-single-sidebar > .blog-single-sidebar-links > ul > li:first-child {\\n        padding-top: 0; }\\n.blog-content-2 .blog-single-sidebar > .blog-single-sidebar-links > ul > li:last-child {\\n        border: none; }\\n.blog-content-2 .blog-single-sidebar > .blog-single-sidebar-ui .ui-margin {\\n    margin: 0; }\\n.blog-content-2 .blog-single-sidebar > .blog-single-sidebar-ui .ui-padding {\\n    padding: 0 5px 5px 0; }\\n.blog-content-2 .blog-single-sidebar > .blog-single-sidebar-ui img {\\n    width: 100%; }\\n@media (max-width: 991px) {\\n  .blog-content-1 .blog-post-lg > .blog-img-thumb {\\n    height: 330px; }\\n  .blog-content-1 .blog-post-sm > .blog-img-thumb {\\n    height: 170px; }\\n  .blog-content-1 .blog-video > .blog-img-thumb {\\n    height: 301px; }\\n    .blog-content-1 .blog-video > .blog-img-thumb img {\\n      height: auto;\\n      width: 100%; } }\\n@media (max-width: 480px) {\\n  .blog-content-1 .blog-post-lg > .blog-post-content > .blog-post-foot {\\n    text-align: left; }\\n    .blog-content-1 .blog-post-lg > .blog-post-content > .blog-post-foot > .blog-post-tags {\\n      float: none; }\\n    .blog-content-1 .blog-post-lg > .blog-post-content > .blog-post-foot > .blog-post-meta {\\n      margin-right: 10px;\\n      margin-top: 10px; }\\n  .blog-content-2 .blog-single-content > .blog-single-head > .list-inline .list-items {\\n    border: none !important; }\\n  .blog-content-2 .blog-single-content > .blog-single-head > .blog-single-head-title {\\n    margin-bottom: 0px; }\\n  .blog-content-2 .blog-single-content > .blog-single-head > .blog-single-head-date {\\n    float: none;\\n    margin-bottom: 40px; } }\\n.select-news-container li {\\n  padding: 5px; }\\n.select-news-container .selected {\\n  border-left: 3px solid #007455; }\\n.select-news-container .media .media-body {\\n  vertical-align: middle; }\\n.list-items {\\n  border: none !important; }\\n\"","module.exports = \"<div class=\\\"row\\\">\\r\\n    <div class=\\\"col-sm-12\\\">\\r\\n        <form class=\\\"form-inline\\\" (ngSubmit)=\\\"search(1)\\\">\\r\\n            <div class=\\\"form-group cm-mgr-5\\\">\\r\\n                <input type=\\\"text\\\" class=\\\"form-control\\\" i18n=\\\"@@searchPlaceHolder\\\" placeholder=\\\"Please enter news title\\\"\\r\\n                       (keyup)=\\\"keyword = searchGroupKeyword.value\\\" #searchGroupKeyword/>\\r\\n            </div>\\r\\n            <div class=\\\"form-group cm-mgr-5\\\">\\r\\n                <nh-dropdown-tree [data]=\\\"categoryTree\\\"\\r\\n                                  [width]=\\\"350\\\"\\r\\n                                  (nodeSelected)=\\\"selectCategory($event)\\\"></nh-dropdown-tree>\\r\\n            </div>\\r\\n            <div class=\\\"form-group\\\">\\r\\n                <button type=\\\"submit\\\" class=\\\"btn blue\\\">\\r\\n                    <i class=\\\"fa fa-search\\\"></i>\\r\\n                </button>\\r\\n            </div>\\r\\n        </form>\\r\\n    </div>\\r\\n</div>\\r\\n<div class=\\\"row cm-mgt-10\\\">\\r\\n    <div class=\\\"col-sm-12\\\">\\r\\n        <ul class=\\\"media-list select-news-container\\\">\\r\\n            <li class=\\\"media cursor-pointer\\\" *ngFor=\\\"let item of listNews\\\"\\r\\n                [class.selected]=\\\"item.selected\\\"\\r\\n                (click)=\\\"onSelectItem(item)\\\">\\r\\n                <div class=\\\"media-left\\\">\\r\\n                    <a href=\\\"javascript://\\\">\\r\\n                        <img ghmImage [src]=\\\"item.featureImage\\\" class=\\\"w50\\\" [isUrlAbsolute]=\\\"true\\\"/>\\r\\n                    </a>\\r\\n                </div>\\r\\n                <div class=\\\"media-body\\\">\\r\\n                    <h4 class=\\\"media-heading\\\">{{item.title}}</h4>\\r\\n                    {{item.description}}\\r\\n                </div>\\r\\n            </li>\\r\\n        </ul>\\r\\n        <ghm-paging [totalRows]=\\\"totalRows\\\" [pageSize]=\\\"pageSize\\\" [currentPage]=\\\"currentPage\\\" [pageShow]=\\\"6\\\"\\r\\n                    (pageClick)=\\\"search($event)\\\"\\r\\n                    [isDisabled]=\\\"isSearching\\\" i18n-pageName=\\\"@@news\\\" pageName=\\\"News\\\"></ghm-paging>\\r\\n    </div>\\r\\n</div>\\r\\n<div class=\\\"row\\\">\\r\\n    <div class=\\\"col-sm-12 text-right\\\">\\r\\n        <button type=\\\"button\\\" class=\\\"btn blue cm-mgr-5\\\" (click)=\\\"accept()\\\" i18n=\\\"@@accept\\\">\\r\\n            Accept\\r\\n        </button>\\r\\n        <button type=\\\"button\\\" class=\\\"btn default\\\" (click)=\\\"cancel()\\\" i18n=\\\"@@close\\\">\\r\\n            Close\\r\\n        </button>\\r\\n    </div>\\r\\n</div>\"","import {AfterViewInit, Component, EventEmitter, OnInit, Output} from '@angular/core';\r\nimport * as _ from 'lodash';\r\nimport {BaseListComponent} from '../../../../base-list.component';\r\nimport {News} from '../model/news.model';\r\nimport {ToastrService} from 'ngx-toastr';\r\nimport {CategoryService} from '../../category/category.service';\r\nimport {TreeData} from '../../../../view-model/tree-data';\r\nimport {NewsService} from '../service/news.service';\r\nimport {NewSearchForSelectViewModel} from '../viewmodel/new-search-for-select.viewmodel';\r\nimport {SearchResultViewModel} from '../../../../shareds/view-models/search-result.viewmodel';\r\n\r\n@Component({\r\n    selector: 'app-new-select',\r\n    templateUrl: './select-new.component.html',\r\n    styleUrls: ['../news.scss'],\r\n    providers: [NewsService, CategoryService]\r\n})\r\n\r\nexport class SelectNewComponent extends BaseListComponent<News> implements OnInit, AfterViewInit {\r\n    @Output() onCancel = new EventEmitter();\r\n    @Output() onAccept = new EventEmitter();\r\n    listSelectedNews = [];\r\n    categoryId;\r\n    keyword = '';\r\n    listNews = [];\r\n    categoryTree = [];\r\n\r\n    constructor(private toastr: ToastrService,\r\n                private newsService: NewsService,\r\n                private categoryService: CategoryService) {\r\n        super();\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.categoryService.getTree().subscribe((result: TreeData[]) => this.categoryTree = result);\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        setTimeout(() => {\r\n            this.search(1);\r\n        }, 200);\r\n    }\r\n\r\n    search(currentPage) {\r\n        this.currentPage = currentPage;\r\n        this.isSearching = true;\r\n        this.newsService.searchForSelect(this.keyword, this.categoryId, this.currentPage, this.pageSize)\r\n            .subscribe((result: SearchResultViewModel<NewSearchForSelectViewModel>) => {\r\n                this.renderListNews(result.items);\r\n                this.totalRows = result.totalRows;\r\n            });\r\n    }\r\n\r\n    selectCategory(value: TreeData) {\r\n        if (value) {\r\n            this.categoryId = value.id;\r\n        } else {\r\n            this.categoryId = '';\r\n        }\r\n        this.search(1);\r\n    }\r\n\r\n    onSelectItem(item: NewSearchForSelectViewModel) {\r\n        item.selected = !item.selected;\r\n\r\n        if (item.selected) {\r\n            const existsItem = _.find(this.listSelectedNews, (news) => {\r\n                return item.id === news.id;\r\n            });\r\n\r\n            if (existsItem) {\r\n                return;\r\n            } else {\r\n                this.listSelectedNews.push({\r\n                    id: item.id,\r\n                    name: item.title,\r\n                    image: item.featureImage,\r\n                });\r\n            }\r\n        } else {\r\n            _.remove(this.listSelectedNews, (news) => {\r\n                return item.id === news.id;\r\n            });\r\n        }\r\n    }\r\n\r\n    accept() {\r\n        if (this.listSelectedNews.length === 0) {\r\n            this.toastr.warning('Vui lòng chọn ít nhất 1 nhóm.');\r\n            return;\r\n        }\r\n        this.onAccept.emit(_.map(this.listSelectedNews, (news) => {\r\n            return news;\r\n        }));\r\n        _.each(this.listNews, (item) => {\r\n            item.selected = false;\r\n        });\r\n    }\r\n\r\n    cancel() {\r\n        this.onCancel.emit();\r\n    }\r\n\r\n    private renderListNews(listNews) {\r\n        const newsItems = [];\r\n        _.each(listNews, (item: any) => {\r\n            item.selected = _.map(this.listSelectedNews, news => {\r\n                return news.id;\r\n            }).indexOf(item.id) > -1;\r\n\r\n            newsItems.push(item);\r\n        });\r\n\r\n        this.listNews = newsItems;\r\n    }\r\n\r\n    // private reRenderSelectedNews() {\r\n    //     _.each(this.listNews, (news) => {\r\n    //         news.selected = _.map(this.listSelectedNews, (item) => {\r\n    //             return item.id;\r\n    //         }).indexOf(news.id) > -1;\r\n    //     });\r\n    // }\r\n}\r\n","import {Inject} from '@angular/core';\r\nimport {APP_CONFIG, IAppConfig} from '../../../../configs/app.config';\r\nimport {HttpClient, HttpParams} from '@angular/common/http';\r\nimport {ActivatedRouteSnapshot} from '@angular/router';\r\nimport {Observable} from 'rxjs';\r\nimport {SearchResultViewModel} from '../../../../shareds/view-models/search-result.viewmodel';\r\nimport {ActionResultViewModel} from '../../../../shareds/view-models/action-result.viewmodel';\r\nimport {IResponseResult} from '../../../../interfaces/iresponse-result';\r\nimport {News, Tag} from '../model/news.model';\r\nimport {ToastrService} from 'ngx-toastr';\r\nimport {SpinnerService} from '../../../../core/spinner/spinner.service';\r\nimport {finalize, map} from 'rxjs/operators';\r\nimport {NewDetailViewModel} from '../viewmodel/new-detail.viewmodel';\r\nimport {NewViewHistoryViewModel} from '../viewmodel/new-view-history.viewmodel';\r\nimport {ChangeNewsStatus} from '../model/newStatus.model';\r\nimport {ChangeListNewsStatus} from '../model/changeListNewsStatus.model';\r\nimport {NewSearchForSelectViewModel} from '../viewmodel/new-search-for-select.viewmodel';\r\nimport * as _ from 'lodash';\r\nimport {SearchNewViewModel} from '../viewmodel/searchNewViewModel';\r\n\r\nexport class NewsService {\r\n    url = 'news/';\r\n\r\n    constructor(@Inject(APP_CONFIG) public appConfig: IAppConfig,\r\n                private toastr: ToastrService,\r\n                private spinnerService: SpinnerService,\r\n                private http: HttpClient) {\r\n        this.url = `${appConfig.WEBSITE_API_URL}${this.url}`;\r\n    }\r\n\r\n    resolve(route: ActivatedRouteSnapshot, state: Object) {\r\n        const queryParams = route.queryParams;\r\n        const keyword = queryParams.keyword;\r\n        const categoryId = parseInt(queryParams.categoryId);\r\n        const creatorId = queryParams.creatorId;\r\n        const status = queryParams.status;\r\n        const page = queryParams.page;\r\n        const pageSize = queryParams.pageSize;\r\n        return this.search(keyword, categoryId, creatorId, status, page, pageSize);\r\n    }\r\n\r\n    search(keyword?: string, categoryId?: number, creatorId?: string, status?: number,\r\n           page: number = 1, pageSize: number = this.appConfig.PAGE_SIZE): Observable<SearchNewViewModel> {\r\n        return this.http.get(`${this.url}`, {\r\n            params: new HttpParams()\r\n                .set('keyword', keyword ? keyword : '')\r\n                .set('categoryId', categoryId !== undefined && categoryId !== null && categoryId !== -1 ? categoryId.toString() : '')\r\n                .set('creatorId', creatorId ? creatorId : '')\r\n                .set('status', status !== undefined && status !== null ? status.toString() : '')\r\n                .set('page', page ? page.toString() : '1')\r\n                .set('pageSize', page ? pageSize.toString() : this.appConfig.PAGE_SIZE.toString())\r\n        }).pipe(map((result: SearchNewViewModel) => {\r\n            return result;\r\n        })) as Observable<SearchNewViewModel>;\r\n    }\r\n\r\n    searchForSelect(keyword?: string, categoryId?: number,\r\n                    page: number = 1, pageSize: number = this.appConfig.PAGE_SIZE): Observable<SearchResultViewModel<NewSearchForSelectViewModel>> {\r\n        return this.http.get(`${this.url}search-for-select`, {\r\n            params: new HttpParams()\r\n                .set('keyword', keyword ? keyword : '')\r\n                .set('categoryId', categoryId !== undefined && categoryId !== null ? categoryId.toString() : '')\r\n                .set('page', page ? page.toString() : '1')\r\n                .set('pageSize', page ? pageSize.toString() : this.appConfig.PAGE_SIZE.toString())\r\n        }).pipe(map((result: SearchResultViewModel<NewSearchForSelectViewModel>) => {\r\n            if (result.items && result.items.length > 0) {\r\n                result.items.forEach((item: NewSearchForSelectViewModel) => {\r\n                    item.selected = false;\r\n                });\r\n            }\r\n            return result;\r\n        })) as Observable<SearchResultViewModel<NewSearchForSelectViewModel>>;\r\n    }\r\n\r\n    insert(isSend: boolean, news: News): Observable<ActionResultViewModel> {\r\n        return this.http.post(`${this.url}isSend/${isSend}`, {\r\n            concurrencyStamp: news.concurrencyStamp,\r\n            featureImage: news.featureImage,\r\n            bannerImage: news.bannerImage,\r\n            altImage: news.altImage,\r\n            source: news.source,\r\n            isHot: news.isHot,\r\n            isHomePage: news.isHomePage,\r\n            categoriesNews: news.categoriesNews,\r\n            isActive: news.isActive,\r\n            newsTranslations: news.modelTranslations,\r\n        }).pipe(map((result: ActionResultViewModel) => {\r\n            this.toastr.success(result.message);\r\n            return result;\r\n        })) as Observable<IResponseResult>;\r\n    }\r\n\r\n    update(id: string, news: News, isSend: boolean): Observable<ActionResultViewModel> {\r\n        return this.http.post(`${this.url}${id}/isSend/${isSend}`, {\r\n            concurrencyStamp: news.concurrencyStamp,\r\n            featureImage: news.featureImage,\r\n            bannerImage: news.bannerImage,\r\n            altImage: news.altImage,\r\n            source: news.source,\r\n            isHot: news.isHot,\r\n            isHomePage: news.isHomePage,\r\n            categoriesNews: news.categoriesNews,\r\n            isActive: news.isActive,\r\n            newsTranslations: news.modelTranslations,\r\n        }).pipe(map((result: ActionResultViewModel) => {\r\n            this.toastr.success(result.message);\r\n            return result;\r\n        })) as Observable<ActionResultViewModel>;\r\n    }\r\n\r\n    delete(id: string): Observable<ActionResultViewModel> {\r\n        return this.http.delete(`${this.url}${id.toString()}`).pipe(map((result: ActionResultViewModel) => {\r\n            this.toastr.success(result.message);\r\n            return result;\r\n        })) as Observable<ActionResultViewModel>;\r\n    }\r\n\r\n    getDetail(id: string): Observable<ActionResultViewModel<NewDetailViewModel>> {\r\n        this.spinnerService.show();\r\n        return this.http.get(`${this.url}${id}`)\r\n            .pipe(finalize(() => this.spinnerService.hide()))as Observable<ActionResultViewModel<NewDetailViewModel>>;\r\n    }\r\n\r\n    searchTag(keyword: string, page: number = 1, pageSize = this.appConfig.PAGE_SIZE): Observable<SearchResultViewModel<Tag>> {\r\n        return this.http.get(`${this.url}tags`, {\r\n            params: new HttpParams()\r\n                .set('keyword', keyword ? keyword : '')\r\n                .set('page', page ? page.toString() : '1')\r\n                .set('pageSize', page ? pageSize.toString() : this.appConfig.PAGE_SIZE.toString())\r\n        }).pipe(map((result: SearchResultViewModel<Tag>) => {\r\n            return result;\r\n        })) as Observable<SearchResultViewModel<Tag>>;\r\n    }\r\n\r\n    viewHistory(newId: string, fromDate?: string, toDate?: string, browsers?: string, language?: string, isLike?: boolean,\r\n                page: number = 1, pageSize: number = this.appConfig.PAGE_SIZE): Observable<SearchResultViewModel<NewViewHistoryViewModel>> {\r\n        return this.http.get(`${this.url}${newId}/historys`, {\r\n            params: new HttpParams()\r\n                .set('fromDate', fromDate ? fromDate : '')\r\n                .set('toDate', toDate ? toDate : '')\r\n                .set('borwsers', browsers ? browsers : '')\r\n                .set('language', language ? language : '')\r\n                .set('isLike', isLike != null && isLike !== undefined ? isLike.toString() : '')\r\n                .set('page', page.toString())\r\n                .set('pageSize', pageSize.toString())\r\n        }).pipe(map((result: SearchResultViewModel<NewViewHistoryViewModel>) => {\r\n            return result;\r\n        })) as Observable<SearchResultViewModel<NewViewHistoryViewModel>>;\r\n    }\r\n\r\n    updateStatus(newId: string, changeNewStatus: ChangeNewsStatus): Observable<ActionResultViewModel> {\r\n        return this.http.post(`${this.url}${newId}/status`, {\r\n            status: changeNewStatus.status,\r\n            declineReason: changeNewStatus.declineReason,\r\n        }).pipe(map((result: ActionResultViewModel) => {\r\n            this.toastr.success(result.message);\r\n            return result;\r\n        })) as Observable<ActionResultViewModel>;\r\n    }\r\n\r\n    updateIsHot(newId: string, isHot: boolean): Observable<ActionResultViewModel> {\r\n        return this.http.post(`${this.url}${newId}/is-hot/${isHot}`, {}).pipe(map((result: ActionResultViewModel) => {\r\n            this.toastr.success(result.message);\r\n            return result;\r\n        })) as Observable<ActionResultViewModel>;\r\n    }\r\n\r\n    updateIsHomePage(newId: string, isHomePage: boolean): Observable<ActionResultViewModel> {\r\n        return this.http.post(`${this.url}${newId}/is-home-page/${isHomePage}`, { }).pipe(map((result: ActionResultViewModel) => {\r\n            this.toastr.success(result.message);\r\n            return result;\r\n        })) as Observable<ActionResultViewModel>;\r\n    }\r\n\r\n    deleteMultiNews(newsIds: string[]): Observable<ActionResultViewModel> {\r\n        return this.http.post(`${this.url}deletes`, newsIds)\r\n            .pipe(map((result: ActionResultViewModel) => {\r\n                this.toastr.success(result.message);\r\n                return result;\r\n            })) as Observable<ActionResultViewModel>;\r\n    }\r\n\r\n    updateListNewsStatus(changeListNewStatus: ChangeListNewsStatus): Observable<ActionResultViewModel[]> {\r\n        return this.http.post(`${this.url}change-list-news-status`, {\r\n            newsIds: changeListNewStatus.newsIds,\r\n            status: changeListNewStatus.status,\r\n            declineReason: changeListNewStatus.declineReason,\r\n        }).pipe(map((result: ActionResultViewModel[]) => {\r\n            if (result && result.length > 0) {\r\n                const countError = _.countBy(result, (item: ActionResultViewModel) => {\r\n                    return item.code < 0;\r\n                });\r\n\r\n                if (countError && countError > 0) {\r\n                    this.toastr.error('Something went wrong');\r\n                } else {\r\n                    this.toastr.success('Update success');\r\n                }\r\n            }\r\n            return result;\r\n        })) as Observable<ActionResultViewModel[]>;\r\n    }\r\n}\r\n\r\n","module.exports = \"<h1 class=\\\"page-title\\\">\\r\\n    <span class=\\\"cm-mgr-5\\\">{{newTitle}}</span>\\r\\n    <small i18n=\\\"@@newModuleTitle\\\">New management</small>\\r\\n</h1>\\r\\n<form class=\\\"form-inline\\\" (ngSubmit)=\\\"search(1)\\\">\\r\\n    <div class=\\\"form-group cm-mgr-5\\\">\\r\\n        <nh-date [mask]=\\\"true\\\"\\r\\n                 [(ngModel)]=\\\"fromDate\\\"\\r\\n                 name=\\\"fromDate\\\"\\r\\n                 (selectedDateEvent)=\\\"search(1)\\\"></nh-date>\\r\\n    </div>\\r\\n    <div class=\\\"form-group cm-mgr-5\\\">\\r\\n        <nh-date [mask]=\\\"true\\\"\\r\\n                 [(ngModel)]=\\\"toDate\\\"\\r\\n                 name=\\\"toDate\\\"\\r\\n                 (selectedDateEvent)=\\\"search(1)\\\"></nh-date>\\r\\n    </div>\\r\\n    <div class=\\\"form-group cm-mgr-5\\\">\\r\\n        <nh-select [data]=\\\"listBrowser\\\"\\r\\n                   [(ngModel)]=\\\"browser\\\"\\r\\n                   name=\\\"browser\\\"\\r\\n                   i18n=\\\"@@titleSelectBrowser\\\"\\r\\n                   [title]=\\\"'-- Please slect browser --'\\\"\\r\\n                   (onSelectItem)=\\\"search(1)\\\">\\r\\n        </nh-select>\\r\\n    </div>\\r\\n    <div class=\\\"form-group cm-mgr-5\\\">\\r\\n        <nh-select [data]=\\\"listLanguage\\\"\\r\\n                   [(ngModel)]=\\\"language\\\"\\r\\n                   name=\\\"language\\\"\\r\\n                   i18n=\\\"@@titleSelectLanguage\\\"\\r\\n                   [title]=\\\"'-- Please slect language --'\\\"\\r\\n                   (onSelectItem)=\\\"search(1)\\\">\\r\\n        </nh-select>\\r\\n    </div>\\r\\n    <div class=\\\"form-group cm-mgr-5\\\">\\r\\n        <nh-select\\r\\n          [data]=\\\"[{id: true, name: 'Like'}, {id: false, name: 'Dont like'}]\\\"\\r\\n          [(ngModel)]=\\\"isLike\\\"\\r\\n          name=\\\"isLike\\\"\\r\\n          i18n=\\\"@@titleSelect\\\"\\r\\n          [title]=\\\"'-- Please slect  --'\\\"\\r\\n          (onSelectItem)=\\\"search(1)\\\"></nh-select>\\r\\n    </div>\\r\\n    <div class=\\\"form-group cm-mgr-5\\\">\\r\\n        <ghm-button [loading]=\\\"isSearching\\\"\\r\\n                    [classes]=\\\"'btn blue'\\\"\\r\\n                    icon=\\\"fa fa-search\\\"></ghm-button>\\r\\n    </div>\\r\\n    <div class=\\\"form-group cm-mgr-5\\\">\\r\\n        <button class=\\\"btn default\\\" type=\\\"button\\\" (click)=\\\"resetFormSearch()\\\">\\r\\n            <i class=\\\"fa fa-refresh\\\"></i>\\r\\n        </button>\\r\\n    </div>\\r\\n</form>\\r\\n\\r\\n<div class=\\\"table-responsive\\\">\\r\\n    <table class=\\\"table table-bordered table-hover table-stripped\\\">\\r\\n        <thead>\\r\\n        <tr>\\r\\n            <th class=\\\"center middle w50\\\" i18n=\\\"@@no\\\">No</th>\\r\\n            <th class=\\\"middle w100\\\" i18n=\\\"@@dateTime\\\">Date time</th>\\r\\n            <th class=\\\"middle\\\" i18n=\\\"@@user\\\">User</th>\\r\\n            <th class=\\\"middle\\\" i18n=\\\"@@ip\\\">IP</th>\\r\\n            <th class=\\\"middle w100\\\" i18n=\\\"@@browser\\\">Browser</th>\\r\\n            <th class=\\\"middle w100\\\" i18n=\\\"@@language\\\">Language</th>\\r\\n            <th class=\\\"middle w100\\\" i18n=\\\"@@nation\\\">National</th>\\r\\n            <th class=\\\"middle center w50\\\" i18n=\\\"@@action\\\">Is Like</th>\\r\\n        </tr>\\r\\n        </thead>\\r\\n        <tbody>\\r\\n        <tr *ngFor=\\\"let item of listItems$ | async; let i = index\\\">\\r\\n            <td class=\\\"center middle\\\">{{ (currentPage - 1) * pageSize + i + 1 }}</td>\\r\\n            <td class=\\\"middle\\\">{{ item.viewTime | dateTimeFormat: 'DD/MM/YYYY hh:mm' }}</td>\\r\\n            <td class=\\\"middle\\\">{{item.userFullName}}</td>\\r\\n            <td class=\\\"middle\\\">{{item.ip}}</td>\\r\\n            <td class=\\\"middle\\\">{{item.browser}}</td>\\r\\n            <td class=\\\"middle\\\">{{item.language}}</td>\\r\\n            <td class=\\\"middle\\\">{{item.national}}</td>\\r\\n            <td class=\\\"middle\\\"><i *ngIf=\\\"item.isLike\\\" class=\\\"fa fa-check green\\\"></i></td>\\r\\n        </tr>\\r\\n        </tbody>\\r\\n    </table>\\r\\n</div>\\r\\n<ghm-paging [totalRows]=\\\"totalRows\\\" [currentPage]=\\\"currentPage\\\" [pageShow]=\\\"6\\\" (pageClick)=\\\"search($event)\\\"\\r\\n            [isDisabled]=\\\"isSearching\\\" i18n-pageName=\\\"@@view\\\" pageName=\\\"View\\\"></ghm-paging>\\r\\n\"","import {Component, Inject, OnInit, ViewChild} from '@angular/core';\r\nimport {ActivatedRoute} from '@angular/router';\r\nimport {BaseListComponent} from '../../../../base-list.component';\r\nimport {APP_CONFIG, IAppConfig} from '../../../../configs/app.config';\r\nimport {IPageId, PAGE_ID} from '../../../../configs/page-id.config';\r\nimport {NewsFormComponent} from '../../../website/news/news-form/news-form.component';\r\nimport {NewsService} from '../service/news.service';\r\nimport {NewViewHistoryViewModel} from '../viewmodel/new-view-history.viewmodel';\r\nimport {finalize, map} from 'rxjs/operators';\r\nimport {SearchResultViewModel} from '../../../../shareds/view-models/search-result.viewmodel';\r\nimport {FilterLink} from '../../../../shareds/models/filter-link.model';\r\nimport {Location, LocationStrategy, PathLocationStrategy} from '@angular/common';\r\nimport {HelperService} from '../../../../shareds/services/helper.service';\r\nimport {UtilService} from '../../../../shareds/services/util.service';\r\n\r\n@Component({\r\n    selector: 'app-news-view-history',\r\n    templateUrl: './new-view-history.component.html',\r\n    providers: [Location, {provide: LocationStrategy, useClass: PathLocationStrategy},\r\n        NewsService, HelperService, UtilService]\r\n})\r\n\r\nexport class NewViewHistoryComponent extends BaseListComponent<NewViewHistoryViewModel> implements OnInit {\r\n    @ViewChild(NewsFormComponent) newsFormComponent: NewsFormComponent;\r\n    fromDate;\r\n    toDate;\r\n    browser;\r\n    language;\r\n    isLike;\r\n    newTitle;\r\n    newId;\r\n    listBrowser = [];\r\n    listLanguage = [];\r\n\r\n    constructor(@Inject(APP_CONFIG) public appConfig: IAppConfig,\r\n                @Inject(PAGE_ID) public pageId: IPageId,\r\n                private route: ActivatedRoute,\r\n                private location: Location,\r\n                private utilService: UtilService,\r\n                private newsService: NewsService) {\r\n        super();\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.appService.setupPage(this.pageId.NEWS, this.pageId.NEWS_LIST, 'Quản lý tin tức', 'Lịch sử truy cập bài viết');\r\n\r\n        this.route.params.subscribe((params: any) => {\r\n            const id = params['id'];\r\n            if (id) {\r\n                this.newId = id;\r\n            }\r\n        });\r\n\r\n        this.subscribers.queryParams = this.route.queryParams.subscribe(params => {\r\n            this.keyword = params.keyword ? params.keyword : '';\r\n            this.fromDate = params.fromDate ? params.fromDate : '';\r\n            this.toDate = params.toDate ? params.toDate : '';\r\n            this.browser = params.broswer ? params.browser : '';\r\n            this.isLike = params.isLike ? Boolean(params.isLike) : '';\r\n            this.currentPage = params.page ? parseInt(params.page) : 1;\r\n            this.pageSize = params.pageSize ? parseInt(params.pageSize) : this.appConfig.PAGE_SIZE;\r\n        });\r\n\r\n        this.search(1);\r\n    }\r\n\r\n    search(currentPage: number) {\r\n        this.currentPage = currentPage;\r\n        this.isSearching = true;\r\n        this.renderFilterLink();\r\n        this.listItems$ = this.newsService.viewHistory(this.newId, this.fromDate, this.toDate, this.browser, this.language, this.isLike,\r\n            this.currentPage, this.pageSize)\r\n            .pipe(finalize(() => this.isSearching = false),\r\n                map((result: SearchResultViewModel<NewViewHistoryViewModel>) => {\r\n                    this.totalRows = result.totalRows;\r\n                    return result.items;\r\n                }));\r\n    }\r\n\r\n    resetFormSearch() {\r\n        this.keyword = '';\r\n        this.fromDate = '';\r\n        this.toDate = '';\r\n        this.browser = '';\r\n        this.language = '';\r\n        this.isLike = '';\r\n    }\r\n\r\n    private renderFilterLink() {\r\n        const path = `news/view-history${this.newId}`;\r\n        const query = this.utilService.renderLocationFilter([\r\n            new FilterLink('keyword', this.keyword),\r\n            new FilterLink('fromDate', this.fromDate),\r\n            new FilterLink('toDate', this.toDate),\r\n            new FilterLink('browser', this.browser),\r\n            new FilterLink('isLike', this.isLike),\r\n            new FilterLink('page', this.currentPage),\r\n            new FilterLink('pageSize', this.pageSize)\r\n        ]);\r\n        this.location.go(path, query);\r\n    }\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {RouterModule, Routes} from '@angular/router';\r\nimport {CategoryListComponent} from './category/category-list/category-list.component';\r\nimport {CategoryService} from './category/category.service';\r\nimport {NewsComponent} from './new/news-list/news-list.component';\r\nimport {NewsService} from './new/service/news.service';\r\nimport {NewViewHistoryComponent} from './new/view-history/new-view-history.component';\r\nimport {NewsFormComponent} from './new/news-form/news-form.component';\r\nimport {NewDetailComponent} from './new/new-detail/new-detail.component';\r\n\r\nconst routes: Routes = [\r\n    {\r\n        path: '',\r\n        component: NewsComponent,\r\n        resolve: {\r\n            data: NewsService\r\n        }\r\n    },\r\n    {\r\n        path: 'categories',\r\n        component: CategoryListComponent,\r\n        resolve: {\r\n            data: CategoryService\r\n        }\r\n    },\r\n    {\r\n        path: 'view-history/:id',\r\n        component: NewViewHistoryComponent,\r\n    },\r\n    {\r\n        path: 'add',\r\n        component: NewsFormComponent\r\n    },\r\n    {\r\n        path: `edit/:id`,\r\n        component: NewsFormComponent,\r\n    },\r\n    {\r\n        path: `detail/:id`,\r\n        component: NewDetailComponent,\r\n    }\r\n];\r\n\r\n@NgModule({\r\n    imports: [RouterModule.forChild(routes)],\r\n    exports: [RouterModule],\r\n    providers: [CategoryService, NewsService]\r\n})\r\nexport class NewsRoutingModule {\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CategoryFormComponent } from './category/category-form/category-form.component';\r\nimport { CategoryListComponent } from './category/category-list/category-list.component';\r\nimport { CommonModule } from '@angular/common';\r\nimport { NewsRoutingModule } from './news-routing.module';\r\nimport { GhmPagingModule } from '../../shareds/components/ghm-paging/ghm-paging.module';\r\nimport { SweetAlert2Module } from '@toverux/ngx-sweetalert2';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { NHTreeModule } from '../../shareds/components/nh-tree/nh-tree.module';\r\nimport { NhModalModule } from '../../shareds/components/nh-modal/nh-modal.module';\r\nimport { NhSelectModule } from '../../shareds/components/nh-select/nh-select.module';\r\nimport { CoreModule } from '../../core/core.module';\r\nimport { MatCheckboxModule, MatIconModule, MatTooltipModule } from '@angular/material';\r\nimport { GhmDraggableModule } from '../../shareds/directives/ghm-draggable/ghm-draggable.module';\r\nimport { NewsComponent } from './new/news-list/news-list.component';\r\nimport { NewsFormComponent } from 'src/app/modules/news/new/news-form/news-form.component';\r\nimport { NhDateModule } from '../../shareds/components/nh-datetime-picker/nh-date.module';\r\nimport { LayoutModule } from '../../shareds/layouts/layout.module';\r\nimport { DatetimeFormatModule } from '../../shareds/pipe/datetime-format/datetime-format.module';\r\nimport { TinymceModule } from '../../shareds/components/tinymce/tinymce.module';\r\nimport { GhmUserSuggestionModule } from '../../shareds/components/ghm-user-suggestion/ghm-user-suggestion.module';\r\nimport { NewViewHistoryComponent } from './new/view-history/new-view-history.component';\r\nimport { NhTagModule } from '../../shareds/components/nh-tags/nh-tag.module';\r\nimport { NewDetailComponent } from './new/new-detail/new-detail.component';\r\nimport { NhSafeHtmlModeule } from '../../shareds/components/nh-safe-html/nh-safe-html.module';\r\nimport { NewCommentComponent } from './new/new-comment/new-comment.component';\r\nimport { GhmFileExplorerModule } from '../../shareds/components/ghm-file-explorer/ghm-file-explorer.module';\r\nimport { NewSeoComponent } from './new/new-seo/new-seo.component';\r\nimport { NhDropdownModule } from '../../shareds/directives/nh-dropdown/nh-dropdown.module';\r\nimport {SelectNewComponent} from './new/select-new/select-new.component';\r\nimport {SelectCategoryComponent} from './category/select-category/select-category.component';\r\nimport {NhContextMenuModule} from '../../shareds/components/nh-context-menu/nh-context-menu.module';\r\nimport {GhmSelectModule} from '../../shareds/components/ghm-select/ghm-select.module';\r\n\r\n@NgModule({\r\n    imports: [CommonModule, CoreModule, LayoutModule, NewsRoutingModule, GhmPagingModule, FormsModule, ReactiveFormsModule,\r\n        NHTreeModule, NhModalModule, GhmUserSuggestionModule, NhTagModule, TinymceModule, NhSafeHtmlModeule, GhmFileExplorerModule,\r\n        NhSelectModule, CoreModule, MatCheckboxModule, GhmDraggableModule, NhDateModule, MatTooltipModule, GhmSelectModule,\r\n        DatetimeFormatModule, NhDropdownModule, MatIconModule, NhContextMenuModule,\r\n        SweetAlert2Module.forRoot({\r\n            buttonsStyling: false,\r\n            customClass: 'modal-content',\r\n            confirmButtonClass: 'btn blue cm-mgr-5',\r\n            cancelButtonClass: 'btn',\r\n            // confirmButtonText: 'Đồng ý',\r\n            showCancelButton: true,\r\n            // cancelButtonText: 'Hủy bỏ'\r\n        })],\r\n    exports: [SelectNewComponent, SelectCategoryComponent],\r\n    declarations: [CategoryFormComponent, CategoryListComponent, NewsComponent, NewsFormComponent,\r\n        NewViewHistoryComponent, NewDetailComponent, NewCommentComponent, NewSeoComponent, SelectNewComponent, SelectCategoryComponent],\r\n    providers: [],\r\n})\r\nexport class NewsModule {\r\n}\r\n","import { ToastrService } from 'ngx-toastr';\r\nimport { APP_CONFIG, IAppConfig } from '../../../../configs/app.config';\r\nimport { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { Inject } from '@angular/core';\r\nimport { ISearchResult } from '../../../../interfaces/isearch.result';\r\nimport { Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport { ActivatedRouteSnapshot, Resolve } from '@angular/router';\r\nimport { IActionResultResponse } from '../../../../interfaces/iaction-result-response.result';\r\nimport { TreeData } from '../../../../view-model/tree-data';\r\nimport { QuestionGroupSearchViewModel } from '../viewmodels/question-group-search-viewmodel';\r\nimport { QuestionGroupDetailViewModel } from '../viewmodels/question-group-detail.viewmodel';\r\nimport { QuestionGroup } from '../models/question-group.model';\r\nimport { QuestionForSelectViewModel } from '../viewmodels/question-for-select.viewmodel';\r\nimport { ActionResultViewModel } from '../../../../shareds/view-models/action-result.viewmodel';\r\nimport { SpinnerService } from '../../../../core/spinner/spinner.service';\r\nimport { finalize } from 'rxjs/internal/operators';\r\n\r\nexport class QuestionGroupService implements Resolve<QuestionGroup> {\r\n    url = 'question-groups/';\r\n\r\n    constructor(@Inject(APP_CONFIG) public appConfig: IAppConfig,\r\n                private spinceService: SpinnerService,\r\n                private http: HttpClient,\r\n                private toastr: ToastrService) {\r\n        this.url = `${appConfig.SURVEY_API_URL}${this.url}`;\r\n    }\r\n\r\n    resolve(route: ActivatedRouteSnapshot, state: Object): any {\r\n        const queryParams = route.queryParams;\r\n        return this.search(\r\n            queryParams.keyword,\r\n            queryParams.isActive,\r\n            queryParams.page,\r\n            queryParams.pageSize\r\n        );\r\n    }\r\n\r\n    search(keyword: string, isActive?: boolean, page: number = 1,\r\n           pageSize: number = this.appConfig.PAGE_SIZE): Observable<ISearchResult<QuestionGroupSearchViewModel>> {\r\n        const params = new HttpParams()\r\n            .set('keyword', keyword ? keyword : '')\r\n            .set('isActive', isActive !== null && isActive !== undefined ? isActive.toString() : '')\r\n            .set('page', page ? page.toString() : '1')\r\n            .set('pageSize', pageSize ? pageSize.toString() : this.appConfig.PAGE_SIZE.toString());\r\n\r\n        return this.http.get(`${this.url}`, {\r\n            params: params\r\n        }).pipe(map((result: ISearchResult<QuestionGroupSearchViewModel>) => {\r\n            if (result.items) {\r\n                result.items.forEach((item: QuestionGroupSearchViewModel) => {\r\n                    item.activeStatus = item.isActive\r\n                        ? 'active'\r\n                        : 'inActive';\r\n                    const level = item.idPath.split('.');\r\n                    item.nameLevel = '';\r\n                    for (let i = 1; i < level.length; i++) {\r\n                        item.nameLevel += '<i class=\"fa fa-long-arrow-right cm-mgr-5\"></i>';\r\n                    }\r\n                });\r\n            }\r\n            return result;\r\n        })) as Observable<ISearchResult<QuestionGroupSearchViewModel>>;\r\n    }\r\n\r\n    getDetail(id: number): Observable<ActionResultViewModel<QuestionGroupDetailViewModel>> {\r\n        this.spinceService.show();\r\n        return this.http.get(`${this.url}${id}`, {})\r\n            .pipe(finalize(() => {\r\n                this.spinceService.hide();\r\n            }))as Observable <ActionResultViewModel< QuestionGroupDetailViewModel >>;\r\n    }\r\n\r\n    getAll(): Observable<ISearchResult<QuestionGroupSearchViewModel>> {\r\n        return this.http.get(`${this.url}alls`).pipe(map((result: ISearchResult<QuestionGroupSearchViewModel>) => {\r\n            result.items.forEach((item: QuestionGroupSearchViewModel) => {\r\n                item.activeStatus = item.isActive\r\n                    ? 'active'\r\n                    : 'inActive';\r\n            });\r\n            return result;\r\n        }))as Observable<ISearchResult<QuestionGroupSearchViewModel>>;\r\n    }\r\n\r\n    getTree(): Observable<TreeData[]> {\r\n        return this.http.get(`${this.url}trees`) as Observable<TreeData[]>;\r\n    }\r\n\r\n    insert(questionGroup: QuestionGroup): Observable<ActionResultViewModel> {\r\n        return this.http.post(`${this.url}`, {\r\n            order: questionGroup.order,\r\n            parentId: questionGroup.parentId,\r\n            isActive: questionGroup.isActive,\r\n            questionGroupTranslations: questionGroup.modelTranslations,\r\n        }).pipe(map((result: ActionResultViewModel) => {\r\n            this.toastr.success(result.message);\r\n            return result;\r\n        })) as Observable<ActionResultViewModel>;\r\n    }\r\n\r\n    update(id: number, questionGroup: QuestionGroup): Observable<ActionResultViewModel> {\r\n        return this.http.post(`${this.url}${id}`, {\r\n            order: questionGroup.order,\r\n            parentId: questionGroup.parentId,\r\n            isActive: questionGroup.isActive,\r\n            concurrencyStamp: questionGroup.concurrencyStamp,\r\n            questionGroupTranslations: questionGroup.modelTranslations,\r\n        }).pipe(map((result: ActionResultViewModel) => {\r\n            this.toastr.success(result.message);\r\n            return result;\r\n        })) as Observable<ActionResultViewModel>;\r\n    }\r\n\r\n    delete(id: number): Observable<ActionResultViewModel> {\r\n        return this.http.delete(`${this.url}${id}`, {\r\n            params: new HttpParams()\r\n                .set('id', id ? id.toString() : '')\r\n        }).pipe(map((result: ActionResultViewModel) => {\r\n            this.toastr.success(result.message);\r\n            return result;\r\n        })) as Observable<ActionResultViewModel>;\r\n    }\r\n\r\n    searchForSelect(keyword: string, page: number = 1, pageSize: number = this.appConfig.PAGE_SIZE)\r\n        : Observable<QuestionForSelectViewModel[]> {\r\n        const params = new HttpParams()\r\n            .set('keyword', keyword ? keyword : '')\r\n            .set('page', page ? page.toString() : '1')\r\n            .set('pageSize', pageSize ? pageSize.toString() : this.appConfig.PAGE_SIZE.toString());\r\n        return this.http.get(`${this.url}sugesstions`, {\r\n            params: params\r\n        }) as Observable<QuestionForSelectViewModel[]>;\r\n    }\r\n}\r\n","module.exports = \"<div class=\\\"ghm-input\\\" [class.disabled]=\\\"isDisabled\\\">\\r\\n    <i *ngIf=\\\"icon\\\" class=\\\"icon-prepend {{icon}}\\\"></i>\\r\\n    <input\\r\\n        #ghmInput\\r\\n        [type]=\\\"type\\\" class=\\\"form-control w100pc\\\"\\r\\n        [class.cm-pdl-10]=\\\"!icon\\\"\\r\\n        [value]=\\\"value\\\"\\r\\n        [id]=\\\"elementId\\\" placeholder=\\\"{{placeholder}}\\\"\\r\\n        (keyup)=\\\"onKeyup($event)\\\"\\r\\n        (change)=\\\"onChange($event.target.value)\\\"\\r\\n        name=\\\"ghmInputElement\\\"/>\\r\\n    <a class=\\\"remove-value\\\" *ngIf=\\\"value && allowRemove\\\" (click)=\\\"removeValue()\\\">\\r\\n    </a>\\r\\n</div>\\r\\n\"","module.exports = \".ghm-input {\\n  width: 100%;\\n  position: relative; }\\n  .ghm-input .icon-prepend {\\n    left: 7px;\\n    border-right: 1px solid #c2c2c2;\\n    padding-right: 6px;\\n    color: #0072BC;\\n    position: absolute;\\n    top: 6px;\\n    font-size: 14px;\\n    line-height: 20px;\\n    text-align: center;\\n    font-weight: normal !important; }\\n  .ghm-input input {\\n    padding-left: 32px;\\n    padding-right: 32px; }\\n  .ghm-input .remove-value {\\n    position: absolute;\\n    top: 0px;\\n    right: 0px;\\n    display: block;\\n    width: 32px;\\n    height: 32px;\\n    margin: 0;\\n    background: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAABGdBTUEAALGPC/xhBQAAABhQTFRFAAAA0W1x1G5u1Wxw0W5u1G5v029v025vOVg9EgAAAAh0Uk5TAD1BQkOq6et9ThjjAAAAPUlEQVQI12NgwANYFRgYmAKADMYUBgYxA5CQmANjMliOMQUiwMCgXsSAymBMFnMAM8QMQBpBAiCNyAbiBADC6gZQoi3g3wAAAABJRU5ErkJggg==\\\") center no-repeat; }\\n  .disabled {\\n  cursor: no-drop; }\\n  .disabled input {\\n    background-color: #eef1f5 !important; }\\n  .disabled .icon-prepend {\\n    color: #686868; }\\n\"","import {Component, ElementRef, EventEmitter, forwardRef, Input, OnInit, Output, ViewChild} from '@angular/core';\r\nimport {ControlValueAccessor, NG_VALUE_ACCESSOR} from '@angular/forms';\r\nimport {UtilService} from '../../services/util.service';\r\n\r\n@Component({\r\n    selector: 'ghm-input',\r\n    templateUrl: './ghm-input.component.html',\r\n    styleUrls: ['./ghm-input.component.scss'],\r\n    providers: [\r\n        {\r\n            provide: NG_VALUE_ACCESSOR,\r\n            multi: true,\r\n            useExisting: forwardRef(() => GhmInputComponent),\r\n        }\r\n    ]\r\n})\r\n\r\nexport class GhmInputComponent implements OnInit, ControlValueAccessor {\r\n    @ViewChild('ghmInput') ghmInputElement: ElementRef;\r\n    @Input() icon = 'fa fa-pencil';\r\n    @Input() removeIcon = 'fa fa-times';\r\n    @Input() isDisabled = false;\r\n    @Input() allowRemove = true;\r\n    @Input() elementId = '';\r\n    @Input() placeholder = '';\r\n    @Input() name: string;\r\n    @Input() type = 'text';\r\n    @Output() setVale = new EventEmitter();\r\n    @Output() keyUp = new EventEmitter();\r\n    @Output() remove = new EventEmitter();\r\n\r\n    constructor(private utilService: UtilService) {\r\n    }\r\n\r\n    private _value;\r\n\r\n    get value() {\r\n        return this._value;\r\n    }\r\n\r\n    set value(item) {\r\n        this._value = item && item !== undefined ? item : '';\r\n    }\r\n\r\n    ngOnInit() {\r\n    }\r\n\r\n    propagateChange: any = () => {\r\n    };\r\n\r\n    writeValue(value) {\r\n        this.value = value;\r\n    }\r\n\r\n    registerOnChange(fn: any) {\r\n        this.propagateChange = fn;\r\n    }\r\n\r\n    registerOnTouched(fn: any): void {\r\n    }\r\n\r\n    onChange(value) {\r\n        this.value = value;\r\n        this.propagateChange(this.value ? this.value : null);\r\n    }\r\n\r\n    onKeyup(event) {\r\n        this.value = event.target.value;\r\n        this.keyUp.emit(event.target.value);\r\n        this.propagateChange(this.value ? this.value : null);\r\n    }\r\n\r\n    removeValue() {\r\n        if (!this.isDisabled) {\r\n            this.value = '';\r\n            this.propagateChange(null);\r\n            this.remove.emit();\r\n            this.utilService.focusElement(this.elementId);\r\n        }\r\n    }\r\n\r\n    focus() {\r\n        setTimeout(() => {\r\n            this.ghmInputElement.nativeElement.focus();\r\n        });\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { MatInputModule } from '@angular/material';\r\nimport {GhmInputComponent} from './ghm-input.component';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\n\r\n@NgModule({\r\n    imports: [CommonModule, FormsModule, MatInputModule, ReactiveFormsModule],\r\n    declarations: [GhmInputComponent],\r\n    exports: [GhmInputComponent]\r\n})\r\n\r\nexport class GhmInputModule {\r\n}\r\n","module.exports = \"<button class=\\\"ghm-select-button\\\" type=\\\"button\\\" (click)=\\\"buttonClick()\\\" [disabled]=\\\"readonly\\\" [id]=\\\"elementId\\\"\\r\\n        [ngClass]=\\\"classColor\\\"\\r\\n        [class.disabled]=\\\"readonly\\\"\\r\\n        [ngStyle]=\\\"{color: classColor? 'white': '', 'background': classColor ? '' :'white'}\\\">\\r\\n    <i *ngIf=\\\"icon\\\" class=\\\"icon-prepend {{icon}}\\\"></i>\\r\\n    {{ !label ? title : label }}\\r\\n    <span class=\\\"caret\\\" [ngStyle]=\\\"{color: classColor? 'white': ''}\\\"></span>\\r\\n</button>\\r\\n\\r\\n<ng-template #dropdownTemplate>\\r\\n    <div class=\\\"ghm-select-menu\\\">\\r\\n        <div class=\\\"search-box\\\" *ngIf=\\\"liveSearch\\\">\\r\\n            <input [id]=\\\"inputId\\\" type=\\\"text\\\" class=\\\"form-control w100pc\\\"\\r\\n                   placeholder=\\\"Enter keyword\\\"\\r\\n                   i18n-placeholder=\\\"@@enterKeyword\\\"\\r\\n                   (keydown.enter)=\\\"$event.preventDefault()\\\"\\r\\n                   (keyup)=\\\"searchKeyUp($event, searchBox.value)\\\"\\r\\n                   #searchBox/>\\r\\n        </div>\\r\\n        <hr *ngIf=\\\"liveSearch\\\"/>\\r\\n        <ul class=\\\"wrapper-list-menu\\\" *ngIf=\\\"!readonly\\\">\\r\\n            <li *ngIf=\\\"data?.length > 0 && title\\\" (click)=\\\"selectItem({id: null, name: title})\\\">\\r\\n                {{title}}\\r\\n            </li>\\r\\n            <li *ngIf=\\\"isSearching\\\" class=\\\"center\\\">\\r\\n                <i class=\\\"fa fa-spinner fa-pulse\\\"></i>\\r\\n            </li>\\r\\n            <li class=\\\"ghm-select-item\\\" *ngFor=\\\"let item of source\\\"\\r\\n                [class.selected]=\\\"item.selected\\\"\\r\\n                [class.active]=\\\"item.active\\\"\\r\\n                (click)=\\\"selectItem(item)\\\">\\r\\n                <img [src]=\\\"item.image\\\" ghmImage=\\\"\\\" class=\\\"avatar-sm rounded-avatar\\\" *ngIf=\\\"item.image\\\">\\r\\n                <i *ngIf=\\\"item.icon\\\" [ngClass]=\\\"item.icon\\\"></i>\\r\\n                {{item.name}}\\r\\n                <i class=\\\"fa fa-check nh-selected-icon color-green\\\"\\r\\n                   *ngIf=\\\"item.selected && multiple\\\"></i>\\r\\n            </li>\\r\\n            <li *ngIf=\\\"source?.length === 0 && isInsertValue\\\" class=\\\"background-none\\\">\\r\\n                <button class=\\\"btn btn-primary btn-block\\\" type=\\\"button\\\" (click)=\\\"insertValue()\\\"><i\\r\\n                    class=\\\"fa fa-plus\\\"></i>Thêm mới\\r\\n                </button>\\r\\n            </li>\\r\\n            <li *ngIf=\\\"source?.length === 0 && !isInsertValue\\\" class=\\\"no-data\\\">Không có dữ liệu</li>\\r\\n        </ul>\\r\\n    </div>\\r\\n</ng-template>\\r\\n\\r\\n\"","module.exports = \"ghm-select {\\n  text-align: left;\\n  display: inline-block;\\n  width: 100%; }\\n  ghm-select.ghm-multiple li.ghm-select-item {\\n    position: relative; }\\n  ghm-select.ghm-multiple li.ghm-select-item.selected {\\n      background: none; }\\n  ghm-select.ghm-multiple li.ghm-select-item ghm-selected-icon {\\n      position: absolute;\\n      top: 5px;\\n      right: 5px;\\n      color: white; }\\n  ghm-select.no-border > button {\\n    background: white !important;\\n    border: none !important; }\\n  ghm-select.has-error > button.ghm-select-button {\\n    border: 1px solid #dc3545 !important; }\\n  ghm-select button.ghm-select-button {\\n    width: 100%;\\n    min-width: 150px;\\n    text-overflow: ellipsis;\\n    white-space: nowrap;\\n    overflow: hidden;\\n    margin: 0 !important;\\n    min-height: 33px;\\n    border: 1px solid #ddd;\\n    border-radius: 4px !important;\\n    text-align: left;\\n    padding: 7px 5px 7px 5px; }\\n  ghm-select button.ghm-select-button:focus {\\n      border-radius: 0 !important;\\n      border: 1px solid #00b894;\\n      box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25) !important; }\\n  ghm-select button.ghm-select-button span {\\n      float: right;\\n      margin-top: 8px;\\n      color: #0072BC; }\\n  ghm-select button.ghm-select-button .icon-prepend {\\n      border-right: 1px solid #c2c2c2;\\n      padding-right: 6px;\\n      color: #0072BC;\\n      top: 6px;\\n      font-size: 14px;\\n      line-height: 20px;\\n      text-align: center;\\n      font-weight: normal !important; }\\n  .ghm-select-menu {\\n  display: block;\\n  background: white;\\n  position: relative;\\n  border: 1px solid #ddd;\\n  border-radius: 4px;\\n  -moz-border-radius: 4px;\\n  -webkit-border-radius: 4px;\\n  -ms-border-radius: 4px;\\n  -o-border-radius: 4px; }\\n  .ghm-select-menu:before, .ghm-select-menu:after {\\n    content: '';\\n    width: 0;\\n    height: 0;\\n    position: absolute; }\\n  .ghm-select-menu.ghm-menu-top {\\n    margin-bottom: 10px; }\\n  .ghm-select-menu.ghm-menu-top:before {\\n      width: 0;\\n      height: 0;\\n      bottom: -8px;\\n      border-left: 8px solid transparent;\\n      border-right: 8px solid transparent;\\n      border-top: 8px solid #ddd; }\\n  .ghm-select-menu.ghm-menu-top:after {\\n      bottom: -7px;\\n      border-left: 7px solid transparent;\\n      border-right: 7px solid transparent;\\n      border-top: 7px solid white; }\\n  .ghm-select-menu.ghm-menu-bottom {\\n    margin-top: 10px; }\\n  .ghm-select-menu.ghm-menu-bottom:before {\\n      top: -8px;\\n      border-left: 8px solid transparent;\\n      border-right: 8px solid transparent;\\n      border-bottom: 8px solid #ddd; }\\n  .ghm-select-menu.ghm-menu-bottom:after {\\n      top: -7px;\\n      border-left: 7px solid transparent;\\n      border-right: 7px solid transparent;\\n      border-bottom: 7px solid white; }\\n  .ghm-select-menu.ghm-menu-left:before {\\n    left: 30px; }\\n  .ghm-select-menu.ghm-menu-left:after {\\n    left: 31px; }\\n  .ghm-select-menu.ghm-menu-right:before {\\n    right: 30px; }\\n  .ghm-select-menu.ghm-menu-right:after {\\n    right: 31px; }\\n  .ghm-select-menu .search-box {\\n    padding: 5px; }\\n  .ghm-select-menu hr {\\n    margin: 0 !important; }\\n  .ghm-select-menu ul {\\n    list-style: none;\\n    padding-left: 0;\\n    margin-bottom: 0;\\n    max-height: 300px;\\n    overflow-y: auto;\\n    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3), 0 0 1px 0 rgba(0, 0, 0, 0.3); }\\n  .ghm-select-menu ul li {\\n      padding: 8px 8px 8px 12px;\\n      display: block;\\n      width: 100%;\\n      border-bottom: none !important;\\n      white-space: nowrap;\\n      text-overflow: ellipsis;\\n      overflow: hidden;\\n      -webkit-user-select: none;\\n         -moz-user-select: none;\\n          -ms-user-select: none;\\n              user-select: none;\\n      border-bottom: 1px solid #eaeaea !important; }\\n  .ghm-select-menu ul li:last-child {\\n        border-bottom: none !important; }\\n  .ghm-select-menu ul li:hover, .ghm-select-menu ul li.active, .ghm-select-menu ul li.selected {\\n        cursor: pointer;\\n        background: #dff0fd; }\\n  .ghm-select-menu ul li a {\\n        -webkit-user-select: none;\\n           -moz-user-select: none;\\n            -ms-user-select: none;\\n                user-select: none;\\n        text-decoration: none; }\\n  .ghm-select-menu ul li a:hover, .ghm-select-menu ul li a:active, .ghm-select-menu ul li a:visited, .ghm-select-menu ul li a:focus {\\n          text-decoration: none; }\\n  .ghm-select-menu ul .background-none {\\n      background: none !important; }\\n  .ghm-select-menu ul li.ghm-select-item a:visited, .ghm-select-menu ul li.ghm-select-item a:active, .ghm-select-menu ul li.ghm-select-item a:focus {\\n      outline: none;\\n      text-decoration: none; }\\n  .ghm-select-menu ul li.ghm-select-item.selected {\\n      background: #dff0fd; }\\n  .disabled {\\n  opacity: 0.6;\\n  cursor: no-drop; }\\n\"","import {\r\n    AfterViewInit,\r\n    Component,\r\n    ElementRef,\r\n    EventEmitter,\r\n    forwardRef,\r\n    HostListener,\r\n    Input,\r\n    OnChanges,\r\n    OnDestroy,\r\n    OnInit,\r\n    Output,\r\n    Renderer2,\r\n    SimpleChanges,\r\n    TemplateRef,\r\n    ViewChild,\r\n    ViewContainerRef,\r\n    ViewEncapsulation\r\n} from '@angular/core';\r\nimport {ControlValueAccessor, FormControl, NG_VALIDATORS, NG_VALUE_ACCESSOR} from '@angular/forms';\r\nimport * as _ from 'lodash';\r\nimport {HttpClient, HttpParams} from '@angular/common/http';\r\nimport {finalize} from 'rxjs/operators';\r\nimport {GlobalPositionStrategy, Overlay, OverlayRef} from '@angular/cdk/overlay';\r\nimport {TemplatePortal} from '@angular/cdk/portal';\r\nimport {SearchResultViewModel} from '../../view-models/search-result.viewmodel';\r\nimport {BehaviorSubject} from 'rxjs';\r\n\r\nexport class GhmSelect {\r\n    constructor(public id: any,\r\n                public name: string,\r\n                public icon?: string,\r\n                public image?: string,\r\n                public data?: any,\r\n                public index?: number,\r\n                public active?: boolean,\r\n                public selected?: boolean) {\r\n    }\r\n}\r\n\r\n@Component({\r\n    selector: 'ghm-select',\r\n    templateUrl: './ghm-select.component.html',\r\n    providers: [\r\n        {provide: NG_VALUE_ACCESSOR, useExisting: forwardRef(() => GhmSelectComponent), multi: true},\r\n        {provide: NG_VALIDATORS, useExisting: forwardRef(() => GhmSelectComponent), multi: true}\r\n    ],\r\n    styleUrls: ['./ghm-select.component.scss'],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\n\r\nexport class GhmSelectComponent implements OnChanges, OnInit, AfterViewInit, OnDestroy, ControlValueAccessor {\r\n    private _data: GhmSelect[] = [];\r\n    private _selectedItem = null;\r\n    // @ViewChild('searchBox') searchBox: ElementRef<any>;\r\n    @ViewChild('dropdownTemplate') dropdownTemplate: TemplateRef<any>;\r\n    @Input() multiple = false;\r\n    @Input() liveSearch = false;\r\n    @Input() icon = 'fa fa-list';\r\n    @Input() title: string;\r\n    @Input() isEnable = true;\r\n    // @Input() width = 250;\r\n    @Input() isInsertValue = false;\r\n    @Input() url: string;\r\n    @Input() loading: boolean;\r\n    @Input() pageSize = 10;\r\n    @Input() readonly = false;\r\n    @Input() selectedItems = [];\r\n    @Input() elementId = 'elementId';\r\n    @Input() classColor = '';\r\n\r\n    @Output() itemSelected = new EventEmitter();\r\n\r\n    @Output() valueChange = new EventEmitter();\r\n\r\n    @Output() shown = new EventEmitter();\r\n\r\n    @Output() hidden = new EventEmitter();\r\n\r\n    @Output() valueInserted = new EventEmitter();\r\n\r\n    @Output() keywordPressed = new EventEmitter();\r\n\r\n    isSearching = false;\r\n    source = [];\r\n    label;\r\n    inputId;\r\n    currentPage = 1;\r\n    totalRows = 0;\r\n    totalPages = 0;\r\n    private _value: any;\r\n    private overlayRef: OverlayRef;\r\n    private positionStrategy = new GlobalPositionStrategy();\r\n\r\n    searchTerm$ = new BehaviorSubject<string>(null);\r\n\r\n    propagateChange: any = () => {\r\n    };\r\n\r\n    get value() {\r\n        return this._value;\r\n    }\r\n\r\n    get data() {\r\n        return this._data;\r\n    }\r\n\r\n    @Input()\r\n    set data(values: GhmSelect[]) {\r\n        setTimeout(() => {\r\n            if (values) {\r\n                this._data = values;\r\n                this.source = values.map((item, index) => {\r\n                    const obj = item;\r\n                    obj.index = index;\r\n                    obj.active = false;\r\n\r\n                    if (this.value && this.value instanceof Array) {\r\n                        item.selected = this.value.indexOf(item.id) > -1;\r\n                    } else {\r\n                        item.selected = item.id === this.value;\r\n                    }\r\n                    return obj;\r\n                });\r\n\r\n                const labelName = this.source.filter((item: any) => {\r\n                    return item.selected;\r\n                }).map(item => item.name).join(',');\r\n\r\n                if (labelName) {\r\n                    this.label = labelName;\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    @Input()\r\n    set value(val) {\r\n        if (val != null) {\r\n            if (val instanceof Array) {\r\n                this._value = val;\r\n                const selectedItem = _.filter(this.source, (item) => {\r\n                    return val.indexOf(item.id) > -1;\r\n                });\r\n\r\n                if (selectedItem && selectedItem.length > 0) {\r\n                    _.each(selectedItem, (item) => {\r\n                        item.selected = true;\r\n                    });\r\n                    this.label = this.getSelectedName(selectedItem);\r\n                } else {\r\n                    this.label = this.title;\r\n                }\r\n            } else {\r\n                this.getSelectedItem(val);\r\n            }\r\n        } else {\r\n            if (this.multiple) {\r\n                this.getSelectedItem(val);\r\n            } else {\r\n                this.label = this.title;\r\n            }\r\n        }\r\n    }\r\n\r\n    @Input()\r\n    set selectedItem(value) {\r\n        this._selectedItem = value;\r\n        if (value) {\r\n            this.label = value.name ? value.name : this.title;\r\n        } else {\r\n            this.label = null;\r\n        }\r\n    }\r\n\r\n    get selectedItem() {\r\n        return this._selectedItem;\r\n    }\r\n\r\n    constructor(private overlay: Overlay,\r\n                private viewContainerRef: ViewContainerRef,\r\n                private http: HttpClient,\r\n                private el: ElementRef, private renderer: Renderer2) {\r\n        this.inputId = `ghm-select-${new Date().getTime() + Math.floor((Math.random() * 10) + 1)}`;\r\n        // this.searchTerm$\r\n        //     .pipe(\r\n        //         debounceTime(500),\r\n        //         distinctUntilChanged(),\r\n        //         // switchMap((term: string) => this.search(term))\r\n        //     )\r\n        //     .subscribe((term: string) => {\r\n        //         if (this.liveSearch && this.url) {\r\n        //             this.search(term);\r\n        //         }\r\n        //     });\r\n    }\r\n\r\n    ngOnInit() {\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        this.overlayRef = this.overlay.create({\r\n            positionStrategy: this.positionStrategy\r\n        });\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.dismissMenu();\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges) {\r\n    }\r\n\r\n    searchKeyUp(e, term) {\r\n        const keyCode = e.keyCode;\r\n        // Navigate\r\n        if (keyCode === 27) {\r\n            // Check\r\n        }\r\n\r\n        if (keyCode === 27 || keyCode === 17 || e.ctrlKey) {\r\n            return;\r\n        }\r\n\r\n        if (keyCode === 37 || keyCode === 38 || keyCode === 39 || keyCode === 40 || keyCode === 13) {\r\n            this.navigate(keyCode);\r\n            e.preventDefault();\r\n        } else {\r\n            if (!term) {\r\n                this.source = this.data.map((item, index) => {\r\n                    const obj = item;\r\n                    obj.index = index;\r\n                    obj.active = false;\r\n                    obj.selected = false;\r\n                    return obj;\r\n                });\r\n                return;\r\n            }\r\n            if (this.url) {\r\n                this.search(term);\r\n                // this.searchTerm$.next(term);\r\n            } else {\r\n                const searchResult = _.filter(this.data, (item) => {\r\n                    return this.stripToVietnameChar(item.name).indexOf(this.stripToVietnameChar(term)) > -1;\r\n                });\r\n                this.source = searchResult.map((item, index) => {\r\n                    const obj = item;\r\n                    obj.index = index;\r\n                    obj.active = false;\r\n                    obj.selected = false;\r\n                    return obj;\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    buttonClick() {\r\n        this.initDropdownMenu();\r\n        if (this.url && this.liveSearch) {\r\n            this.search('');\r\n        }\r\n    }\r\n\r\n    selectItem(item: GhmSelect) {\r\n        if (!this.multiple) {\r\n            this.label = item.name;\r\n            _.each(this.source, (data) => {\r\n                data.selected = false;\r\n            });\r\n            item.selected = true;\r\n            this.value = item.id;\r\n            this.propagateChange(item.id);\r\n            this.itemSelected.emit(item);\r\n            this.dismissMenu();\r\n        } else {\r\n            item.selected = !item.selected;\r\n            const selectedItem = _.filter(this.source, (source: any) => {\r\n                return source.selected;\r\n            });\r\n            this.label = selectedItem && selectedItem.length > 0 ? this.getSelectedName(selectedItem) : this.title;\r\n\r\n            if (this.value instanceof Array) {\r\n                const selectedIds = selectedItem.map((selected) => {\r\n                    return selected.id;\r\n                });\r\n                this.itemSelected.emit(selectedItem);\r\n                this.propagateChange(selectedIds);\r\n            } else {\r\n                this.itemSelected.emit(selectedItem);\r\n                this.propagateChange(item.id);\r\n            }\r\n        }\r\n    }\r\n\r\n    @HostListener('document:click', ['$event'])\r\n    onClick(event) {\r\n        const menuElement = this.overlayRef.overlayElement.getElementsByClassName('ghm-select-menu')[0];\r\n        if (menuElement && !menuElement.contains(event.target)\r\n            && !this.el.nativeElement.contains(event.target)) {\r\n            this.dismissMenu();\r\n        }\r\n    }\r\n\r\n    // @HostListener('scroll', ['$event'])\r\n    // onWindowScroll() {\r\n    //     console.log('window scroll');\r\n    // }\r\n\r\n    stripToVietnameChar(str): string {\r\n        str = str.toLowerCase();\r\n        str = str.replace(/à|á|ạ|ả|ã|â|ầ|ấ|ậ|ẩ|ẫ|ă|ằ|ắ|ặ|ẳ|ẵ/g, 'a');\r\n        str = str.replace(/è|é|ẹ|ẻ|ẽ|ê|ề|ế|ệ|ể|ễ/g, 'e');\r\n        str = str.replace(/ì|í|ị|ỉ|ĩ/g, 'i');\r\n        str = str.replace(/ò|ó|ọ|ỏ|õ|ô|ồ|ố|ộ|ổ|ỗ|ơ|ờ|ớ|ợ|ở|ỡ/g, 'o');\r\n        str = str.replace(/ù|ú|ụ|ủ|ũ|ư|ừ|ứ|ự|ử|ữ/g, 'u');\r\n        str = str.replace(/ỳ|ý|ỵ|ỷ|ỹ/g, 'y');\r\n        str = str.replace(/đ/g, 'd');\r\n        return str;\r\n    }\r\n\r\n    registerOnChange(fn) {\r\n        this.propagateChange = fn;\r\n    }\r\n\r\n    writeValue(value) {\r\n        if (value != null && value !== undefined && value !== '') {\r\n            this.value = value;\r\n        } else {\r\n            this.label = this.title;\r\n        }\r\n    }\r\n\r\n    registerOnTouched() {\r\n    }\r\n\r\n    validate(c: FormControl) {\r\n        this.value = c.value;\r\n    }\r\n\r\n    resetSelectedList() {\r\n        _.each(this.source, (item) => {\r\n            item.selected = false;\r\n        });\r\n        this.label = this.title;\r\n    }\r\n\r\n    insertValue() {\r\n        this.label = this.searchTerm$.value;\r\n        this.valueInserted.emit(this.searchTerm$.value);\r\n    }\r\n\r\n    clear() {\r\n        this.selectedItems = [];\r\n        this.label = this.title;\r\n    }\r\n\r\n    private getSelectedItem(val) {\r\n        _.each(this.source, (item) => {\r\n            if (item.id === val) {\r\n                this.label = item.name;\r\n                item.selected = true;\r\n            } else {\r\n                item.selected = false;\r\n            }\r\n        });\r\n\r\n        this._value = val;\r\n        this.valueChange.emit(this._value);\r\n    }\r\n\r\n    private getSelectedName(listItem): string {\r\n        return listItem.map((item) => {\r\n            return item.name;\r\n        }).join(', ');\r\n    }\r\n\r\n    private navigate(key: number) {\r\n        const selectedItem = this.source.find((item) => {\r\n            return item.active;\r\n        });\r\n\r\n        switch (key) {\r\n            case 37:\r\n                this.back(selectedItem);\r\n                break;\r\n            case 38:\r\n                this.back(selectedItem);\r\n                break;\r\n            case 39:\r\n                this.next(selectedItem);\r\n                break;\r\n            case 40:\r\n                this.next(selectedItem);\r\n                break;\r\n            case 13:\r\n                if (selectedItem) {\r\n                    this.selectItem(selectedItem);\r\n                }\r\n                break;\r\n        }\r\n    }\r\n\r\n    private next(selectedItem: any) {\r\n        if (!selectedItem) {\r\n            const firstItem = this.source[0];\r\n            if (firstItem) {\r\n                firstItem.active = true;\r\n            }\r\n        } else {\r\n            let index = selectedItem.index + 1;\r\n            if (index > this.source.length - 1) {\r\n                index = 0;\r\n            }\r\n\r\n            const currentItem = this.source[index];\r\n            this.resetActiveStatus();\r\n            currentItem.active = true;\r\n        }\r\n    }\r\n\r\n    private back(selectedItem: any) {\r\n        if (!selectedItem) {\r\n            const lastItem = this.source[this.source.length - 1];\r\n            if (lastItem) {\r\n                lastItem.active = true;\r\n            }\r\n        } else {\r\n            let index = selectedItem.index - 1;\r\n            if (index < 0) {\r\n                index = this.source.length - 1;\r\n            }\r\n\r\n            const currentItem = this.source[index];\r\n            this.resetActiveStatus();\r\n            currentItem.active = true;\r\n        }\r\n    }\r\n\r\n    private resetActiveStatus() {\r\n        this.source.forEach((item) => item.active = false);\r\n    }\r\n\r\n    private initDropdownMenu() {\r\n        setTimeout(() => {\r\n            if (this.overlayRef) {\r\n                if (!this.overlayRef.hasAttached()) {\r\n                    this.overlayRef.attach(new TemplatePortal(this.dropdownTemplate, this.viewContainerRef));\r\n                    const clientRect = this.el.nativeElement.getBoundingClientRect();\r\n                    const menuElement = this.overlayRef.overlayElement.getElementsByClassName('ghm-select-menu')[0];\r\n                    const menuHeight = this.overlayRef.overlayElement.getElementsByClassName('ghm-select-menu')[0].clientHeight;\r\n                    const windowWidth = window.innerWidth;\r\n                    const windowHeight = window.innerHeight;\r\n                    const isLeft = windowWidth - (clientRect.left + 350) > 0;\r\n                    const isTop = windowHeight - (clientRect.top + clientRect.height + menuHeight + 10) < 0;\r\n                    const left = clientRect.left;\r\n\r\n                    const top = isTop ? clientRect.top - menuHeight - 10 : clientRect.top + clientRect.height;\r\n                    this.positionStrategy.left(`${left}px`);\r\n                    this.positionStrategy.top(`${top}px`);\r\n                    this.renderer.addClass(menuElement, isTop ? 'ghm-menu-top' : 'ghm-menu-bottom');\r\n                    this.renderer.addClass(menuElement, isLeft ? 'ghm-menu-left' : 'ghm-menu-right');\r\n                    this.renderer.setStyle(menuElement, 'width', clientRect.width + 'px');\r\n\r\n                    this.positionStrategy.apply();\r\n                    if (this.liveSearch && document.getElementById(this.inputId)) {\r\n                        document.getElementById(this.inputId).focus();\r\n                    }\r\n                    this.shown.emit();\r\n                } else {\r\n                    this.overlayRef.detach();\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    private dismissMenu() {\r\n        if (this.overlayRef && this.overlayRef.hasAttached()) {\r\n            this.overlayRef.detach();\r\n            this.hidden.emit();\r\n        }\r\n    }\r\n\r\n    private search(searchTerm?: string) {\r\n        this.source = [];\r\n        this.isSearching = true;\r\n        if (!this.url) {\r\n            this.isSearching = false;\r\n            return;\r\n        }\r\n        this.http\r\n            .get<any>(this.url, {\r\n                params: new HttpParams()\r\n                    .set('keyword', searchTerm ? searchTerm : '')\r\n                    .set('pageSize', this.pageSize ? this.pageSize.toString() : '10')\r\n            })\r\n            .pipe(\r\n                finalize(() => this.isSearching = false)\r\n            )\r\n            .subscribe((result: SearchResultViewModel<any>) => {\r\n                const items = result.items;\r\n                this.totalRows = result.totalRows;\r\n                this.paging();\r\n                this.source = items.map((item, index) => {\r\n                    const obj = item;\r\n                    obj.index = index;\r\n                    obj.active = false;\r\n                    obj.selected = false;\r\n                    return obj;\r\n                });\r\n            });\r\n    }\r\n\r\n    private paging() {\r\n        const pageSize = this.pageSize ? this.pageSize : 10;\r\n        this.totalPages = Math.ceil(this.totalRows / pageSize);\r\n    }\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {GhmSelectComponent} from './ghm-select.component';\r\nimport {CommonModule} from '@angular/common';\r\nimport {CoreModule} from '../../../core/core.module';\r\nimport {GhmInputModule} from '../ghm-input/ghm-input.module';\r\n\r\n@NgModule({\r\n    imports: [CommonModule, GhmInputModule, CoreModule],\r\n    exports: [GhmSelectComponent],\r\n    declarations: [GhmSelectComponent],\r\n    providers: [],\r\n})\r\nexport class GhmSelectModule {\r\n}\r\n","/**\r\n * Created by Nam on 4/20/2017.\r\n */\r\nimport { Component, Input, Pipe, PipeTransform } from '@angular/core'\r\nimport { DomSanitizer } from '@angular/platform-browser'\r\n\r\n@Pipe({ name: 'safeHtml' })\r\nexport class SafeHtmlPipe implements PipeTransform {\r\n\r\n    constructor(private sanitized: DomSanitizer) { }\r\n    transform(value) {\r\n        return this.sanitized.bypassSecurityTrustHtml(value);\r\n    }\r\n}\r\n\r\n@Component({\r\n    selector: 'nh-safeHtml',\r\n    template: `\r\n    <div [innerHtml]=\"html | safeHtml\">\r\n    </div>\r\n  `,\r\n})\r\n\r\nexport class NhSafeHtmlComponent {\r\n    @Input() html: string;\r\n    constructor() {\r\n    }\r\n}\r\n\r\n","/**\r\n * Created by Nam on 4/20/2017.\r\n */\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { NhSafeHtmlComponent, SafeHtmlPipe } from './nh-safe-html.component';\r\n\r\n@NgModule({\r\n    imports: [FormsModule],\r\n    exports: [NhSafeHtmlComponent],\r\n    declarations: [NhSafeHtmlComponent, SafeHtmlPipe],\r\n    providers: [],\r\n})\r\nexport class NhSafeHtmlModeule {\r\n\r\n}\r\n\r\n","import { Directive, ElementRef, OnDestroy, OnInit, Renderer2, TemplateRef, ViewContainerRef } from '@angular/core';\r\nimport { GlobalPositionStrategy, Overlay, OverlayRef } from '@angular/cdk/overlay';\r\nimport { GhmDraggableDirective } from './ghm-draggable.directive';\r\nimport { ComponentPortal, Portal, TemplatePortal } from '@angular/cdk/portal';\r\n\r\n@Directive({\r\n    selector: '[appGhmDraggableHelper]'\r\n})\r\nexport class GhmDraggableHelperDirective implements OnInit, OnDestroy {\r\n    private overlayRef: OverlayRef;\r\n    private positionStrategy = new GlobalPositionStrategy();\r\n    private startPosition: { x: number; y: number };\r\n\r\n    constructor(\r\n        private ghmDraggableDirective: GhmDraggableDirective,\r\n        private templateRef: TemplateRef<any>,\r\n        private viewContainerRef: ViewContainerRef,\r\n        private overlay: Overlay,\r\n        private renderer: Renderer2\r\n    ) {\r\n        console.log('init draggable helper.');\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.ghmDraggableDirective.dragStart.subscribe(event => this.onDragStart(event));\r\n        this.ghmDraggableDirective.dragMove.subscribe(event => this.onDragMove(event));\r\n        this.ghmDraggableDirective.dragEnd.subscribe(event => this.onDragEnd(event));\r\n\r\n        const clientRect = this.ghmDraggableDirective.element.nativeElement.getBoundingClientRect();\r\n        this.overlayRef = this.overlay.create({\r\n            positionStrategy: this.positionStrategy,\r\n            width: clientRect.width,\r\n            height: clientRect.height\r\n        });\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.overlayRef.dispose();\r\n    }\r\n\r\n    private onDragStart(event: PointerEvent) {\r\n        const clientRect = this.ghmDraggableDirective.element.nativeElement.getBoundingClientRect();\r\n        // Get start position.\r\n        this.startPosition = {\r\n            x: event.clientX - clientRect.left,\r\n            y: event.clientY - clientRect.top\r\n        };\r\n    }\r\n\r\n    private onDragMove(event: PointerEvent) {\r\n        if (!this.overlayRef.hasAttached()) {\r\n            this.overlayRef.attach(new TemplatePortal(this.templateRef, this.viewContainerRef));\r\n            // this.overlayRef.attach(new Portal<ElementRef>(this.ghmDraggableDirective.element, this.viewContainerRef));\r\n        }\r\n\r\n        this.positionStrategy.left(`${event.clientX - this.startPosition.x}px`);\r\n        this.positionStrategy.top(`${event.clientY - this.startPosition.y}px`);\r\n        this.positionStrategy.apply();\r\n    }\r\n\r\n    private onDragEnd(event: PointerEvent) {\r\n        this.overlayRef.detach();\r\n        // this.viewContainerRef.clear();\r\n    }\r\n}\r\n","import { Directive, ElementRef, EventEmitter, HostBinding, HostListener, Input, OnInit, Output } from '@angular/core';\r\nimport { Subject } from 'rxjs';\r\nimport { repeat, switchMap, take, takeUntil } from 'rxjs/operators';\r\n\r\n\r\n@Directive({\r\n    selector: '[ghmDraggable]'\r\n})\r\nexport class GhmDraggableDirective implements OnInit {\r\n    @HostBinding('class.ghm-draggable') draggable = true;\r\n    @HostBinding('class.ghm-dragging') dragging = false;\r\n\r\n    @Input() ghmDraggable = 0;\r\n\r\n    @Output() dragStart = new EventEmitter();\r\n    @Output() dragMove = new EventEmitter();\r\n    @Output() dragEnd = new EventEmitter();\r\n\r\n    private pointerDown$ = new Subject<PointerEvent>();\r\n    private pointerMove$ = new Subject<PointerEvent>();\r\n    private pointerUp$ = new Subject<PointerEvent>();\r\n\r\n    constructor(public element: ElementRef) {\r\n        console.log('ghm draggable init.');\r\n    }\r\n\r\n    @HostListener('pointerdown', ['$event'])\r\n    onPointerDown(event: PointerEvent): void {\r\n        event.stopPropagation();\r\n        this.pointerDown$.next(event);\r\n    }\r\n\r\n    @HostListener('document:pointermove', ['$event'])\r\n    onPointerMove(event: PointerEvent): void {\r\n        this.pointerMove$.next(event);\r\n    }\r\n\r\n    @HostListener('document:pointerup', ['$event'])\r\n    onPointerUp(event: PointerEvent): void {\r\n        this.pointerUp$.next(event);\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.pointerDown$.asObservable()\r\n            .subscribe((event: PointerEvent) => {\r\n                this.dragging = true;\r\n                this.dragStart.emit(event);\r\n            });\r\n\r\n        this.pointerDown$\r\n            .pipe(\r\n                switchMap(() => this.pointerMove$),\r\n                takeUntil(this.pointerUp$),\r\n                repeat()\r\n            )\r\n            .subscribe((event: PointerEvent) => this.dragMove.emit(event));\r\n\r\n        this.pointerDown$\r\n            .pipe(\r\n                switchMap(() => this.pointerUp$),\r\n                take(1),\r\n                repeat()\r\n            )\r\n            .subscribe((event: PointerEvent) => {\r\n                this.dragging = false;\r\n                this.dragEnd.emit(event);\r\n            });\r\n    }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { GhmDraggableDirective } from './ghm-draggable.directive';\r\nimport { GhmSortableDirective } from './ghm-sortable.directive';\r\nimport { OverlayModule } from '@angular/cdk/overlay';\r\nimport { GhmDraggableHelperDirective } from './ghm-draggable-helper.directive';\r\nimport { GhmSortableListDirective } from './ghm-sortable-list.directive';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule,\r\n        OverlayModule\r\n    ],\r\n    declarations: [GhmDraggableDirective, GhmSortableDirective, GhmDraggableHelperDirective, GhmSortableListDirective],\r\n    exports: [GhmDraggableDirective, GhmSortableDirective, GhmDraggableHelperDirective, GhmSortableListDirective]\r\n})\r\nexport class GhmDraggableModule {\r\n}\r\n","import {\r\n    AfterContentInit,\r\n    ContentChild,\r\n    ContentChildren,\r\n    Directive,\r\n    EventEmitter,\r\n    Input,\r\n    Output,\r\n    QueryList\r\n} from '@angular/core';\r\nimport { GhmSortableDirective } from './ghm-sortable.directive';\r\n\r\nconst distance = (rectA: ClientRect, rectB: ClientRect): number => {\r\n    const math = Math.sqrt(\r\n        Math.pow(rectB.top - rectA.top, 2) + Math.pow(rectB.left - rectA.left, 2)\r\n    );\r\n    // console.log(math);\r\n    return math;\r\n};\r\n\r\nexport interface SortEvent {\r\n    currentIndex: number;\r\n    newIndex: number;\r\n    currentData?: any;\r\n    swapData?: any;\r\n}\r\n\r\n@Directive({\r\n    selector: '[ghmSortableList]'\r\n})\r\nexport class GhmSortableListDirective implements AfterContentInit {\r\n    @ContentChildren(GhmSortableDirective) sortables: QueryList<GhmSortableDirective>;\r\n    @Output() sort = new EventEmitter();\r\n    @Output() sorted = new EventEmitter();\r\n\r\n    @Input() sources: any[] = [];\r\n\r\n    private clientRects: ClientRect[];\r\n    private sortEvent: SortEvent = {\r\n        currentIndex: 0,\r\n        newIndex: 0\r\n    };\r\n\r\n    constructor() {\r\n    }\r\n\r\n    ngAfterContentInit() {\r\n        // console.log(this.sortables.length);\r\n        this.sortables.forEach(sortable => {\r\n            sortable.dragStart.subscribe(() => this.measureClientRects());\r\n            sortable.dragMove.subscribe((event => this.detectSorting(sortable, event)));\r\n            sortable.dragEnd.subscribe((() => this.sortComplete()));\r\n        });\r\n    }\r\n\r\n    private measureClientRects() {\r\n        this.clientRects = this.sortables.map(sortable => sortable.element.nativeElement.getBoundingClientRect());\r\n    }\r\n\r\n    private detectSorting(sortable: GhmSortableDirective, event: PointerEvent) {\r\n        const currentIndex = this.sortables.toArray().indexOf(sortable);\r\n        const currentRect = this.clientRects[currentIndex];\r\n        // console.log(this.clientRects);\r\n        this.clientRects\r\n            .slice()\r\n            // .sort((rectA, rectB) => distance(rectA, currentRect) - distance(rectB, currentRect))\r\n            .some(rect => {\r\n                if (rect === currentRect) {\r\n                    return false;\r\n                }\r\n\r\n                const isHorizontal = rect.top === currentRect.top;\r\n                const isBefore = isHorizontal ? rect.left < currentRect.left : rect.top < currentRect.top;\r\n                let moveBack = false;\r\n                let moveForward = false;\r\n\r\n                if (isHorizontal) {\r\n                    moveBack = isBefore && event.clientX < rect.left + rect.width / 2;\r\n                    moveForward = !isBefore && event.clientX > rect.left + rect.width / 2;\r\n                } else {\r\n                    moveBack = isBefore && event.clientY < rect.top + rect.height / 2;\r\n                    moveForward = !isBefore && event.clientY > rect.top + rect.height / 2;\r\n                }\r\n\r\n                if (moveBack || moveForward) {\r\n                    this.sortEvent.currentIndex = currentIndex;\r\n                    this.sortEvent.newIndex = this.clientRects.indexOf(rect);\r\n                    this.sort.emit(this.sortEvent);\r\n                    this.reOrder(this.sortEvent.currentIndex, this.sortEvent.newIndex);\r\n                    return true;\r\n                }\r\n                return false;\r\n            });\r\n    }\r\n\r\n    private reOrder(currentIndex: number, newIndex: number) {\r\n        const current = this.sources[currentIndex];\r\n        const swapItem = this.sources[newIndex];\r\n        // console.log(this.sources);\r\n        // console.log(currentIndex, newIndex);\r\n        // console.log(current, swapItem);\r\n        if (current && swapItem) {\r\n            this.sources[currentIndex] = swapItem;\r\n            this.sources[newIndex] = current;\r\n\r\n            this.sortEvent.currentData = current;\r\n            this.sortEvent.swapData = swapItem;\r\n        }\r\n    }\r\n\r\n    private sortComplete() {\r\n        if (this.sortEvent.currentIndex !== this.sortEvent.newIndex) {\r\n            this.sorted.emit(this.sortEvent);\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n}\r\n","import { Directive, forwardRef, HostBinding } from '@angular/core';\r\nimport { GhmDraggableDirective } from './ghm-draggable.directive';\r\n\r\n@Directive({\r\n    selector: '[ghmSortable]',\r\n    providers: [{provide: GhmDraggableDirective, useExisting: forwardRef(() => GhmSortableDirective)}]\r\n})\r\nexport class GhmSortableDirective extends GhmDraggableDirective {\r\n    @HostBinding('class.ghm-sortable') sortable = true;\r\n}\r\n"],"sourceRoot":""}