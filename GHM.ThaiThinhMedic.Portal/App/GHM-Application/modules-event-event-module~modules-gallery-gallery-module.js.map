{"version":3,"sources":["webpack:///./src/app/modules/gallery/gallery-routing.module.ts","webpack:///./src/app/modules/gallery/gallery.module.ts","webpack:///./src/app/modules/gallery/gallery/gallery.component.css","webpack:///./src/app/modules/gallery/gallery/gallery.component.html","webpack:///./src/app/modules/gallery/gallery/gallery.component.ts","webpack:///./src/app/modules/gallery/photo/album-form/album-form.component.html","webpack:///./src/app/modules/gallery/photo/album-form/album-form.component.ts","webpack:///./src/app/modules/gallery/photo/album.component.scss","webpack:///./src/app/modules/gallery/photo/models/album.model.ts","webpack:///./src/app/modules/gallery/photo/models/photo.model.ts","webpack:///./src/app/modules/gallery/photo/photo.component.html","webpack:///./src/app/modules/gallery/photo/photo.component.ts","webpack:///./src/app/modules/gallery/photo/photo.service.ts","webpack:///./src/app/modules/gallery/videos/models/video-translation.ts","webpack:///./src/app/modules/gallery/videos/models/video.model.ts","webpack:///./src/app/modules/gallery/videos/video-detail/video-detail.component.html","webpack:///./src/app/modules/gallery/videos/video-detail/video-detail.component.ts","webpack:///./src/app/modules/gallery/videos/video-form/video-form.component.html","webpack:///./src/app/modules/gallery/videos/video-form/video-form.component.ts","webpack:///./src/app/modules/gallery/videos/video.component.html","webpack:///./src/app/modules/gallery/videos/video.component.ts","webpack:///./src/app/modules/gallery/videos/video.service.ts","webpack:///./src/app/shareds/components/nh-image/nh-image.component.ts","webpack:///./src/app/shareds/components/nh-image/nh-image.module.ts"],"names":[],"mappings":"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","file":"modules-event-event-module~modules-gallery-gallery-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { VideoComponent } from './videos/video.component';\r\nimport { VideoService } from './videos/video.service';\r\nimport { GalleryComponent } from './gallery/gallery.component';\r\nimport { PhotoService } from './photo/photo.service';\r\nimport { PhotoComponent } from './photo/photo.component';\r\nimport { AlbumFormComponent } from './photo/album-form/album-form.component';\r\n\r\nconst routes: Routes = [\r\n    {\r\n        path: '',\r\n        component: GalleryComponent,\r\n        resolve: {\r\n            data: VideoService\r\n        }\r\n    },\r\n    {\r\n        path: 'album',\r\n        component: PhotoComponent,\r\n        resolve: {\r\n            data: PhotoService\r\n        }\r\n    },\r\n    {\r\n        path: 'album/add',\r\n        component: AlbumFormComponent,\r\n    },\r\n    {\r\n        path: 'album/edit/:id',\r\n        component: AlbumFormComponent,\r\n    },\r\n    {\r\n        path: 'video',\r\n        component: VideoComponent,\r\n        resolve: {\r\n            data: VideoService\r\n        }\r\n    }\r\n];\r\n\r\n@NgModule({\r\n    imports: [RouterModule.forChild(routes)],\r\n    exports: [RouterModule],\r\n    providers: [VideoService, PhotoService]\r\n})\r\nexport class GalleryRoutingModule {\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { PhotoComponent } from './photo/photo.component';\r\nimport { GalleryComponent } from './gallery/gallery.component';\r\nimport { MatCheckboxModule, MatIconModule, MatTabsModule, MatTooltipModule } from '@angular/material';\r\nimport { GalleryRoutingModule } from './gallery-routing.module';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { SweetAlert2Module } from '@toverux/ngx-sweetalert2';\r\nimport { TreeTableModule } from 'primeng/primeng';\r\nimport { LayoutModule } from '../../shareds/layouts/layout.module';\r\nimport { NhSelectModule } from '../../shareds/components/nh-select/nh-select.module';\r\nimport { NhImageModule } from '../../shareds/components/nh-image/nh-image.module';\r\nimport { DatetimeFormatModule } from '../../shareds/pipe/datetime-format/datetime-format.module';\r\nimport { GhmFileExplorerModule } from '../../shareds/components/ghm-file-explorer/ghm-file-explorer.module';\r\nimport { NhTagModule } from '../../shareds/components/nh-tags/nh-tag.module';\r\nimport { NhDateModule } from '../../shareds/components/nh-datetime-picker/nh-date.module';\r\nimport { NhModalModule } from '../../shareds/components/nh-modal/nh-modal.module';\r\nimport { NHTreeModule } from '../../shareds/components/nh-tree/nh-tree.module';\r\nimport { GhmUserSuggestionModule } from '../../shareds/components/ghm-user-suggestion/ghm-user-suggestion.module';\r\nimport { GhmSelectPickerModule } from '../../shareds/components/ghm-select-picker/ghm-select-picker.module';\r\nimport { CoreModule } from '../../core/core.module';\r\nimport { GhmPagingModule } from '../../shareds/components/ghm-paging/ghm-paging.module';\r\nimport { VideoComponent } from './videos/video.component';\r\nimport { VideoFormComponent } from './videos/video-form/video-form.component';\r\nimport { VideoDetailComponent } from './videos/video-detail/video-detail.component';\r\nimport { NhDropdownModule } from '../../shareds/directives/nh-dropdown/nh-dropdown.module';\r\nimport { AlbumFormComponent } from './photo/album-form/album-form.component';\r\n\r\n@NgModule({\r\n    imports: [\r\n        CommonModule, GalleryRoutingModule, LayoutModule, NhSelectModule, NhImageModule, DatetimeFormatModule,\r\n        MatCheckboxModule, ReactiveFormsModule, NhDateModule, TreeTableModule, NhTagModule, GhmFileExplorerModule,\r\n        NhModalModule, ReactiveFormsModule, FormsModule, MatTooltipModule, NHTreeModule, GhmUserSuggestionModule,\r\n        MatTabsModule, MatIconModule, NhDropdownModule, GhmFileExplorerModule,\r\n        GhmSelectPickerModule, CoreModule, GhmPagingModule, SweetAlert2Module.forRoot({\r\n            buttonsStyling: false,\r\n            customClass: 'modal-content',\r\n            confirmButtonClass: 'btn blue cm-mgr-5',\r\n            cancelButtonClass: 'btn',\r\n            // confirmButtonText: 'Accept',\r\n            showCancelButton: true,\r\n            // cancelButtonText: 'Cancel'\r\n        })\r\n    ],\r\n    declarations: [PhotoComponent, VideoComponent, VideoFormComponent, VideoDetailComponent, GalleryComponent,\r\n        AlbumFormComponent],\r\n    exports: [VideoComponent, VideoFormComponent, GalleryComponent]\r\n})\r\nexport class GalleryModule {\r\n}\r\n","module.exports = \"\"","module.exports = \"<mat-tab-group>\\r\\n  <mat-tab i18n-label=\\\"@@photos\\\" label=\\\"Photos\\\">\\r\\n    <app-photo></app-photo>\\r\\n  </mat-tab><!-- END: photo -->\\r\\n  <mat-tab i18n-label=\\\"@@videos\\\" label=\\\"Videos\\\">\\r\\n    <app-video></app-video>\\r\\n  </mat-tab><!-- END: video -->\\r\\n</mat-tab-group>\"","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-gallery',\r\n  templateUrl: './gallery.component.html',\r\n  styleUrls: ['./gallery.component.css']\r\n})\r\nexport class GalleryComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","module.exports = \"<h1 class=\\\"page-title\\\">\\r\\n    <span class=\\\"cm-mgr-5\\\" i18n=\\\"@@addOrUpdateAlbumInfoTitle\\\">{isUpdate, select, 0 {Add new album} 1 {Update album info}}</span>\\r\\n    <small i18n=\\\"@@videoModuleTitle\\\">Gallery management</small>\\r\\n</h1>\\r\\n\\r\\n<div class=\\\"row cm-mgt-10\\\">\\r\\n    <form action=\\\"\\\" class=\\\"form-horizontal\\\" (ngSubmit)=\\\"save()\\\" [formGroup]=\\\"model\\\">\\r\\n        <div class=\\\"col-sm-6\\\">\\r\\n            <div class=\\\"portlet light bordered\\\">\\r\\n                <div class=\\\"portlet-title\\\">\\r\\n                    <div class=\\\"caption font-red-sunglo\\\">\\r\\n                        <i class=\\\"icon-share font-red-sunglo\\\"></i>\\r\\n                        <span class=\\\"caption-subject bold uppercase\\\" i18n=\\\"@@albumInfo\\\"> Album info </span>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"portlet-body\\\">\\r\\n                    <div class=\\\"form-group\\\" *ngIf=\\\"languages.length > 1\\\">\\r\\n                        <label ghmLabel=\\\"Choose language\\\"\\r\\n                               i18n-ghmLabel=\\\"@@chooseLanguage\\\"\\r\\n                               class=\\\"col-sm-4 control-label\\\"\\r\\n                               [required]=\\\"true\\\"></label>\\r\\n                        <div class=\\\"col-sm-8\\\">\\r\\n                            <nh-select [data]=\\\"languages\\\" [(value)]=\\\"currentLanguage\\\"></nh-select>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"form-group\\\" *ngIf=\\\"!isUpdate\\\">\\r\\n                        <label ghmLabel=\\\"Album type\\\"\\r\\n                               i18n-ghmLabel=\\\"@@albumType\\\"\\r\\n                               class=\\\"col-sm-4 control-label\\\"\\r\\n                               [required]=\\\"true\\\"></label>\\r\\n                        <div class=\\\"col-sm-8\\\">\\r\\n                            <nh-select\\r\\n                                    [data]=\\\"albumTypes\\\"\\r\\n                                    i18n-title=\\\"@@pleaseSelectAlbumType\\\"\\r\\n                                    title=\\\"-- Please select album type --\\\"\\r\\n                                    formControlName=\\\"type\\\"></nh-select>\\r\\n                            <span class=\\\"help-block\\\" *ngIf=\\\"formErrors.thumbnail\\\">\\r\\n                                {formErrors.type, select, requried {Please select video type.}}\\r\\n                            </span>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <div class=\\\"form-group\\\"\\r\\n                         [class.has-error]=\\\"formErrors.thumbnail\\\">\\r\\n                        <label ghmLabel=\\\"Thumbnail\\\" i18n-ghmLabel=\\\"@@thumbnail\\\"\\r\\n                               class=\\\"col-sm-4 control-label\\\"></label>\\r\\n                        <div class=\\\"col-sm-8\\\">\\r\\n                            <ghm-file-explorer buttonText=\\\"Select thumbnail\\\"\\r\\n                                               i18n-buttonText=\\\"@@selectThumbnail\\\"\\r\\n                                               (itemSelected)=\\\"onThumbnailSelected($event)\\\"></ghm-file-explorer>\\r\\n                            <br>\\r\\n                            <img ghmImage [src]=\\\"model.value.thumbnail\\\" class=\\\"w150\\\" alt=\\\"\\\">\\r\\n                            <span class=\\\"help-block\\\" *ngIf=\\\"formErrors.thumbnail\\\">\\r\\n                                {formErrors.thumbnail, select, maxlength {Thumbnail can not exceed 500 characters.}}\\r\\n                            </span>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <span formArrayName=\\\"translations\\\">\\r\\n                            <div class=\\\"form-group\\\"\\r\\n                                 *ngFor=\\\"let translation of translations.controls; index as i\\\"\\r\\n                                 [hidden]=\\\"translation.value.languageId !== currentLanguage\\\"\\r\\n                                 [formGroupName]=\\\"i\\\"\\r\\n                                 [class.has-error]=\\\"translationFormErrors[translation.value.languageId]?.title\\\">\\r\\n                                <label ghmLabel=\\\"Album title\\\"\\r\\n                                       i18n-ghmLabel=\\\"@@albumTitle\\\"\\r\\n                                       class=\\\"col-sm-4 control-label\\\"\\r\\n                                       [required]=\\\"true\\\"></label>\\r\\n                                <div class=\\\"col-sm-8\\\">\\r\\n                                    <input type=\\\"text\\\" class=\\\"form-control\\\"\\r\\n                                           placeholder=\\\"Please enter album title.\\\"\\r\\n                                           i18n-placeholder=\\\"@@pleaseEnterAlbumTitle\\\"\\r\\n                                           formControlName=\\\"title\\\">\\r\\n                                    <span class=\\\"help-block\\\">\\r\\n                                         <span class=\\\"help-block\\\">\\r\\n                                            {\\r\\n                                                translationFormErrors[translation.value.languageId]?.title,\\r\\n                                                select,\\r\\n                                                required {Please enter album title}\\r\\n                                                maxlength {Album title can not exceed 256 characters.}\\r\\n                                                 pattern   {Album title is inValid}\\r\\n                                            }\\r\\n                                         </span>\\r\\n                                    </span>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        <div class=\\\"form-group\\\"\\r\\n                             *ngFor=\\\"let translation of translations.controls; index as i\\\"\\r\\n                             [hidden]=\\\"translation.value.languageId !== currentLanguage\\\"\\r\\n                             [formGroupName]=\\\"i\\\"\\r\\n                             [class.has-error]=\\\"translationFormErrors[translation.value.languageId]?.seoLink\\\">\\r\\n                                <label ghmLabel=\\\"SeoLink\\\"\\r\\n                                       i18n-ghmLabel=\\\"@@seoLink\\\"\\r\\n                                       class=\\\"col-sm-4 control-label\\\"></label>\\r\\n                                <div class=\\\"col-sm-8\\\">\\r\\n                                    <input type=\\\"text\\\" class=\\\"form-control\\\"\\r\\n                                           placeholder=\\\"Enter seo link.\\\"\\r\\n                                           i18n-placeholder=\\\"@@enterSeoLink\\\"\\r\\n                                           formControlName=\\\"seoLink\\\">\\r\\n                                    <span class=\\\"help-block\\\">\\r\\n                                         <span class=\\\"help-block\\\">\\r\\n                                            {\\r\\n                                                translationFormErrors[translation.value.languageId]?.seoLink,\\r\\n                                                select,\\r\\n                                                maxlength {SeoLink can not exceed 500 characters.}\\r\\n                                            }\\r\\n                                         </span>\\r\\n                                    </span>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <div class=\\\"form-group\\\"\\r\\n                                 *ngFor=\\\"let translation of translations.controls; index as i\\\"\\r\\n                                 [hidden]=\\\"translation.value.languageId !== currentLanguage\\\"\\r\\n                                 [formGroupName]=\\\"i\\\"\\r\\n                                 [class.has-error]=\\\"translationFormErrors[translation.value.languageId]?.description\\\">\\r\\n                                <label ghmLabel=\\\"Description\\\"\\r\\n                                       i18n-ghmLabel=\\\"@@description\\\"\\r\\n                                       class=\\\"col-sm-4 control-label\\\"></label>\\r\\n                                <div class=\\\"col-sm-8\\\">\\r\\n                                    <textarea class=\\\"form-control\\\" rows=\\\"3\\\"\\r\\n                                              placeholder=\\\"Enter description.\\\"\\r\\n                                              i18n-placeholder=\\\"@@enterDescription\\\"\\r\\n                                              formControlName=\\\"description\\\"></textarea>\\r\\n                                    <span class=\\\"help-block\\\">\\r\\n                                        {\\r\\n                                            translationFormErrors[translation.value.languageId]?.description,\\r\\n                                            select,\\r\\n                                            maxlength {Description can not exceed 500 chacracters}\\r\\n                                        }\\r\\n                                    </span>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                            <div class=\\\"form-group\\\"\\r\\n                                 *ngFor=\\\"let translation of translations.controls; index as i\\\"\\r\\n                                 [hidden]=\\\"translation.value.languageId !== currentLanguage\\\"\\r\\n                                 [formGroupName]=\\\"i\\\"\\r\\n                                 [class.has-error]=\\\"translationFormErrors[translation.value.languageId]?.metaTitle\\\">\\r\\n                                <label ghmLabel=\\\"Meta title\\\"\\r\\n                                       i18n-ghmLabel=\\\"@@metaTitle\\\"\\r\\n                                       class=\\\"col-sm-4 control-label\\\"></label>\\r\\n                                <div class=\\\"col-sm-8\\\">\\r\\n                                    <textarea class=\\\"form-control\\\" rows=\\\"3\\\"\\r\\n                                              placeholder=\\\"Enter meta title.\\\"\\r\\n                                              i18n-placeholder=\\\"@@enterMetaTitle\\\"\\r\\n                                              formControlName=\\\"metaTitle\\\"></textarea>\\r\\n                                    <span class=\\\"help-block\\\">\\r\\n                                        {\\r\\n                                            translationFormErrors[translation.value.languageId]?.metaTitle,\\r\\n                                            select,\\r\\n                                            maxlength {Meta title can not exceed 256 characters.}\\r\\n                                        }\\r\\n                                    </span>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                        <div class=\\\"form-group\\\"\\r\\n                             *ngFor=\\\"let translation of translations.controls; index as i\\\"\\r\\n                             [hidden]=\\\"translation.value.languageId !== currentLanguage\\\"\\r\\n                             [formGroupName]=\\\"i\\\"\\r\\n                             [class.has-error]=\\\"translationFormErrors[translation.value.languageId]?.metaDescription\\\">\\r\\n                                <label ghmLabel=\\\"Meta description\\\"\\r\\n                                       i18n-ghmLabel=\\\"@@metaDescription\\\"\\r\\n                                       class=\\\"col-sm-4 control-label\\\"></label>\\r\\n                                <div class=\\\"col-sm-8\\\">\\r\\n                                    <textarea class=\\\"form-control\\\" rows=\\\"3\\\"\\r\\n                                              placeholder=\\\"Enter meta description.\\\"\\r\\n                                              i18n-placeholder=\\\"@@enterMetaDescription\\\"\\r\\n                                              formControlName=\\\"metaDescription\\\"></textarea>\\r\\n                                    <span class=\\\"help-block\\\">\\r\\n                                        {\\r\\n                                            translationFormErrors[translation.value.languageId]?.metaDescription,\\r\\n                                            select,\\r\\n                                            maxlength {Meta description can not exceed 256 characters..}\\r\\n                                        }\\r\\n                                    </span>\\r\\n                                </div>\\r\\n                            </div>\\r\\n                    </span>\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                        <div class=\\\"col-sm-8 col-sm-offset-4\\\">\\r\\n                            <mat-checkbox color=\\\"primary\\\" formControlName=\\\"isActive\\\" i18n=\\\"@@isActive\\\">\\r\\n                                {model.value.isActive, select, 1 {Activated} 0 {InActive}}\\r\\n                            </mat-checkbox>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <hr/>\\r\\n                    <div class=\\\"form-group\\\">\\r\\n                        <div class=\\\"col-sm-8 col-sm-offset-4\\\">\\r\\n                            <mat-checkbox [checked]=\\\"isCreateAnother\\\" (change)=\\\"isCreateAnother = !isCreateAnother\\\"\\r\\n                                          *ngIf=\\\"!isUpdate\\\"\\r\\n                                          i18n=\\\"@@isCreateAnother\\\"\\r\\n                                          class=\\\"cm-mgr-5\\\"\\r\\n                                          color=\\\"primary\\\">\\r\\n                                Create another\\r\\n                            </mat-checkbox>\\r\\n                            <button class=\\\"btn blue cm-mgr-5\\\" i18n=\\\"@@save\\\">\\r\\n                                Save\\r\\n                            </button>\\r\\n                            <a routerLink=\\\"/gallery/album\\\" class=\\\"btn btn-light\\\" i18n=\\\"@@close\\\">\\r\\n                                Close\\r\\n                            </a>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </form>\\r\\n    <!-- BEGIN: Photos -->\\r\\n    <div class=\\\"col-sm-6\\\" *ngIf=\\\"model.value.type === 0\\\">\\r\\n        <div class=\\\"portlet light bordered\\\">\\r\\n            <div class=\\\"portlet-title\\\">\\r\\n                <div class=\\\"caption font-red-sunglo\\\">\\r\\n                    <i class=\\\"fa fa-photo font-red-sunglo\\\"></i>\\r\\n                    <span class=\\\"caption-subject bold uppercase\\\" i18n=\\\"@@photos\\\"> Photos </span>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"portlet-body\\\">\\r\\n                <div class=\\\"row\\\">\\r\\n                    <div class=\\\"col-sm-12\\\">\\r\\n                        <ghm-file-explorer buttonText=\\\"Select photos\\\"\\r\\n                                           [multiple]=\\\"true\\\"\\r\\n                                           i18n-buttonText=\\\"@@selectPhoto\\\"\\r\\n                                           (acceptSelected)=\\\"onAcceptSelectPhotos($event)\\\"></ghm-file-explorer>\\r\\n                        <ul class=\\\"list-photos\\\">\\r\\n                            <li *ngFor=\\\"let photo of photos\\\">\\r\\n                                <div class=\\\"photo-wrapper\\\">\\r\\n                                    <img src=\\\"{{ photo.url }}\\\">\\r\\n                                    <ul class=\\\"actions\\\">\\r\\n                                        <li>\\r\\n                                            <button type=\\\"button\\\" class=\\\"btn blue btn-sm\\\" (click)=\\\"editPhoto(photo)\\\">\\r\\n                                                <mat-icon>edit</mat-icon>\\r\\n                                            </button>\\r\\n                                        </li>\\r\\n                                        <li>\\r\\n                                            <button type=\\\"button\\\" class=\\\"btn red btn-sm\\\" (click)=\\\"removePhoto(photo)\\\">\\r\\n                                                <mat-icon>delete</mat-icon>\\r\\n                                            </button>\\r\\n                                        </li>\\r\\n                                    </ul>\\r\\n                                </div>\\r\\n                            </li>\\r\\n                        </ul>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <!-- END: Photos -->\\r\\n    <!-- BEGIN: Videos -->\\r\\n    <div class=\\\"col-sm-6\\\" *ngIf=\\\"model.value.type === 1\\\">\\r\\n        <div class=\\\"portlet light bordered\\\">\\r\\n            <div class=\\\"portlet-title\\\">\\r\\n                <div class=\\\"caption font-red-sunglo\\\">\\r\\n                    <i class=\\\"fa fa-film font-red-sunglo\\\"></i>\\r\\n                    <span class=\\\"caption-subject bold uppercase\\\" i18n=\\\"@@videos\\\"> Videos </span>\\r\\n                </div>\\r\\n                <div class=\\\"actions\\\">\\r\\n                    <a href=\\\"javascript:;\\\" class=\\\"btn btn-circle red-sunglo btn-sm\\\" (click)=\\\"addVideo()\\\">\\r\\n                        <i class=\\\"fa fa-plus\\\"></i> Add </a>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"portlet-body\\\">\\r\\n                <div class=\\\"row\\\">\\r\\n                    <div class=\\\"col-sm-12\\\">\\r\\n                        <app-video [albumId]=\\\"id\\\" [(videos)]=\\\"videos\\\"></app-video>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <!-- END: Videos -->\\r\\n</div>\\r\\n\\r\\n<nh-modal #editPhotoModal size=\\\"sm\\\"\\r\\n          (shown)=\\\"onEditPhotoModalShown()\\\">\\r\\n    <nh-modal-header>\\r\\n        <mat-icon>edit</mat-icon>\\r\\n        <span i18n=\\\"@@editPhotoInfo\\\"> Edit photo info </span>\\r\\n    </nh-modal-header>\\r\\n    <form action=\\\"\\\" (ngSubmit)=\\\"saveDescription()\\\">\\r\\n        <nh-modal-content>\\r\\n            <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"control-label\\\" ghmLabel=\\\"Title\\\" i18n-ghmLabel=\\\"@@title\\\"></label>\\r\\n                <input type=\\\"text\\\"\\r\\n                       class=\\\"form-control\\\"\\r\\n                       placeholder=\\\"Enter title\\\"\\r\\n                       id=\\\"title\\\"\\r\\n                       [(ngModel)]=\\\"title\\\"\\r\\n                       name=\\\"title\\\"\\r\\n                       i18n-placeholder=\\\"@@enterTitle\\\"/>\\r\\n            </div>\\r\\n            <div class=\\\"form-group\\\">\\r\\n                <label class=\\\"control-label\\\" ghmLabel=\\\"Description\\\" i18n-ghmLabel=\\\"@@description\\\"></label>\\r\\n                <textarea type=\\\"text\\\"\\r\\n                          rows=\\\"4\\\"\\r\\n                          class=\\\"form-control\\\"\\r\\n                          placeholder=\\\"Enter description\\\"\\r\\n                          id=\\\"description\\\"\\r\\n                          [(ngModel)]=\\\"description\\\"\\r\\n                          name=\\\"description\\\"\\r\\n                          i18n-placeholder=\\\"@@enterDescription\\\"></textarea>\\r\\n            </div>\\r\\n        </nh-modal-content>\\r\\n        <nh-modal-footer class=\\\"text-right\\\">\\r\\n            <button class=\\\"btn blue\\\" i18n=\\\"@@save\\\">\\r\\n                Save\\r\\n            </button>\\r\\n            <button type=\\\"button\\\" class=\\\"btn btn-light\\\" i18n=\\\"@@cancel\\\" nh-dismiss>\\r\\n                Cancel\\r\\n            </button>\\r\\n        </nh-modal-footer>\\r\\n    </form>\\r\\n</nh-modal>\"","import {Component, OnInit, ViewChild} from '@angular/core';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\nimport {PhotoService} from '../photo.service';\r\nimport {BaseFormComponent} from '../../../../base-form.component';\r\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\r\nimport {finalize} from 'rxjs/operators';\r\nimport {ActionResultViewModel} from '../../../../shareds/view-models/action-result.viewmodel';\r\nimport {Album, AlbumTranslation} from '../models/album.model';\r\nimport {Photo} from '../models/photo.model';\r\nimport {ExplorerItem} from '../../../../shareds/components/ghm-file-explorer/explorer-item.model';\r\nimport * as _ from 'lodash';\r\nimport {NhModalComponent} from '../../../../shareds/components/nh-modal/nh-modal.component';\r\nimport {UtilService} from '../../../../shareds/services/util.service';\r\nimport {ToastrService} from 'ngx-toastr';\r\nimport {SpinnerService} from '../../../../core/spinner/spinner.service';\r\nimport {Video} from '../../videos/models/video.model';\r\nimport {VideoComponent} from '../../videos/video.component';\r\n\r\n@Component({\r\n    selector: 'app-album-form',\r\n    templateUrl: './album-form.component.html',\r\n    styleUrls: ['../album.component.scss']\r\n})\r\nexport class AlbumFormComponent extends BaseFormComponent implements OnInit {\r\n    @ViewChild('editPhotoModal') editPhotoModal: NhModalComponent;\r\n    @ViewChild(VideoComponent) videoComponent: VideoComponent;\r\n    album = new Album();\r\n    photo = new Photo();\r\n    translation = new AlbumTranslation();\r\n    photos: Photo[] = [];\r\n    albumTypes: any[] = [];\r\n    videos: Video[] = [];\r\n    title: string;\r\n    description: string;\r\n    currentPhotoId: number;\r\n\r\n    constructor(private fb: FormBuilder,\r\n                private router: Router,\r\n                private route: ActivatedRoute,\r\n                private toastr: ToastrService,\r\n                private utilService: UtilService,\r\n                private spinnerService: SpinnerService,\r\n                private photoService: PhotoService) {\r\n        super();\r\n        this.subscribers.params = this.route.params.subscribe(params => {\r\n            const id = params.id;\r\n            if (id) {\r\n                this.id = id;\r\n                this.isUpdate = true;\r\n                this.getDetail();\r\n            }\r\n        });\r\n        this.albumTypes = [\r\n            {id: 0, name: 'Photo'},\r\n            {id: 1, name: 'Video'}\r\n        ];\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.renderForm();\r\n    }\r\n\r\n    onThumbnailSelected(explorerItem: ExplorerItem) {\r\n        this.model.patchValue({\r\n            thumbnail: explorerItem.url\r\n        });\r\n    }\r\n\r\n    onAcceptSelectPhotos(explorerItems: ExplorerItem[]) {\r\n        explorerItems.map((explorerItem: ExplorerItem) => {\r\n            this.photos.push(new Photo(explorerItem.absoluteUrl));\r\n        });\r\n    }\r\n\r\n    onEditPhotoModalShown() {\r\n        this.utilService.focusElement('title');\r\n    }\r\n\r\n    addVideo() {\r\n        this.videoComponent.add();\r\n    }\r\n\r\n    save() {\r\n        const isValid = this.validateModel(true);\r\n        const isLanguageValid = this.validateLanguage();\r\n        if (isValid && isLanguageValid) {\r\n            this.album = this.model.value;\r\n            this.album.photos = this.photos;\r\n            this.album.videos = this.videos;\r\n            this.isSaving = true;\r\n            if (this.isUpdate) {\r\n                this.photoService.update(this.id, this.album)\r\n                    .pipe(finalize(() => this.isSaving = false))\r\n                    .subscribe((result: ActionResultViewModel) => {\r\n                        this.album.concurrencyStamp = result.data;\r\n                        this.toastr.success(result.message);\r\n                        this.isModified = true;\r\n                        this.resetModel();\r\n                        this.router.navigateByUrl('/gallery/album');\r\n                    });\r\n            } else {\r\n                this.photoService\r\n                    .insert(this.album)\r\n                    .pipe(finalize(() => this.isSaving = false))\r\n                    .subscribe((result: ActionResultViewModel) => {\r\n                        this.toastr.success(result.message);\r\n                        this.resetModel();\r\n                        if (!this.isCreateAnother) {\r\n                            this.router.navigateByUrl('/gallery/album');\r\n                        }\r\n                    });\r\n            }\r\n        }\r\n    }\r\n\r\n    editPhoto(photo: Photo) {\r\n        this.currentPhotoId = this.photos.indexOf(photo);\r\n        this.title = photo.title;\r\n        this.description = photo.description;\r\n        this.editPhotoModal.open();\r\n    }\r\n\r\n    removePhoto(photo: Photo) {\r\n        _.remove(this.photos, photo);\r\n    }\r\n\r\n    saveDescription() {\r\n        const photo = this.photos[this.currentPhotoId];\r\n        if (photo) {\r\n            photo.title = _.cloneDeep(this.title);\r\n            photo.description = _.cloneDeep(this.description);\r\n            this.description = '';\r\n            this.title = '';\r\n            this.currentPhotoId = null;\r\n            this.editPhotoModal.dismiss();\r\n        }\r\n    }\r\n\r\n    private getDetail() {\r\n        this.subscribers.photo = this.photoService.getDetail(this.id)\r\n            .subscribe((albumDetail: Album) => {\r\n                if (albumDetail) {\r\n                    this.model.patchValue({\r\n                        isActive: albumDetail.isActive,\r\n                        thumbnail: albumDetail.thumbnail,\r\n                        type: albumDetail.type,\r\n                        concurrencyStamp: albumDetail.concurrencyStamp,\r\n                    });\r\n\r\n                    if (albumDetail.translations && albumDetail.translations.length > 0) {\r\n                        this.translations.controls.forEach((model: FormGroup) => {\r\n                            const detail = _.find(albumDetail.translations, (translation: AlbumTranslation) => {\r\n                                return translation.languageId === model.value.languageId;\r\n                            });\r\n                            if (detail) {\r\n                                model.patchValue(detail);\r\n                            }\r\n                        });\r\n                    }\r\n                    this.photos = albumDetail.photos;\r\n                    this.videos = albumDetail.videos;\r\n                }\r\n            });\r\n    }\r\n\r\n    private resetModel() {\r\n        this.isUpdate = false;\r\n        this.model.patchValue({\r\n            isActive: true,\r\n            concurrencyStamp: ''\r\n        });\r\n        this.translations.controls.forEach((model: FormGroup) => {\r\n            model.patchValue({\r\n                title: '',\r\n                description: ''\r\n            });\r\n        });\r\n        this.photos = [];\r\n        this.clearFormError(this.formErrors);\r\n        this.clearFormError(this.translationFormErrors);\r\n    }\r\n\r\n    private renderForm() {\r\n        this.buildForm();\r\n        this.renderTranslationArray(this.buildFormLanguage);\r\n    }\r\n\r\n    private buildForm() {\r\n        this.formErrors = this.renderFormError(['type', 'thumbnail']);\r\n        this.validationMessages = this.renderFormErrorMessage([\r\n            {'type': ['required']},\r\n            {'thumbnail': ['maxlength']},\r\n        ]);\r\n        this.model = this.fb.group({\r\n            isActive: [this.album.isActive],\r\n            concurrencyStamp: [this.album.concurrencyStamp],\r\n            type: [this.album.type, [\r\n                Validators.required\r\n            ]],\r\n            thumbnail: [this.album.thumbnail, [\r\n                Validators.maxLength(500)\r\n            ]],\r\n            isPublic: [this.album.isPublic],\r\n            translations: this.fb.array([])\r\n        });\r\n        this.model.valueChanges.subscribe(() => this.validateModel(false));\r\n    }\r\n\r\n    private buildFormLanguage = (language: string) => {\r\n        this.translationFormErrors[language] = this.renderFormError(['title', 'description']);\r\n        this.translationValidationMessage[language] = this.renderFormErrorMessage([\r\n            {'title': ['required', 'maxlength', 'pattern']},\r\n            {'description': ['maxlength']},\r\n            {'seoLink': ['maxlength']},\r\n            {'metaTitle': ['maxlength']},\r\n            {'metaDescription': ['maxlength']},\r\n        ]);\r\n        const pageTranslationModel = this.fb.group({\r\n            languageId: [language],\r\n            title: [this.translation.title, [\r\n                Validators.required,\r\n                Validators.maxLength(256),\r\n                Validators.pattern(`.*\\\\S.*`)\r\n            ]],\r\n            description: [this.translation.description, [\r\n                Validators.maxLength(500)\r\n            ]],\r\n            seoLink: [this.translation.seoLink, [\r\n                Validators.maxLength(500)\r\n            ]],\r\n            metaTitle: [this.translation.metaTitle, [\r\n                Validators.maxLength(256)\r\n            ]],\r\n            metaDescription: [this.translation.metaDescription, [\r\n                Validators.maxLength(500)\r\n            ]],\r\n        });\r\n        pageTranslationModel.valueChanges.subscribe((data: any) => this.validateTranslation(false));\r\n        return pageTranslationModel;\r\n    };\r\n}\r\n","module.exports = \".list-photos {\\n  list-style: none;\\n  padding-left: 0;\\n  margin-bottom: 0;\\n  display: flex;\\n  flex-wrap: wrap;\\n  margin-top: 5px; }\\n  .list-photos li {\\n    flex: 1 33%;\\n    padding-right: 5px;\\n    padding-bottom: 5px;\\n    overflow: hidden; }\\n  .list-photos li:hover {\\n      cursor: pointer; }\\n  .list-photos li:hover div.photo-wrapper img {\\n        -webkit-transform: scale(1.1);\\n        transform: scale(1.1); }\\n  .list-photos li:hover div.photo-wrapper ul.actions {\\n        display: block; }\\n  .list-photos li div.photo-wrapper {\\n      border: 1px solid #ddd;\\n      position: relative;\\n      overflow: hidden; }\\n  .list-photos li div.photo-wrapper img {\\n        width: 100%;\\n        transition: all 500ms ease-in-out; }\\n  .list-photos li div.photo-wrapper ul.actions {\\n        display: none;\\n        list-style: none;\\n        padding-left: 0;\\n        margin-bottom: 0;\\n        position: absolute;\\n        top: 0;\\n        left: 0;\\n        width: 100%;\\n        height: 100%;\\n        background: rgba(0, 0, 0, 0.3);\\n        text-align: center;\\n        padding-top: 35%; }\\n  .list-photos li div.photo-wrapper ul.actions li {\\n          display: inline-block;\\n          margin-right: 5px; }\\n\"","import {Photo} from './photo.model';\r\nimport {Video} from '../../videos/models/video.model';\r\n\r\nexport class Album {\r\n    isActive: boolean;\r\n    isPublic: boolean;\r\n    concurrencyStamp: string;\r\n    thumbnail: string;\r\n    type: number;\r\n    translations: AlbumTranslation[];\r\n    photos: Photo[];\r\n    videos: Video[];\r\n\r\n    constructor() {\r\n        this.isActive = true;\r\n        this.type = 1;\r\n        this.isPublic = true;\r\n    }\r\n}\r\n\r\nexport class AlbumTranslation {\r\n    languageId: string;\r\n    title: string;\r\n    description: string;\r\n    seoLink: string;\r\n    metaTitle: string;\r\n    metaDescription: string;\r\n}\r\n","export class Photo {\r\n    id?: string;\r\n    concurrencyStamp?: string;\r\n    url: string;\r\n    title?: string;\r\n    description?: string;\r\n\r\n    constructor(url?: string) {\r\n        this.url = url;\r\n    }\r\n}\r\n","module.exports = \"<h1 class=\\\"page-title\\\">\\r\\n    <span class=\\\"cm-mgr-5\\\" i18n=\\\"@@listAlbumTitle\\\">Albums</span>\\r\\n    <small i18n=\\\"@@videoModuleTitle\\\">Gallery management</small>\\r\\n</h1>\\r\\n<form class=\\\"form-inline\\\" (ngSubmit)=\\\"search(1)\\\">\\r\\n    <div class=\\\"form-group cm-mgr-5\\\">\\r\\n        <input type=\\\"text\\\" class=\\\"form-control\\\" i18n-placeholder=\\\"@@searchPlaceHolder\\\"\\r\\n               placeholder=\\\"Enter keyword for search please.\\\"\\r\\n               name=\\\"searchInput\\\" [(ngModel)]=\\\"keyword\\\">\\r\\n    </div>\\r\\n    <div class=\\\"form-group cm-mgr-5\\\">\\r\\n        <nh-select\\r\\n                [data]=\\\"[{id: false, name: 'InActive'},{id: true, name: 'Active'}]\\\"\\r\\n                i18n=\\\"@@allStatus\\\"\\r\\n                i18n-title\\r\\n                title=\\\"-- All status --\\\"\\r\\n                [(ngModel)]=\\\"isActive\\\"\\r\\n                name=\\\"isActive\\\"\\r\\n                (onSelectItem)=\\\"search(1)\\\"></nh-select>\\r\\n    </div>\\r\\n    <div class=\\\"form-group cm-mgr-5\\\">\\r\\n        <nh-select\\r\\n                [data]=\\\"[{id: 0, name: 'Photo'}, {id: 1, name: 'Video'}]\\\"\\r\\n                i18n=\\\"@@allAlbumType\\\"\\r\\n                i18n-title\\r\\n                title=\\\"-- All album type --\\\"\\r\\n                [(ngModel)]=\\\"type\\\"\\r\\n                name=\\\"type\\\"\\r\\n                (onSelectItem)=\\\"search(1)\\\"></nh-select>\\r\\n    </div>\\r\\n    <div class=\\\"form-group cm-mgr-5\\\">\\r\\n        <button class=\\\"btn blue\\\">\\r\\n            <i class=\\\"fa fa-search\\\" *ngIf=\\\"!isSearching\\\"></i>\\r\\n            <i class=\\\"fa fa-spinner fa-spin\\\" *ngIf=\\\"isSearching\\\"></i>\\r\\n        </button>\\r\\n    </div>\\r\\n    <div class=\\\"form-group cm-mgl-5\\\">\\r\\n        <button class=\\\"btn default\\\" type=\\\"button\\\" (click)=\\\"resetFormSearch()\\\">\\r\\n            <i class=\\\"fa fa-refresh\\\"></i>\\r\\n        </button>\\r\\n    </div>\\r\\n    <div class=\\\"form-group pull-right\\\" *ngIf=\\\"permission.add\\\">\\r\\n        <a routerLink=\\\"/gallery/album/add\\\" type=\\\"button\\\" class=\\\"btn blue\\\" i18n=\\\"@@addAlbum\\\">\\r\\n            Add\\r\\n        </a>\\r\\n    </div>\\r\\n</form>\\r\\n\\r\\n<table class=\\\"table table-striped table-hover\\\">\\r\\n    <thead>\\r\\n    <tr>\\r\\n        <th class=\\\"center middle w50 visible-lg\\\" i18n=\\\"@@no\\\">No</th>\\r\\n        <th class=\\\"middle w100\\\" i18n=\\\"@@albumName\\\">Album title</th>\\r\\n        <th class=\\\"middle w150\\\" i18n=\\\"@@description\\\">Description</th>\\r\\n        <th class=\\\"center middle w100\\\" i18n=\\\"@@type\\\">Type</th>\\r\\n        <th class=\\\"center middle w50\\\" i18n=\\\"@@status\\\">Status</th>\\r\\n        <th class=\\\"center middle w100\\\" i18n=\\\"@@actions\\\">Actions</th>\\r\\n    </tr>\\r\\n    </thead>\\r\\n    <tbody>\\r\\n    <tr *ngFor=\\\"let item of listItems$ | async; let i = index\\\">\\r\\n        <td class=\\\"center middle visible-lg\\\">{{ (currentPage - 1) * pageSize + i + 1 }}</td>\\r\\n        <td class=\\\"middle hidden-sm hidden-xs\\\">\\r\\n            <div class=\\\"media\\\">\\r\\n                <div class=\\\"media-left\\\">\\r\\n                    <a href=\\\"javascript://\\\">\\r\\n                        <img ghmImage class=\\\"media-object w50\\\" [src]=\\\"item.thumbnail\\\" alt=\\\"{{ item.title }}\\\">\\r\\n                    </a>\\r\\n                </div>\\r\\n                <div class=\\\"media-body\\\">\\r\\n                    <h4 class=\\\"media-heading cm-mgt-5 cursor\\\">{{ item.title }}</h4>\\r\\n                    <i>{{ item.description }}</i>\\r\\n                </div>\\r\\n            </div>\\r\\n        </td>\\r\\n        <td>{{ item.description }}</td>\\r\\n        <td class=\\\"center middle\\\">\\r\\n            <span class=\\\"badge\\\"\\r\\n                  [class.badge-primary]=\\\"item.type === 0\\\"\\r\\n                  [class.badge-danger]=\\\"item.type === 1\\\">{item.type, select, 0 {Photo} 1 {Video}}</span>\\r\\n        </td>\\r\\n        <td class=\\\"center middle\\\">\\r\\n                  <span class=\\\"badge\\\"\\r\\n                        [class.badge-danger]=\\\"!item.isActive\\\"\\r\\n                        [class.badge-success]=\\\"item.isActive\\\">\\r\\n                    {item.isActive, select, 0 {InActive} 1 {Activated}}\\r\\n                </span>\\r\\n        </td>\\r\\n        <td class=\\\"middle center\\\">\\r\\n            <nh-dropdown>\\r\\n                <button type=\\\"button\\\" class=\\\"btn btn-sm btn-light btn-no-background no-border\\\" matTooltip=\\\"Menu\\\">\\r\\n                    <mat-icon>more_horiz</mat-icon>\\r\\n                </button>\\r\\n                <ul class=\\\"nh-dropdown-menu right\\\">\\r\\n                    <li *ngIf=\\\"permission.edit\\\"\\r\\n                        (click)=\\\"edit(item)\\\">\\r\\n                        <a routerLink=\\\"/gallery/album/edit/{{ item.id }}\\\">\\r\\n                            <i class=\\\"fa fa-edit\\\"></i>\\r\\n                            <span class=\\\"cm-mgl-5\\\" i18n=\\\"@@edit\\\">Edit</span>\\r\\n                        </a>\\r\\n                    </li>\\r\\n                    <li *ngIf=\\\"permission.delete\\\"\\r\\n                        (click)=\\\"edit(item)\\\">\\r\\n                        <a href=\\\"javascript://\\\"\\r\\n                           *ngIf=\\\"permission.delete\\\"\\r\\n                           [swal]=\\\"confirmDelete\\\"\\r\\n                           (confirm)=\\\"delete(item.id)\\\">\\r\\n                            <i class=\\\"fa fa-trash-o\\\"></i>\\r\\n                            <span class=\\\"cm-mgl-5\\\" i18n=\\\"@@delete\\\">Delete</span>\\r\\n                        </a>\\r\\n                    </li>\\r\\n                </ul><!-- END: nh-dropdown-menu -->\\r\\n            </nh-dropdown>\\r\\n        </td>\\r\\n    </tr>\\r\\n    </tbody>\\r\\n</table>\\r\\n<div class=\\\"col-sm-12\\\">\\r\\n    <ghm-paging [totalRows]=\\\"totalRows\\\" [pageSize]=\\\"pageSize\\\" [currentPage]=\\\"currentPage\\\" [pageShow]=\\\"6\\\"\\r\\n                (pageClick)=\\\"search($event)\\\"\\r\\n                [isDisabled]=\\\"isSearching\\\" i18n-pageName=\\\"@@video\\\" [pageName]=\\\"'video'\\\"></ghm-paging>\\r\\n</div>\\r\\n\\r\\n<app-video-form (onSaveSuccess)=\\\"search(1)\\\"></app-video-form>\\r\\n<app-video-detail></app-video-detail>\\r\\n\\r\\n<swal\\r\\n        #confirmDelete\\r\\n        i18n-title=\\\"@@confirmTitleDeleteAlbum\\\"\\r\\n        i18n-text=\\\"@@confirmTextDeleteAlbum\\\"\\r\\n        title=\\\"Are you sure for delete this album?\\\"\\r\\n        text=\\\"You can't recover this album after delete.\\\"\\r\\n        type=\\\"question\\\"\\r\\n        i18n-confirmButtonText=\\\"@@accept\\\"\\r\\n        i18n-cancelButtonText=\\\"@@cancel\\\"\\r\\n        confirmButtonText=\\\"Accept\\\"\\r\\n        cancelButtonText=\\\"Cancel\\\"\\r\\n        [showCancelButton]=\\\"true\\\"\\r\\n        [focusCancel]=\\\"true\\\">\\r\\n</swal>\\r\\n\\r\\n\"","import { AfterViewInit, ChangeDetectorRef, Component, HostListener, Inject, OnInit, ViewChild } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { finalize, map } from 'rxjs/operators';\r\nimport { Location, LocationStrategy, PathLocationStrategy } from '@angular/common';\r\nimport { HelperService } from '../../../shareds/services/helper.service';\r\nimport { BaseListComponent } from '../../../base-list.component';\r\nimport { APP_CONFIG, IAppConfig } from '../../../configs/app.config';\r\nimport { IPageId, PAGE_ID } from '../../../configs/page-id.config';\r\nimport { UtilService } from '../../../shareds/services/util.service';\r\nimport { SearchResultViewModel } from '../../../shareds/view-models/search-result.viewmodel';\r\nimport { FilterLink } from '../../../shareds/models/filter-link.model';\r\nimport { ActionResultViewModel } from '../../../shareds/view-models/action-result.viewmodel';\r\nimport { PhotoService } from './photo.service';\r\nimport { AlbumViewModel } from './view-models/album.viewmodel';\r\nimport { ToastrService } from 'ngx-toastr';\r\n\r\n@Component({\r\n    selector: 'app-photo',\r\n    templateUrl: './photo.component.html',\r\n    styleUrls: ['./album.component.scss'],\r\n    providers: [\r\n        Location, {provide: LocationStrategy, useClass: PathLocationStrategy},\r\n        HelperService]\r\n})\r\n\r\nexport class PhotoComponent extends BaseListComponent<AlbumViewModel> implements OnInit, AfterViewInit {\r\n    isActive: boolean;\r\n    type;\r\n    height;\r\n\r\n    constructor(@Inject(APP_CONFIG) public appConfig: IAppConfig,\r\n                @Inject(PAGE_ID) public pageId: IPageId,\r\n                private route: ActivatedRoute,\r\n                private utilService: UtilService,\r\n                private location: Location,\r\n                private toastr: ToastrService,\r\n                private cdr: ChangeDetectorRef,\r\n                private photoService: PhotoService) {\r\n        super();\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.appService.setupPage(this.pageId.WEBSITE, this.pageId.ALBUM, 'Thư viện ảnh',\r\n            'Thư viện ảnh');\r\n        this.listItems$ = this.route.data.pipe(map((result: { data: SearchResultViewModel<AlbumViewModel> }) => {\r\n            const data = result.data;\r\n            this.totalRows = data.totalRows;\r\n            return data.items;\r\n        }));\r\n\r\n        this.subscribers.queryParams = this.route.queryParams.subscribe(params => {\r\n            this.keyword = params.keyword ? params.keyword : '';\r\n            this.isActive = params.isActive ? Boolean(params.isActive) : null;\r\n            this.currentPage = params.page ? parseInt(params.page) : 1;\r\n            this.pageSize = params.pageSize ? parseInt(params.pageSize) : this.appConfig.PAGE_SIZE;\r\n        });\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        // this.height = window.innerHeight - 270;\r\n        this.cdr.detectChanges();\r\n    }\r\n\r\n    addAlbum() {\r\n\r\n    }\r\n\r\n    search(currentPage: number) {\r\n        this.currentPage = currentPage;\r\n        this.isSearching = true;\r\n        this.renderLink();\r\n        this.listItems$ = this.photoService.search(this.keyword, this.isActive, this.type, this.currentPage, this.pageSize)\r\n            .pipe(finalize(() => this.isSearching = false),\r\n                map((result: SearchResultViewModel<AlbumViewModel>) => {\r\n                    this.totalRows = result.totalRows;\r\n                    return result.items;\r\n                }));\r\n    }\r\n\r\n    resetFormSearch() {\r\n        this.isActive = null;\r\n        this.keyword = '';\r\n        this.type = '';\r\n        this.search(1);\r\n    }\r\n\r\n    edit(id: string) {\r\n        // this.videoFormComponent.edit(id);\r\n    }\r\n\r\n    detail(videoLinkId: string) {\r\n        // this.videoDetailComponent.getDetail(videoLinkId);\r\n    }\r\n\r\n    delete(id: string) {\r\n        this.photoService.delete(id)\r\n            .subscribe((result: ActionResultViewModel) => {\r\n                this.toastr.success(result.message);\r\n                this.search(this.currentPage);\r\n            });\r\n    }\r\n\r\n    private renderLink() {\r\n        const path = '/gallery/album';\r\n        const query = this.utilService.renderLocationFilter([\r\n            new FilterLink('keyword', this.keyword),\r\n            new FilterLink('type', this.type),\r\n            new FilterLink('isActive', this.isActive),\r\n            new FilterLink('page', this.currentPage),\r\n            new FilterLink('pageSize', this.pageSize)\r\n        ]);\r\n        this.location.go(path, query);\r\n    }\r\n}\r\n","import { Inject, Injectable } from '@angular/core';\r\nimport { SpinnerService } from '../../../core/spinner/spinner.service';\r\nimport { APP_CONFIG, IAppConfig } from '../../../configs/app.config';\r\nimport { HttpClient, HttpParams } from '@angular/common/http';\r\nimport { Observable } from 'rxjs/internal/Observable';\r\nimport { SuggestionViewModel } from '../../../shareds/view-models/SuggestionViewModel';\r\nimport { SearchResultViewModel } from '../../../shareds/view-models/search-result.viewmodel';\r\nimport { finalize, map } from 'rxjs/operators';\r\nimport { AlbumViewModel } from './view-models/album.viewmodel';\r\nimport { Album } from './models/album.model';\r\nimport { ActionResultViewModel } from '../../../shareds/view-models/action-result.viewmodel';\r\nimport { ActivatedRouteSnapshot, Resolve } from '@angular/router';\r\n\r\n@Injectable()\r\nexport class PhotoService implements Resolve<any> {\r\n    url = 'api/v1/website/albums';\r\n\r\n    constructor(@Inject(APP_CONFIG) private appConfig: IAppConfig,\r\n                private spinnerService: SpinnerService,\r\n                private http: HttpClient) {\r\n        this.url = `${this.appConfig.API_GATEWAY_URL}${this.url}`;\r\n    }\r\n\r\n    resolve(route: ActivatedRouteSnapshot, state: Object) {\r\n        const params = route.queryParams;\r\n        return this.search(params.keyword, params.isActive, params.page, params.pageSize);\r\n    }\r\n\r\n    search(keyword: string, isActive?: boolean, type?: number, page = 1,\r\n           pageSize = this.appConfig.PAGE_SIZE): Observable<SearchResultViewModel<AlbumViewModel>> {\r\n        return this.http.get(`${this.url}`, {\r\n            params: new HttpParams()\r\n                .set('keyword', keyword ? keyword : '')\r\n                .set('isActive', isActive != null && isActive !== undefined ? isActive.toString() : '')\r\n                .set('type', type != null && type !== undefined ? type.toString() : '')\r\n                .set('page', page != null && page !== undefined ? page.toString() : '')\r\n                .set('pageSize', pageSize != null && pageSize !== undefined ? pageSize.toString() : '')\r\n        }) as Observable<SearchResultViewModel<AlbumViewModel>>;\r\n    }\r\n\r\n    insert(album: Album): Observable<ActionResultViewModel> {\r\n        this.spinnerService.show();\r\n        return this.http.post(this.url, album)\r\n            .pipe(finalize(() => this.spinnerService.hide())) as Observable<ActionResultViewModel>;\r\n    }\r\n\r\n    update(id: string, album: Album): Observable<ActionResultViewModel> {\r\n        this.spinnerService.show();\r\n        return this.http.post(`${this.url}/${id}`, album)\r\n            .pipe(finalize(() => this.spinnerService.hide())) as Observable<ActionResultViewModel>;\r\n    }\r\n\r\n    delete(id: string): Observable<ActionResultViewModel> {\r\n        this.spinnerService.show();\r\n        return this.http.post(`${this.url}/delete/${id}`, '' )\r\n            .pipe(finalize(() => this.spinnerService.hide())) as Observable<ActionResultViewModel>;\r\n    }\r\n\r\n    suggestion(keyword: string, paeg = 1, pageSize = this.appConfig.PAGE_SIZE): Observable<SuggestionViewModel<string>[]> {\r\n        return this.http\r\n            .get(`${this.url}/suggestions`)\r\n            .pipe(map((result: SearchResultViewModel<SuggestionViewModel<string>>) => {\r\n                return result.items;\r\n            })) as Observable<SuggestionViewModel<string>[]>;\r\n    }\r\n\r\n    getDetail(id: string): Observable<Album> {\r\n        this.spinnerService.show();\r\n        return this.http\r\n            .get(`${this.url}/${id}`)\r\n            .pipe(\r\n                finalize(() => this.spinnerService.hide()),\r\n                map((result: ActionResultViewModel<Album>) => result.data)\r\n            ) as Observable<Album>;\r\n    }\r\n}\r\n","import { Tag } from '../../../../shareds/components/nh-tags/tag.model';\r\n\r\nexport class VideoTranslation {\r\n    videoId: string;\r\n    languageId: string;\r\n    title: string;\r\n    description: string;\r\n    listTag: Tag[];\r\n}\r\n","import {VideoTranslation} from './video-translation';\r\nimport { Tag } from '../../../../shareds/components/nh-tags/tag.model';\r\n\r\nexport const VideoType = {\r\n    youtube: 0,\r\n    vimeo: 1,\r\n    pinterest: 2,\r\n    updateServer: 3\r\n}\r\n\r\nexport class Video {\r\n    id: string;\r\n    videoLinkId: string;\r\n    url: string;\r\n    thumbnail: string;\r\n    isActive: boolean;\r\n    order: number;\r\n    type: number;\r\n    isHomePage: boolean;\r\n    concurrencyStamp: string;\r\n    translations: VideoTranslation[];\r\n\r\n    constructor(videoLinkId?: string, title?: string, url?: string,\r\n                description?: string, thumbnail?: string, isActive?: boolean, order?: number, type?: number, isHomePage?: boolean) {\r\n        this.videoLinkId = videoLinkId;\r\n        this.url = url;\r\n        this.thumbnail = thumbnail;\r\n        this.isActive = isActive ? isActive : false;\r\n        this.order = order ? order : 1;\r\n        this.type = type ? type : VideoType.youtube;\r\n        this.isHomePage = isHomePage ? isHomePage : false;\r\n        this.concurrencyStamp = '';\r\n        this.translations = [];\r\n    }\r\n}\r\n","module.exports = \"<nh-modal #videoDetailModal [size]=\\\"'lg'\\\"\\r\\n(hidden)=\\\"onHiddenModal()\\\">\\r\\n    <nh-modal-header class=\\\"uppercase\\\">\\r\\n        <span i18n=\\\"@@videoDetail\\\">Video detail</span>\\r\\n    </nh-modal-header>\\r\\n    <nh-modal-content class=\\\"cm-pd-0\\\">\\r\\n        <div class=\\\"middle center \\\">\\r\\n        <iframe id=\\\"iFrame_video\\\" (load)=\\\"onLoadFunc()\\\" width=\\\"100%\\\" height=\\\"450\\\" [src]=\\\"url | safe\\\"\\r\\n                frameborder=\\\"0\\\" allowfullscreen=\\\"\\\"></iframe>\\r\\n        </div>\\r\\n    </nh-modal-content>\\r\\n    <nh-modal-footer>\\r\\n        <div class=\\\"pull-right cm-mgb-10\\\">\\r\\n            <button class=\\\"btn default\\\" type=\\\"button\\\" (click)=\\\"closeModal()\\\" i18n=\\\"@@close\\\">\\r\\n                Close\\r\\n            </button>\\r\\n        </div>\\r\\n    </nh-modal-footer>\\r\\n</nh-modal>\\r\\n\"","import {Component, ElementRef, ViewChild} from '@angular/core';\r\nimport {VideoService} from '../video.service';\r\nimport {NhModalComponent} from '../../../../shareds/components/nh-modal/nh-modal.component';\r\nimport {VideoSearchViewModel} from '../viewmodels/video-search.viewmodel';\r\nimport {VideoType} from '../models/video.model';\r\n\r\n@Component({\r\n    selector: 'app-video-detail',\r\n    templateUrl: './video-detail.component.html',\r\n    providers: [VideoService]\r\n})\r\n\r\nexport class VideoDetailComponent {\r\n    @ViewChild('videoDetailModal') videoDetail: NhModalComponent;\r\n    url;\r\n\r\n    constructor(private videoService: VideoService,\r\n                private elementRef: ElementRef) {\r\n    }\r\n\r\n    onHiddenModal() {\r\n    }\r\n\r\n    getDetail(video: VideoSearchViewModel) {\r\n        if (video) {\r\n            if (video.type === VideoType.youtube) {\r\n                this.url = `https://www.youtube.com/embed/${video.videoLinkId}?enablejsapi=1&amp;autoplay=1&amp;rel=0`;\r\n            }\r\n            if (video.type === VideoType.vimeo) {\r\n                this.url = `https://player.vimeo.com/video/${video.videoLinkId}?color=0c88dd&title=0&byline=0&portrait=0&autoplay=1`;\r\n            }\r\n\r\n            if (video.type === VideoType.updateServer) {\r\n                this.url = video.url;\r\n            }\r\n            this.videoDetail.open();\r\n        }\r\n    }\r\n\r\n    onLoadFunc() {\r\n        console.log(this.url);\r\n    }\r\n\r\n    closeModal() {\r\n        this.videoDetail.dismiss();\r\n    }\r\n}\r\n","module.exports = \"<nh-modal #videoFormModal size=\\\"lg\\\"\\r\\n          (shown)=\\\"onFormModalShown()\\\">\\r\\n    <nh-modal-header [showCloseButton]=\\\"true\\\" class=\\\"uppercase\\\">\\r\\n        <i class=\\\"fa fa-film\\\"></i> {isUpdate, select, 0 {Add new video} 1 {Update video}}\\r\\n    </nh-modal-header>\\r\\n    <form action=\\\"\\\" class=\\\"form-horizontal\\\" [formGroup]=\\\"model\\\" (ngSubmit)=\\\"save()\\\">\\r\\n        <nh-modal-content>\\r\\n            <div class=\\\"tab-content\\\" formArrayName=\\\"translations\\\">\\r\\n                <div class=\\\"form-group\\\" *ngIf=\\\"languages && languages.length > 1\\\">\\r\\n                    <label i18n-ghmLabel=\\\"@@language\\\" ghmLabel=\\\"Language\\\"\\r\\n                           class=\\\"col-sm-3 control-label\\\"></label>\\r\\n                    <div class=\\\"col-sm-9\\\">\\r\\n                        <nh-select [data]=\\\"languages\\\"\\r\\n                                   i18n-title=\\\"@@pleaseSelectLanguage\\\"\\r\\n                                   title=\\\"-- Please select language --\\\"\\r\\n                                   name=\\\"language\\\"\\r\\n                                   [(value)]=\\\"currentLanguage\\\"\\r\\n                                   (onSelectItem)=\\\"currentLanguage = $event.id\\\"></nh-select>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"form-group\\\" [formGroup]=\\\"model\\\">\\r\\n                    <label i18n-ghmLabel=\\\"@@typeVideo\\\" class=\\\"col-sm-3 control-label\\\" ghmLabel=\\\"Video Type\\\"\\r\\n                           [required]=\\\"true\\\"></label>\\r\\n                    <div class=\\\"col-sm-9\\\" [class.has-error]=\\\"formErrors?.type\\\">\\r\\n                        <nh-select\\r\\n                                i18n-title=\\\"@@videoType\\\"\\r\\n                                title=\\\"-- Please select video type --\\\"\\r\\n                                [data]=\\\"videoTypes\\\"\\r\\n                                formControlName=\\\"type\\\"\\r\\n                        ></nh-select>\\r\\n                        <span class=\\\"help-block\\\">{ formErrors?.type, select, required {Type is required} isValid {Type is number}}</span>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"form-group\\\" [formGroup]=\\\"model\\\">\\r\\n                    <label i18n-ghmLabel=\\\"@@url\\\" ghmLabel=\\\"Url\\\" class=\\\"col-sm-3 control-label\\\"\\r\\n                           [required]=\\\"true\\\"></label>\\r\\n                    <div class=\\\"col-sm-9\\\" [class.has-error]=\\\"formErrors.url\\\">\\r\\n                        <div class=\\\"input-group\\\">\\r\\n                            <input type=\\\"text\\\" class=\\\"form-control\\\" i18n-placeholder=\\\"@@urlPlaceHolder\\\"\\r\\n                                   placeholder=\\\"Please enter url\\\"\\r\\n                                   formControlName=\\\"url\\\"\\r\\n                                   id=\\\"{{'url ' + currentLanguage}}\\\"\\r\\n                                   (change)=\\\"changeInput($event)\\\"\\r\\n                                   (paste)=\\\"changeUrl($event)\\\"/>\\r\\n                            <span class=\\\"input-group-btn\\\">\\r\\n                               <button class=\\\"btn blue\\\" type=\\\"button\\\" (click)=\\\"genderVideo(model.value.url)\\\">\\r\\n                                <i class=\\\"fa fa-eye\\\"></i></button>\\r\\n                            </span>\\r\\n                        </div>\\r\\n                        <span class=\\\"help-block\\\">{ formErrors?.url, select , required {Url is required}\\r\\n                            maxLength {Url  not allowed over 500 characters} pattern {Url is inValid}}</span>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"form-group\\\"\\r\\n                     [hidden]=\\\"translation.value.languageId !== currentLanguage\\\"\\r\\n                     *ngFor=\\\"let translation of translations.controls; index as i\\\"\\r\\n                     [formGroupName]=\\\"i\\\"\\r\\n                     [class.has-error]=\\\"translationFormErrors[translation.value.languageId]?.title\\\">\\r\\n                    <label i18n-ghmLabel=\\\"@@title\\\" ghmLabel=\\\"Title\\\" class=\\\"col-sm-3 control-label\\\"\\r\\n                           [required]=\\\"true\\\"></label>\\r\\n                    <div class=\\\"col-sm-9\\\">\\r\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" i18n-placeholder=\\\"@@titleVideoPlaceHolder\\\"\\r\\n                               placeholder=\\\"Please enter title video \\\"\\r\\n                               formControlName=\\\"title\\\"/>\\r\\n                        <span class=\\\"help-block\\\">{translationFormErrors[translation.value.languageId]?.title,\\r\\n                                                    select,\\r\\n                                                    required {Title is required}\\r\\n                                                    maxlength {Title not allowed\\r\\n                                                    over 256 characters pattern}\\r\\n                                                    pattern {Title is inValid}}</span>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"form-group\\\" [formGroup]=\\\"model\\\">\\r\\n                    <label i18n-ghmLabel=\\\"@@thumbnail\\\" ghmLabel=\\\"Thumbnail\\\" class=\\\"col-sm-3 control-label\\\"></label>\\r\\n                    <div class=\\\"col-sm-3\\\" [class.has-error]=\\\"formErrors.thumbnail\\\">\\r\\n                        <div class=\\\"fileinput fileinput-new\\\">\\r\\n                            <div class=\\\"fileinput-new thumbnail\\\">\\r\\n                                <nh-image\\r\\n                                        [cssClass]=\\\"'w150 cm-mgb-5'\\\"\\r\\n                                        [errorImageUrl]=\\\"'/assets/images/no-image.png'\\\"\\r\\n                                        [value]=\\\"model.value.thumbnail\\\">\\r\\n                                </nh-image>\\r\\n                                <span class=\\\"help-block\\\">{formErrors?.thumbnail, select , maxLength {Thumbnail  not allowed over 500 characters}}</span>\\r\\n                                <ghm-file-explorer i18n-buttonText=\\\"@@selectThumbnail\\\"\\r\\n                                                   [buttonText]=\\\"'Select thumbnail'\\\"\\r\\n                                                   (itemSelected)=\\\"onSelectThumbnail($event)\\\"></ghm-file-explorer>\\r\\n                            </div>\\r\\n                        </div>\\r\\n                    </div>\\r\\n                    <label i18n-ghmLabel=\\\"@@videoLinkId\\\" ghmLabel=\\\"VideoId\\\" class=\\\"col-sm-3 control-label\\\"\\r\\n                           *ngIf=\\\"videoType !== VideoType.updateServer\\\"></label>\\r\\n                    <div class=\\\"col-sm-3\\\" [class.has-error]=\\\"formErrors.videoLinkId\\\"\\r\\n                         *ngIf=\\\"videoType !== VideoType.updateServer\\\">\\r\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" i18n-placeholder=\\\"@@videoLinkId\\\" placeholder=\\\"VideoId\\\"\\r\\n                               formControlName=\\\"videoLinkId\\\" disabled=\\\"true\\\"/>\\r\\n                        <span class=\\\"help-block\\\">{formErrors?.videoLinkId ,select , maxLength {VideoLinkId  not allowed over 100 characters }}</span>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"form-group\\\" [hidden]=\\\"translation.value.languageId !== currentLanguage\\\"\\r\\n                     *ngFor=\\\"let translation of translations.controls; index as i\\\"\\r\\n                     [formGroupName]=\\\"i\\\"\\r\\n                     [class.has-error]=\\\"translationFormErrors[translation.value.languageId]?.description\\\">\\r\\n                    <label i18n-ghmLabel=\\\"@@description\\\" ghmLabel=\\\"Description\\\" class=\\\"col-sm-3 control-label\\\"></label>\\r\\n                    <div class=\\\"col-sm-9\\\">\\r\\n                    <textarea type=\\\"text\\\" class=\\\"form-control\\\" i18n-placeholder=\\\"@@description\\\"\\r\\n                              placeholder=\\\"Please enter description\\\"\\r\\n                              formControlName=\\\"description\\\" rows=\\\"3\\\"></textarea>\\r\\n                        <span class=\\\"help-block\\\">{ translationFormErrors[translation.value.languageId]?.description, select, maxlength {Description not allowed\\r\\n                                                    over 500 characters} }\\r\\n                        </span>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"form-group\\\" [formGroup]=\\\"model\\\">\\r\\n                    <label i18n-ghmLabel=\\\"@@order\\\" class=\\\"col-sm-3 control-label\\\" ghmLabel=\\\"Order\\\"></label>\\r\\n                    <div class=\\\"col-sm-3\\\" [class.has-error]=\\\"formErrors.order\\\">\\r\\n                        <input type=\\\"number\\\" class=\\\"form-control\\\" i18n-placeholder=\\\"@@orderPlaceHolder\\\"\\r\\n                               placeholder=\\\"Please enter order\\\"\\r\\n                               formControlName=\\\"order\\\">\\r\\n                        <span class=\\\"help-block\\\">{formErrors?.order, select, isValid {Order is inValid}}</span>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"form-group\\\" [formGroup]=\\\"model\\\">\\r\\n                    <div class=\\\"col-sm-8 col-sm-offset-3\\\">\\r\\n                        <mat-checkbox formControlName=\\\"isActive\\\" color=\\\"primary\\\">\\r\\n                            {model.value.isActive, select, 0 {InActive} 1 {Active}}\\r\\n                        </mat-checkbox>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"form-group\\\" [formGroup]=\\\"model\\\">\\r\\n                    <div class=\\\"col-sm-8 col-sm-offset-3\\\">\\r\\n                        <mat-checkbox formControlName=\\\"isHomePage\\\" color=\\\"primary\\\">\\r\\n                            {model.value.isHomePage, select, 0 {Not in home page} 1 {In home page}}\\r\\n                        </mat-checkbox>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </nh-modal-content>\\r\\n        <nh-modal-footer>\\r\\n            <div class=\\\"pull-right cm-mgb-10\\\">\\r\\n                <mat-checkbox [checked]=\\\"isCreateAnother\\\" (change)=\\\"isCreateAnother = !isCreateAnother\\\"\\r\\n                              *ngIf=\\\"!isUpdate\\\"\\r\\n                              i18n=\\\"@@isCreateAnother\\\"\\r\\n                              class=\\\"cm-mgr-5\\\"\\r\\n                              color=\\\"primary\\\">\\r\\n                    Create another\\r\\n                </mat-checkbox>\\r\\n                <button class=\\\"btn blue cm-mgr-5\\\" type=\\\"button\\\"\\r\\n                        (click)=\\\"save()\\\"\\r\\n                        [disabled]=\\\"isSaving\\\" i18n=\\\"@@save\\\">\\r\\n                    Save\\r\\n                </button>\\r\\n                <button class=\\\"btn default\\\" type=\\\"button\\\" (click)=\\\"closeModal()\\\"\\r\\n                        [disabled]=\\\"isSaving || formErrors.length > 0\\\" i18n=\\\"@@cancel\\\">\\r\\n                    Cancel\\r\\n                </button>\\r\\n            </div>\\r\\n        </nh-modal-footer>\\r\\n    </form>\\r\\n</nh-modal>\\r\\n\"","import {Component, EventEmitter, Inject, OnInit, Output, ViewChild} from '@angular/core';\r\nimport {ToastrService} from 'ngx-toastr';\r\nimport {Video, VideoType} from '../models/video.model';\r\nimport {VideoService} from '../video.service';\r\nimport {finalize, map} from 'rxjs/operators';\r\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\r\nimport {VideoDetailViewModel} from '../viewmodels/video-detail.viewmodel';\r\nimport * as _ from 'lodash';\r\nimport {VideoTranslation} from '../models/video-translation';\r\nimport {TagService} from '../../../../shareds/components/nh-tags/tag.service';\r\nimport {BaseFormComponent} from '../../../../base-form.component';\r\nimport {NhModalComponent} from '../../../../shareds/components/nh-modal/nh-modal.component';\r\nimport {TagType} from '../../../../shareds/components/nh-tags/tag.model';\r\nimport {APP_CONFIG, IAppConfig} from '../../../../configs/app.config';\r\nimport {UtilService} from '../../../../shareds/services/util.service';\r\nimport {ActionResultViewModel} from '../../../../shareds/view-models/action-result.viewmodel';\r\nimport {ExplorerItem} from '../../../../shareds/components/ghm-file-explorer/explorer-item.model';\r\nimport {HttpClient} from '@angular/common/http';\r\nimport {ajax} from 'rxjs/internal/observable/dom/ajax';\r\n\r\n@Component({\r\n    selector: 'app-video-form',\r\n    templateUrl: './video-form.component.html',\r\n    providers: [VideoService, TagService]\r\n})\r\n\r\nexport class VideoFormComponent extends BaseFormComponent implements OnInit {\r\n    @ViewChild('videoFormModal') videoFormModal: NhModalComponent;\r\n    video = new Video();\r\n    videoLinkId;\r\n    thumbnail;\r\n    videoType;\r\n    VideoType = VideoType;\r\n    tagType = TagType;\r\n    listTag = [];\r\n    modelTranslation = new VideoTranslation();\r\n    videoTypes = [{\r\n        id: VideoType.youtube,\r\n        name: 'Youtube'\r\n    }, {\r\n        id: VideoType.vimeo,\r\n        name: 'Vimeo'\r\n    }, {\r\n        id: VideoType.pinterest,\r\n        name: 'Pinterest',\r\n    }, {\r\n        id: VideoType.updateServer,\r\n        name: 'UpdateServer'\r\n    }];\r\n    currentUser;\r\n\r\n    constructor(@Inject(APP_CONFIG) public appConfig: IAppConfig,\r\n                private fb: FormBuilder,\r\n                private toastr: ToastrService,\r\n                private http: HttpClient,\r\n                private utilService: UtilService,\r\n                private tagService: TagService,\r\n                private videoService: VideoService) {\r\n        super();\r\n        this.currentUser = this.appService.currentUser;\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.renderForm();\r\n    }\r\n\r\n    onFormModalShown() {\r\n        this.isModified = false;\r\n    }\r\n\r\n    add() {\r\n        this.utilService.focusElement('url ' + this.currentLanguage);\r\n        this.isUpdate = false;\r\n        this.videoType = VideoType.youtube;\r\n        this.renderForm();\r\n        this.resetForm();\r\n        this.videoFormModal.open();\r\n    }\r\n\r\n    edit(video: Video) {\r\n        this.utilService.focusElement('url ' + this.currentLanguage);\r\n        this.isUpdate = true;\r\n        this.id = video.id;\r\n        this.getDetail(video);\r\n        this.videoFormModal.open();\r\n    }\r\n\r\n    save() {\r\n        const isValid = this.utilService.onValueChanged(this.model, this.formErrors, this.validationMessages, true);\r\n        const isLanguageValid = this.validateLanguage();\r\n        if (isValid && isLanguageValid) {\r\n            this.video = this.model.value;\r\n            this.saveSuccessful.emit({\r\n                data: this.video,\r\n                isUpdate: this.isUpdate\r\n            });\r\n            this.resetForm();\r\n            if (this.isUpdate || !this.isCreateAnother) {\r\n                this.videoFormModal.dismiss();\r\n            } else {\r\n                this.utilService.focusElement('url ' + this.currentLanguage);\r\n            }\r\n            // this.isSaving = true;\r\n            // if (this.isUpdate) {\r\n            //     this.videoService.update(this.id, this.video)\r\n            //         .pipe(finalize(() => this.isSaving = false))\r\n            //         .subscribe(() => {\r\n            //             this.isModified = true;\r\n            //             // this.onSaveSuccess.emit();\r\n            //             this.videoFormModal.dismiss();\r\n            //         });\r\n            // } else {\r\n            //     this.videoService.insert(this.video)\r\n            //         .pipe(finalize(() => this.isSaving = false))\r\n            //         .subscribe(() => {\r\n            //             this.isModified = true;\r\n            //             if (this.isCreateAnother) {\r\n            //                 this.resetForm();\r\n            //             } else {\r\n            //                 // this.onSaveSuccess.emit();\r\n            //                 this.videoFormModal.dismiss();\r\n            //             }\r\n            //         });\r\n            // }\r\n        }\r\n    }\r\n\r\n    getDetail(videoDetail: Video) {\r\n        if (videoDetail) {\r\n            this.model.patchValue({\r\n                id: videoDetail.id,\r\n                videoLinkId: videoDetail.videoLinkId,\r\n                url: videoDetail.url,\r\n                thumbnail: videoDetail.thumbnail,\r\n                isActive: videoDetail.isActive,\r\n                isHomePage: videoDetail.isHomePage,\r\n                order: videoDetail.order,\r\n                type: videoDetail.type,\r\n                concurrencyStamp: videoDetail.concurrencyStamp,\r\n            });\r\n            this.videoType = videoDetail.type;\r\n            if (videoDetail.translations && videoDetail.translations.length > 0) {\r\n                this.translations.controls.forEach(\r\n                    (model: FormGroup) => {\r\n                        const detail = _.find(\r\n                            videoDetail.translations,\r\n                            (videoTranslations: VideoTranslation) => {\r\n                                return (\r\n                                    videoTranslations.languageId ===\r\n                                    model.value.languageId\r\n                                );\r\n                            }\r\n                        );\r\n                        if (detail) {\r\n                            model.patchValue(detail);\r\n                        }\r\n                    }\r\n                );\r\n            }\r\n        }\r\n    }\r\n\r\n    changeInput(e) {\r\n        this.renderVideoId(e.target.value, '', this.model.value.type);\r\n    }\r\n\r\n    changeUrl(e) {\r\n        let clipboardData, pastedData;\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n        clipboardData = e.clipboardData;\r\n        pastedData = clipboardData.getData('Text');\r\n\r\n        this.model.patchValue({\r\n            url: pastedData\r\n        });\r\n        this.renderVideoId(pastedData, '', this.model.value.type);\r\n    }\r\n\r\n    genderVideo(url: string) {\r\n        this.renderVideoId(url, '', this.model.value.type);\r\n    }\r\n\r\n    onSelectThumbnail(file: ExplorerItem) {\r\n        if (file.isImage) {\r\n            this.model.patchValue({\r\n                thumbnail: file.absoluteUrl\r\n            });\r\n        } else {\r\n            this.toastr.error('Please select file image');\r\n        }\r\n    }\r\n\r\n    private renderVideoId(url: string, size: string, type: number) {\r\n        if (type === VideoType.youtube) {\r\n            this.renderVideoYoutubeId(url, size);\r\n        }\r\n        if (type === VideoType.vimeo) {\r\n            this.renderVideoVimeoId(url);\r\n        }\r\n    }\r\n\r\n    private renderVideoYoutubeId(url: string, size: string) {\r\n        if (url) {\r\n            const video_id = url.split('v=')[1];\r\n            if (video_id) {\r\n                const ampersandPosition = video_id.indexOf('&');\r\n                if (ampersandPosition !== -1) {\r\n                    this.videoLinkId = video_id.substring(0, ampersandPosition);\r\n                } else {\r\n                    this.videoLinkId = video_id;\r\n                }\r\n            }\r\n\r\n            size = (size === null) ? 'big' : size;\r\n            const results = url.match('[\\\\?&]v=([^&#]*)');\r\n            const video = (results === null) ? url : results[1];\r\n\r\n            if (size === 'small') {\r\n                this.thumbnail = 'http://img.youtube.com/vi/' + video + '/2.jpg';\r\n            } else {\r\n                this.thumbnail = 'http://img.youtube.com/vi/' + video + '/0.jpg';\r\n            }\r\n\r\n            this.model.patchValue({\r\n                videoLinkId: this.videoLinkId,\r\n                thumbnail: this.thumbnail\r\n            });\r\n        }\r\n    }\r\n\r\n    private renderVideoVimeoId(url) {\r\n        const match = /vimeo.*\\/(\\d+)/i.exec(url);\r\n        if (match) {\r\n            this.videoLinkId = match[1];\r\n            this.thumbnail = `https://i.vimeocdn.com/video/${this.videoLinkId}.png`;\r\n            this.model.patchValue({\r\n                videoLinkId: this.videoLinkId,\r\n                thumbnail: this.thumbnail\r\n            });\r\n        }\r\n    }\r\n\r\n    removeTag(value) {\r\n        this.tagService.deleteTag(value.id).subscribe((result: ActionResultViewModel) => {\r\n        });\r\n    }\r\n\r\n    selectListTag(value) {\r\n        this.listTag = value;\r\n    }\r\n\r\n    closeModal() {\r\n        this.videoFormModal.dismiss();\r\n    }\r\n\r\n    private renderForm() {\r\n        this.buildForm();\r\n        this.renderTranslationArray(this.buildFormLanguage);\r\n    }\r\n\r\n    private buildForm() {\r\n        this.formErrors = this.utilService.renderFormError(['url', 'thumbnail', 'type', 'videoLinkId']);\r\n        this.validationMessages = this.renderFormErrorMessage([\r\n            {videoLinkId: ['maxLength']},\r\n            {url: ['required', 'maxLength', 'pattern']},\r\n            {thumbnail: ['maxLength']},\r\n            {type: ['required', 'isValid']}\r\n        ]);\r\n\r\n        this.model = this.fb.group({\r\n            id: [this.video.id],\r\n            videoLinkId: [this.video.videoLinkId,\r\n                [Validators.maxLength(100)]],\r\n            url: [this.video.url, [\r\n                Validators.required,\r\n                Validators.maxLength(256),\r\n                Validators.pattern(`(http(s)?://)?([\\\\w-]+\\\\.)+[\\\\w-]+(/[\\\\w- ;,./?%&=]*)?`)\r\n            ]],\r\n            thumbnail: [this.video.thumbnail, [\r\n                Validators.maxLength(500)\r\n            ]],\r\n            isActive: [this.video.isActive],\r\n            isHomePage: [this.video.isHomePage],\r\n            order: [this.video.order],\r\n            type: [this.video.type, [\r\n                Validators.required\r\n            ]],\r\n            concurrencyStamp: [this.video.concurrencyStamp],\r\n            translations: this.fb.array([])\r\n        });\r\n        this.model.valueChanges.subscribe(() => this.utilService.onValueChanged(this.model, this.formErrors, this.validationMessages));\r\n    }\r\n\r\n    private buildFormLanguage = (language: string) => {\r\n        this.translationFormErrors[language] = this.utilService.renderFormError(\r\n            ['title', 'description']\r\n        );\r\n        this.translationValidationMessage[language] = this.utilService.renderFormErrorMessage([\r\n            {title: ['required', 'maxLength', 'pattern']},\r\n            {description: ['maxLength']},\r\n        ]);\r\n        const translationModel = this.fb.group({\r\n            languageId: [language],\r\n            title: [\r\n                this.modelTranslation.title,\r\n                [Validators.required,\r\n                    Validators.maxLength(256),\r\n                    Validators.pattern(`.*\\\\S.*`)\r\n                ]\r\n            ],\r\n            description: [this.modelTranslation.description,\r\n                [Validators.maxLength(500)]],\r\n            tags: [this.listTag]\r\n        });\r\n        translationModel.valueChanges.subscribe((data: any) =>\r\n            this.validateTranslation(false)\r\n        );\r\n        return translationModel;\r\n    };\r\n\r\n    private resetForm() {\r\n        this.id = null;\r\n        this.model.patchValue({\r\n            id: null,\r\n            type: VideoType.youtube,\r\n            url: '',\r\n            thumbnail: '',\r\n            order: 0,\r\n            concurrencyStamp: '',\r\n            isActive: true\r\n        });\r\n        this.translations.controls.forEach((model: FormGroup) => {\r\n            model.patchValue({\r\n                title: '',\r\n                description: '',\r\n            });\r\n        });\r\n        this.videoLinkId = '';\r\n        this.thumbnail = '';\r\n        this.listTag = [];\r\n        this.videoType = VideoType.youtube;\r\n        this.clearFormError(this.formErrors);\r\n        this.clearFormError(this.translationFormErrors);\r\n    }\r\n}\r\n\r\n","module.exports = \"<table class=\\\"table table-striped table-hover\\\">\\r\\n    <thead>\\r\\n    <tr>\\r\\n        <th class=\\\"center middle w50 visible-lg\\\" i18n=\\\"@@no\\\">No</th>\\r\\n        <th class=\\\"middle\\\" i18n=\\\"@@video\\\">Video</th>\\r\\n        <th class=\\\"center middle w100\\\" i18n=\\\"@@type\\\">Type</th>\\r\\n        <th class=\\\"center middle w100\\\" i18n=\\\"@@homePage\\\">Home Page?</th>\\r\\n        <th class=\\\"center middle w100\\\" i18n=\\\"@@status\\\">Status</th>\\r\\n        <th class=\\\"center middle w50\\\" i18n=\\\"@@action\\\">Action</th>\\r\\n    </tr>\\r\\n    </thead>\\r\\n    <tbody>\\r\\n    <tr *ngFor=\\\"let item of videos; let i = index\\\">\\r\\n        <td class=\\\"center middle visible-lg\\\">{{ (currentPage - 1) * pageSize + i + 1 }}</td>\\r\\n        <td class=\\\"middle\\\">\\r\\n            <div class=\\\"media\\\">\\r\\n                <div class=\\\"media-left\\\">\\r\\n                    <a (click)=\\\"detail(item)\\\" href=\\\"javascript://\\\">\\r\\n                        <img ghmImage [isUrlAbsolute]=\\\"true\\\" class=\\\"media-object w50\\\" [src]=\\\"item.thumbnail\\\"\\r\\n                             alt=\\\"{{ item?.translations[0]?.title }}\\\">\\r\\n                    </a>\\r\\n                </div>\\r\\n                <div class=\\\"media-body\\\">\\r\\n                    <h4 class=\\\"media-heading cm-mgt-5 cursor\\\">{{ item?.translations[0]?.title }}</h4>\\r\\n                    <!--<i>{{ item?.translations[0]?.description }}</i>-->\\r\\n                </div>\\r\\n            </div>\\r\\n        </td>\\r\\n        <td class=\\\"middle center\\\"></td>\\r\\n        <td class=\\\"center middle\\\">\\r\\n            <mat-checkbox [checked]=\\\"item.isHomePage\\\" color=\\\"primary\\\" (change)=\\\"updateIsHomePage(item)\\\"></mat-checkbox>\\r\\n        </td>\\r\\n        <td class=\\\"center middle\\\">\\r\\n            <mat-checkbox [checked]=\\\"item.isActive\\\" color=\\\"primary\\\" (change)=\\\"updateStatus(item)\\\"></mat-checkbox>\\r\\n        </td>\\r\\n        <td class=\\\"middle center\\\">\\r\\n            <nh-dropdown *ngIf=\\\"permission.delete || permission.view || permission.edit\\\">\\r\\n                <button type=\\\"button\\\" class=\\\"btn btn-sm btn-light btn-no-background no-border\\\" matTooltip=\\\"Menu\\\">\\r\\n                    <mat-icon>more_horiz</mat-icon>\\r\\n                </button>\\r\\n                <ul class=\\\"nh-dropdown-menu right\\\">\\r\\n                    <li>\\r\\n                        <a *ngIf=\\\"permission.view\\\"\\r\\n                           (click)=\\\"detail(item)\\\" i18n=\\\"@@view\\\">\\r\\n                            <i class=\\\"fa fa-eye\\\"></i>\\r\\n                            View</a>\\r\\n                    </li>\\r\\n                    <li>\\r\\n                        <a *ngIf=\\\"permission.edit\\\"\\r\\n                           (click)=\\\"edit(item)\\\" i18n=\\\"@@edit\\\">\\r\\n                            <i class=\\\"fa fa-edit\\\"></i>\\r\\n                            Edit\\r\\n                        </a>\\r\\n                    </li>\\r\\n                    <li>\\r\\n                        <a *ngIf=\\\"permission.delete\\\"\\r\\n                           [swal]=\\\"confirmDeleteVideo\\\"\\r\\n                           (confirm)=\\\"delete(i)\\\" i18n=\\\"@@delete\\\">\\r\\n                            <i class=\\\"fa fa-trash\\\"></i>\\r\\n                            Delete\\r\\n                        </a>\\r\\n                    </li>\\r\\n                </ul><!-- END: nh-dropdown-menu -->\\r\\n            </nh-dropdown>\\r\\n        </td>\\r\\n    </tr>\\r\\n    </tbody>\\r\\n</table>\\r\\n<div class=\\\"col-sm-12\\\">\\r\\n    <ghm-paging [totalRows]=\\\"totalRows\\\" [pageSize]=\\\"pageSize\\\" [currentPage]=\\\"currentPage\\\" [pageShow]=\\\"6\\\"\\r\\n                (pageClick)=\\\"search()\\\"\\r\\n                [isDisabled]=\\\"isSearching\\\" i18n-pageName=\\\"@@video\\\" [pageName]=\\\"'video'\\\"></ghm-paging>\\r\\n</div>\\r\\n\\r\\n<app-video-form\\r\\n        (saveSuccessful)=\\\"onSaveVideoSuccess($event)\\\"\\r\\n></app-video-form>\\r\\n<app-video-detail></app-video-detail>\\r\\n\\r\\n<swal\\r\\n        #confirmDeleteVideo\\r\\n        i18n=\\\"@@confirmDeleteVideo\\\"\\r\\n        i18n-title=\\\"@@confirmTitleDeleteVideo\\\"\\r\\n        i18n-text=\\\"@@confirmTextDeleteVideo\\\"\\r\\n        title=\\\"Are you sure for delete this video?\\\"\\r\\n        text=\\\"You can't recover this video after delete.\\\"\\r\\n        type=\\\"question\\\"\\r\\n        i18n-confirmButtonText=\\\"@@accept\\\"\\r\\n        i18n-cancelButtonText=\\\"@@cancel\\\"\\r\\n        confirmButtonText=\\\"Accept\\\"\\r\\n        cancelButtonText=\\\"Cancel\\\"\\r\\n        [showCancelButton]=\\\"true\\\"\\r\\n        [focusCancel]=\\\"true\\\">\\r\\n</swal>\\r\\n\\r\\n\"","import {AfterViewInit, ChangeDetectorRef, Component, Inject, Input, OnInit, ViewChild} from '@angular/core';\r\nimport {Video, VideoType} from './models/video.model';\r\nimport {ActivatedRoute} from '@angular/router';\r\nimport {VideoService} from './video.service';\r\nimport {VideoFormComponent} from './video-form/video-form.component';\r\nimport {VideoSearchViewModel} from './viewmodels/video-search.viewmodel';\r\nimport {Location, LocationStrategy, PathLocationStrategy} from '@angular/common';\r\nimport {VideoDetailComponent} from './video-detail/video-detail.component';\r\nimport {HelperService} from '../../../shareds/services/helper.service';\r\nimport {BaseListComponent} from '../../../base-list.component';\r\nimport {APP_CONFIG, IAppConfig} from '../../../configs/app.config';\r\nimport {IPageId, PAGE_ID} from '../../../configs/page-id.config';\r\nimport {UtilService} from '../../../shareds/services/util.service';\r\nimport * as _ from 'lodash';\r\n\r\n@Component({\r\n    selector: 'app-video',\r\n    templateUrl: './video.component.html',\r\n    providers: [\r\n        Location, {provide: LocationStrategy, useClass: PathLocationStrategy},\r\n        HelperService]\r\n})\r\n\r\nexport class VideoComponent extends BaseListComponent<VideoSearchViewModel> implements OnInit, AfterViewInit {\r\n    @ViewChild(VideoFormComponent) videoFormComponent: VideoFormComponent;\r\n    @ViewChild(VideoDetailComponent) videoDetailComponent: VideoDetailComponent;\r\n    @Input() albumId: string;\r\n    @Input() videos: Video[] = [];\r\n\r\n    isActive: boolean;\r\n    type;\r\n    height;\r\n    currentLanguage: string;\r\n\r\n    videoTypes = [{\r\n        id: VideoType.youtube,\r\n        name: 'Youtube'\r\n    }, {\r\n        id: VideoType.vimeo,\r\n        name: 'Vimeo'\r\n    }, {\r\n        id: VideoType.pinterest,\r\n        name: 'Pinterest',\r\n    }, {\r\n        id: VideoType.updateServer,\r\n        name: 'UpdateServer'\r\n    }\r\n    ];\r\n\r\n    constructor(@Inject(APP_CONFIG) public appConfig: IAppConfig,\r\n                @Inject(PAGE_ID) public pageId: IPageId,\r\n                private route: ActivatedRoute,\r\n                private utilService: UtilService,\r\n                private location: Location,\r\n                private cdr: ChangeDetectorRef,\r\n                private videoService: VideoService) {\r\n        super();\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.appService.setupPage(this.pageId.WEBSITE, this.pageId.ALBUM, 'Quản lý Video', 'Danh sách video');\r\n        this.subscribers.queryParams = this.route.queryParams.subscribe(params => {\r\n            this.keyword = params.keyword ? params.keyword : '';\r\n            this.type = params.type ? parseInt(params.type) : '';\r\n            this.isActive = params.isActive ? Boolean(params.isActive) : null;\r\n            this.currentPage = params.page ? parseInt(params.page) : 1;\r\n            this.pageSize = params.pageSize ? parseInt(params.pageSize) : this.appConfig.PAGE_SIZE;\r\n        });\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        this.height = window.innerHeight - 270;\r\n        this.cdr.detectChanges();\r\n    }\r\n\r\n    onSaveVideoSuccess(result: { data: Video, isUpdate: boolean }) {\r\n        if (result.isUpdate) {\r\n            const videoInfo = _.find(this.videos, (video: Video) => {\r\n                return video.id === result.data.id;\r\n            }) as Video;\r\n\r\n            if (videoInfo) {\r\n                const video = result.data;\r\n                videoInfo.translations = video.translations;\r\n                videoInfo.thumbnail = video.thumbnail;\r\n                videoInfo.type = video.type;\r\n                videoInfo.url = video.url;\r\n                videoInfo.isHomePage = video.isHomePage;\r\n                videoInfo.videoLinkId = video.videoLinkId;\r\n            }\r\n        } else {\r\n            this.videos.push(result.data);\r\n        }\r\n    }\r\n\r\n    add() {\r\n        this.videoFormComponent.add();\r\n    }\r\n\r\n    search() {\r\n        // this.currentPage = currentPage;\r\n        // this.isSearching = true;\r\n        // this.renderLink();\r\n        // this.listItems$ = this.videoService.search(this.albumId, this.keyword, this.type, this.isActive,\r\n        //     this.currentPage, this.pageSize)\r\n        //     .pipe(finalize(() => this.isSearching = false),\r\n        //         map((result: SearchResultViewModel<VideoSearchViewModel>) => {\r\n        //             this.totalRows = result.totalRows;\r\n        //             return result.items;\r\n        //         }));\r\n    }\r\n\r\n    resetFormSearch() {\r\n        this.isActive = null;\r\n        this.keyword = '';\r\n        this.type = '';\r\n        this.search();\r\n    }\r\n\r\n    edit(video: Video) {\r\n        this.videoFormComponent.edit(video);\r\n    }\r\n\r\n    detail(video: VideoSearchViewModel) {\r\n        this.videoDetailComponent.getDetail(video);\r\n    }\r\n\r\n    delete(index: number) {\r\n        this.videos.splice(index, 1);\r\n    }\r\n\r\n    updateIsHomePage(item: VideoSearchViewModel) {\r\n        this.videoService.updateIsHomePage(item.id, !item.isHomePage).subscribe(() => {\r\n            item.isHomePage = !item.isHomePage;\r\n        });\r\n    }\r\n\r\n    updateStatus(item: VideoSearchViewModel) {\r\n        this.videoService.updateStatus(item.id, !item.isActive).subscribe(() => {\r\n            item.isActive = !item.isActive;\r\n        });\r\n    }\r\n\r\n    // private renderLink() {\r\n    //     const path = '/gallery/album';\r\n    //     const query = this.utilService.renderLocationFilter([\r\n    //         new FilterLink('albumId', this.albumId),\r\n    //         new FilterLink('keyword', this.keyword),\r\n    //         new FilterLink('type', this.type),\r\n    //         new FilterLink('isActive', this.isActive),\r\n    //         new FilterLink('page', this.currentPage),\r\n    //         new FilterLink('pageSize', this.pageSize)\r\n    //     ]);\r\n    //     this.location.go(path, query);\r\n    // }\r\n}\r\n","import {Inject, Injectable} from '@angular/core';\r\nimport {Observable} from 'rxjs';\r\nimport {HttpClient, HttpParams} from '@angular/common/http';\r\nimport {ActivatedRouteSnapshot} from '@angular/router';\r\nimport {Video, VideoType} from './models/video.model';\r\nimport {ToastrService} from 'ngx-toastr';\r\nimport {finalize, map} from 'rxjs/internal/operators';\r\nimport {VideoSearchViewModel} from './viewmodels/video-search.viewmodel';\r\nimport {VideoDetailViewModel} from './viewmodels/video-detail.viewmodel';\r\nimport {APP_CONFIG, IAppConfig} from '../../../configs/app.config';\r\nimport {SpinnerService} from '../../../core/spinner/spinner.service';\r\nimport {ActionResultViewModel} from '../../../shareds/view-models/action-result.viewmodel';\r\nimport {SearchResultViewModel} from '../../../shareds/view-models/search-result.viewmodel';\r\n\r\n@Injectable()\r\nexport class VideoService {\r\n    url = 'videos/';\r\n\r\n    constructor(@Inject(APP_CONFIG) public appConfig: IAppConfig,\r\n                private toastr: ToastrService,\r\n                private spinnerService: SpinnerService,\r\n                private http: HttpClient) {\r\n        this.url = `${appConfig.WEBSITE_API_URL}${this.url}`;\r\n    }\r\n\r\n    resolve(route: ActivatedRouteSnapshot, state: Object) {\r\n        const queryParams: any = route.queryParams;\r\n        const keyword = queryParams.keyword;\r\n        const type = queryParams.type;\r\n        const isActive = queryParams.isActive;\r\n        const page = queryParams.page;\r\n        const pageSize = queryParams.pageSize;\r\n        return this.search(keyword, type, isActive, page, pageSize);\r\n    }\r\n\r\n    insert(video: Video): Observable<ActionResultViewModel> {\r\n        return this.http.post(`${this.url}`, video).pipe(map((result: ActionResultViewModel) => {\r\n            this.toastr.success(result.message);\r\n            return result;\r\n        })) as Observable<ActionResultViewModel>;\r\n    }\r\n\r\n    update(id: string, video: Video): Observable<ActionResultViewModel> {\r\n        return this.http.post(`${this.url}${id}`, video).pipe(map((result: ActionResultViewModel) => {\r\n            this.toastr.success(result.message);\r\n            return result;\r\n        })) as Observable<ActionResultViewModel>;\r\n    }\r\n\r\n    delete(id: string): Observable<ActionResultViewModel> {\r\n        this.spinnerService.show();\r\n        return this.http.delete(`${this.url}${id}`)\r\n            .pipe(\r\n                finalize(() => this.spinnerService.hide()),\r\n                map((result: ActionResultViewModel) => {\r\n                    this.toastr.success(result.message);\r\n                    return result;\r\n                })\r\n            ) as Observable<ActionResultViewModel>;\r\n    }\r\n\r\n    search(albumId: string, keyword: string, type?: number, isActive?: boolean, page: number = 1,\r\n           pageSize: number = this.appConfig.PAGE_SIZE): Observable<SearchResultViewModel<VideoSearchViewModel>> {\r\n        return this.http.get(`${this.url}`, {\r\n            params: new HttpParams()\r\n                .set('albumId', albumId)\r\n                .set('keyword', keyword ? keyword : '')\r\n                .set('type', type ? type.toString() : '')\r\n                .set('isActive', isActive != null && isActive !== undefined ? isActive.toString() : '')\r\n                .set('page', page ? page.toString() : '1')\r\n                .set('pageSize', pageSize ? pageSize.toString() : this.appConfig.PAGE_SIZE.toString())\r\n        }).pipe(map((result: SearchResultViewModel<VideoSearchViewModel>) => {\r\n            result.items.forEach((item: VideoSearchViewModel) => {\r\n                item.typeName = item.type === VideoType.youtube ? 'Youtube'\r\n                    : item.type === VideoType.vimeo ? 'Vimeo'\r\n                        : item.type === VideoType.pinterest ? 'Pinterest'\r\n                            : 'PpdateServer';\r\n                item.activeStatus = item.isActive\r\n                    ? 'active'\r\n                    : 'inActive';\r\n            });\r\n            return result;\r\n        })) as Observable<SearchResultViewModel<VideoSearchViewModel>>;\r\n    }\r\n\r\n    getDetail(id: string): Observable<ActionResultViewModel<VideoDetailViewModel>> {\r\n        this.spinnerService.show();\r\n        return this.http.get(`${this.url}${id}`, {})\r\n            .pipe(\r\n                finalize(() => this.spinnerService.hide()),\r\n                map((result: ActionResultViewModel) => {\r\n                    return result;\r\n                })\r\n            ) as Observable<ActionResultViewModel<VideoDetailViewModel>>;\r\n    }\r\n\r\n    updateStatus(id: string, isActive: boolean): Observable<ActionResultViewModel> {\r\n        return this.http.post(`${this.url}${id}/status/${isActive}`, {}).pipe(\r\n            finalize(() => this.spinnerService.hide()),\r\n            map((result: ActionResultViewModel) => {\r\n                this.toastr.success(result.message);\r\n                return result;\r\n            })\r\n        ) as Observable<ActionResultViewModel>;\r\n    }\r\n\r\n    updateIsHomePage(id: string, isHomePage: boolean): Observable<ActionResultViewModel> {\r\n        return this.http.post(`${this.url}${id}/home-page/${isHomePage}`, {}).pipe(\r\n            finalize(() => this.spinnerService.hide()),\r\n            map((result: ActionResultViewModel) => {\r\n                this.toastr.success(result.message);\r\n                return result;\r\n            })\r\n        ) as Observable<ActionResultViewModel>;\r\n    }\r\n}\r\n","import { Component, OnInit, Input, forwardRef, Inject } from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\n\r\n@Component({\r\n    selector: 'nh-image',\r\n    template: `\r\n        <img alt=\"\" [class]=\"cssClass\"\r\n             src=\"{{ value }}\"\r\n             alt=\"{{ alt }}\"\r\n             (error)=\"onImageError()\"/>\r\n    `,\r\n    providers: [\r\n        {provide: NG_VALUE_ACCESSOR, useExisting: forwardRef(() => NhImageComponent), multi: true}\r\n    ],\r\n})\r\n\r\nexport class NhImageComponent implements OnInit, ControlValueAccessor {\r\n    @Input() alt;\r\n    @Input() cssClass = 'img-circle';\r\n    @Input() mode = 'crop';\r\n    @Input() width = 40;\r\n    @Input() height = 40;\r\n    @Input() errorImageUrl = '/assets/images/noavatar.png';\r\n    @Input() baseUrl = '';\r\n\r\n    @Input()\r\n    set value(value) {\r\n        this._value = value;\r\n    }\r\n\r\n    private _value: string;\r\n\r\n    constructor() {\r\n    }\r\n\r\n    get value() {\r\n        return this._value;\r\n    }\r\n\r\n    ngOnInit() {\r\n    }\r\n\r\n    onImageError() {\r\n        this.value = this.errorImageUrl;\r\n    }\r\n\r\n    registerOnChange(fn) {\r\n        this.propagateChange = fn;\r\n    }\r\n\r\n    writeValue(value) {\r\n        this.value = value;\r\n    }\r\n\r\n    registerOnTouched() {\r\n    }\r\n\r\n    propagateChange: any = () => {\r\n    }\r\n}\r\n","/**\r\n * Created by HoangNH on 3/2/2017.\r\n */\r\nimport { NgModule } from \"@angular/core\";\r\nimport { CommonModule } from \"@angular/common\";\r\n\r\nimport { NhImageComponent } from \"./nh-image.component\";\r\n\r\n@NgModule({\r\n    imports: [CommonModule],\r\n    declarations: [NhImageComponent],\r\n    exports: [NhImageComponent]\r\n})\r\n\r\nexport class NhImageModule { }\r\n"],"sourceRoot":""}