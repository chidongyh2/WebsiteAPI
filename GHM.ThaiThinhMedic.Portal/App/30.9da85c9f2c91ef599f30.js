(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{AAfe:function(l,n,t){"use strict";t.d(n,"a",function(){return o});var e=t("FFOo"),i=t("CcnG"),u=t("36wS"),a=t("MxNo"),o=function(){function l(){var l=this;this.currentPage=1,this.pageSize=10,this.totalRows=0,this.isSearching=!1,this.listItems=[],this.subscribers={},this.permission={view:!1,add:!1,edit:!1,delete:!1,export:!1,print:!1,approve:!1,report:!1},this.appService=u.a.get(a.a),setTimeout(function(){l.permission=l.appService.getPermissionByPageId()})}return l.prototype.ngOnDestroy=function(){for(var l in this.subscribers)if(this.subscribers.hasOwnProperty(l)){var n=this.subscribers[l];n instanceof e.a&&n.unsubscribe()}},l.prototype.loadComponent=function(l,n){var t=l.injector.get(i.ComponentFactoryResolver).resolveComponentFactory(n);return l.clear(),l.createComponent(t).instance},l}()},"D+zZ":function(l,n,t){"use strict";var e=t("CcnG"),i=t("Ip0R");t("wkBG"),t.d(n,"a",function(){return u}),t.d(n,"b",function(){return h});var u=e["\u0275crt"]({encapsulation:2,styles:[["ghm-paging ul.pagination{margin:0;display:block;width:100%}ghm-paging ul.pagination li{display:inline!important}"]],data:{}});function a(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"div",[["class","col-sm-6"]],null,null,null,null,null)),(l()(),e["\u0275ted"](1,null,[" "," "]))],null,function(l,n){l(n,1,0,n.component.summaryMessage)})}function o(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,3,"li",[],[[2,"disabled",null]],[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.previousClick()&&e),e},null,null)),(l()(),e["\u0275eld"](1,0,null,null,2,"a",[["aria-label","Previous"],["href","javascript://"]],null,null,null,null,null)),(l()(),e["\u0275eld"](2,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["\xab"]))],null,function(l,n){l(n,0,0,n.component.isDisabled)})}function r(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,2,"li",[],[[2,"active",null],[2,"disabled",null]],null,null,null,null)),(l()(),e["\u0275eld"](1,0,null,null,1,"a",[["href","javascript://"]],null,[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.onClick(l.context.$implicit)&&e),e},null,null)),(l()(),e["\u0275ted"](2,null,["",""]))],null,function(l,n){var t=n.component;l(n,0,0,n.context.$implicit===t.currentPage,t.isDisabled),l(n,2,0,n.context.$implicit)})}function s(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,3,"li",[],[[2,"disabled",null]],[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.nextClick()&&e),e},null,null)),(l()(),e["\u0275eld"](1,0,null,null,2,"a",[["aria-label","Next"],["href","javascript://"]],null,null,null,null,null)),(l()(),e["\u0275eld"](2,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["\xbb"]))],null,function(l,n){l(n,0,0,n.component.isDisabled)})}function c(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,6,"ul",[["class","pagination"]],null,null,null,null,null)),(l()(),e["\u0275and"](16777216,null,null,1,null,o)),e["\u0275did"](2,16384,null,0,i.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),e["\u0275and"](16777216,null,null,1,null,r)),e["\u0275did"](4,278528,null,0,i.NgForOf,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(l()(),e["\u0275and"](16777216,null,null,1,null,s)),e["\u0275did"](6,16384,null,0,i.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var t=n.component;l(n,2,0,t.isShowPrevious),l(n,4,0,t.listPageShow),l(n,6,0,t.isShowNext)},null)}function p(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,3,"div",[["class","text-right"]],null,null,null,null,null)),e["\u0275did"](1,278528,null,0,i.NgClass,[e.IterableDiffers,e.KeyValueDiffers,e.ElementRef,e.Renderer2],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),(l()(),e["\u0275and"](16777216,null,null,1,null,c)),e["\u0275did"](3,16384,null,0,i.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var t=n.component;l(n,1,0,"text-right",t.isShowSummary?"col-sm-6":"col-sm-12"),l(n,3,0,t.isShowPaging)},null)}function h(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(l()(),e["\u0275and"](16777216,null,null,1,null,a)),e["\u0275did"](2,16384,null,0,i.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),e["\u0275and"](16777216,null,null,1,null,p)),e["\u0275did"](4,16384,null,0,i.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null)],function(l,n){var t=n.component;l(n,2,0,t.isShowSummary),l(n,4,0,t.totalRows>0)},null)}},WrAr:function(l,n,t){"use strict";t.d(n,"a",function(){return e});var e=function(){}},pDUf:function(l,n,t){"use strict";t.r(n);var e=t("CcnG"),i=function(){},u=t("pMnS"),a=t("/Fq2"),o=t("Ip0R"),r=t("D+zZ"),s=t("wkBG"),c=t("mrSG"),p=t("AAfe"),h=t("t/Na"),f=t("67Y/"),d=t("LvDl"),g=t("wd/R"),m=function(){function l(l,n){this.http=l,this.toastr=n,this.url="notification/"}return l.prototype.resolve=function(l,n){var t=l.queryParams;return this.search(t.isRead,t.page,t.pageSize)},l.prototype.updateReadStatus=function(l,n){var t=this;this.http.get(this.url+"update-read",{params:(new h.j).set("id",l.toString()).set("isRead",n.toString())}).subscribe(function(l){t.toastr.success(l.message)})},l.prototype.search=function(l,n,t){return void 0===n&&(n=1),void 0===t&&(t=20),this.http.get(this.url+"search",{params:(new h.j).set("isRead",void 0!==l&&null!=l?l.toString():"").set("page",n?n.toString():"1").set("pageSize",t?t.toString():"")}).pipe(Object(f.a)(function(l){return d.each(l.items,function(l){l.time=g(l.time).fromNow()}),l}))},l}(),v=function(l){function n(n,t,e){var i=l.call(this)||this;return i.route=t,i.notificationService=e,i.baseUrl=n.baseUrl,i}return Object(c.__extends)(n,l),n.prototype.ngOnInit=function(){var l=this;this.listItems$=this.route.data.pipe(Object(f.a)(function(n){var t=n.data;if(t)return l.totalRows=t.totalRows,t.items}))},n.prototype.updateRead=function(l){console.log(l),this.notificationService.updateReadStatus(l.id,!0)},n.prototype.search=function(l){var n=this;this.listItems$=this.notificationService.search(this.isRead,l).pipe(Object(f.a)(function(l){return n.totalRows=l.totalRows,l.items}))},n}(p.a),w=t("1pjZ"),P=t("ZYCi"),S=e["\u0275crt"]({encapsulation:2,styles:[],data:{}});function y(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,0,"p",[["class","content"]],[[8,"innerHTML",1]],null,null,null,null))],null,function(l,n){l(n,0,0,n.parent.context.$implicit.content)})}function R(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,4,"div",[["class","notify-item"]],null,null,null,null,null)),(l()(),e["\u0275eld"](1,0,null,null,1,"div",[["class","notify-body"]],null,null,null,null,null)),(l()(),e["\u0275eld"](2,0,null,null,0,"p",[["class","content"]],[[8,"innerHTML",1]],null,null,null,null)),(l()(),e["\u0275eld"](3,0,null,null,1,"div",[["class","notify-right"]],null,null,null,null,null)),(l()(),e["\u0275eld"](4,0,null,null,0,"a",[["href","javascript://"]],null,null,null,null,null))],null,function(l,n){l(n,2,0,n.parent.context.$implicit.content)})}function C(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,12,"li",[["class","notify-item"]],[[2,"info",null],[2,"warning",null],[2,"danger",null],[2,"success",null],[2,"readed",null]],[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.updateRead(l.context.$implicit)&&e),e},null,null)),(l()(),e["\u0275eld"](1,0,null,null,1,"button",[["class","notification-close"]],null,[[null,"click"]],function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.closeNotify(l.context.$implicit)&&e),e},null,null)),(l()(),e["\u0275eld"](2,0,null,null,0,"i",[["class","fa fa-times"]],null,null,null,null,null)),(l()(),e["\u0275eld"](3,0,null,null,1,"div",[["class","notify-left"]],null,null,null,null,null)),(l()(),e["\u0275eld"](4,0,null,null,0,"a",[["href","javascript://"]],null,null,null,null,null)),(l()(),e["\u0275eld"](5,0,null,null,7,"div",[["class","notify-body"]],null,null,null,null,null)),(l()(),e["\u0275and"](16777216,null,null,1,null,y)),e["\u0275did"](7,16384,null,0,o.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),e["\u0275and"](16777216,null,null,1,null,R)),e["\u0275did"](9,16384,null,0,o.NgIf,[e.ViewContainerRef,e.TemplateRef],{ngIf:[0,"ngIf"]},null),(l()(),e["\u0275eld"](10,0,null,null,2,"div",[["class","times"]],null,null,null,null,null)),(l()(),e["\u0275eld"](11,0,null,null,0,"i",[["class","fa fa-clock-o"]],null,null,null,null,null)),(l()(),e["\u0275ted"](12,null,[""," "]))],function(l,n){l(n,7,0,!n.context.$implicit.image),l(n,9,0,n.context.$implicit.image)},function(l,n){l(n,0,0,0===n.context.$implicit.type,1===n.context.$implicit.type,2===n.context.$implicit.type,3===n.context.$implicit.type,n.context.$implicit.isRead),l(n,12,0,n.context.$implicit.time)})}function b(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,9,"div",[["class","notification-container"]],null,null,null,null,null)),(l()(),e["\u0275eld"](1,0,null,null,1,"h1",[["class","title"]],null,null,null,null,null)),(l()(),e["\u0275ted"](-1,null,["Th\xf4ng b\xe1o c\u1ee7a b\u1ea1n"])),(l()(),e["\u0275eld"](3,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),e["\u0275eld"](4,0,[["notifyContentContainer",1]],null,3,"ul",[["class","dropdown-menu-list list-notify-container"]],null,null,null,null,null)),(l()(),e["\u0275and"](16777216,null,null,2,null,C)),e["\u0275did"](6,278528,null,0,o.NgForOf,[e.ViewContainerRef,e.TemplateRef,e.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),e["\u0275pid"](131072,o.AsyncPipe,[e.ChangeDetectorRef]),(l()(),e["\u0275eld"](8,0,null,null,1,"ghm-paging",[],null,[[null,"pageClick"]],function(l,n,t){var e=!0;return"pageClick"===n&&(e=!1!==l.component.search(t)&&e),e},r.b,r.a)),e["\u0275did"](9,638976,null,0,s.a,[],{totalRows:[0,"totalRows"],pageShow:[1,"pageShow"],currentPage:[2,"currentPage"],isDisabled:[3,"isDisabled"],pageName:[4,"pageName"]},{pageClick:"pageClick"})],function(l,n){var t=n.component;l(n,6,0,e["\u0275unv"](n,6,0,e["\u0275nov"](n,7).transform(t.listItems$))),l(n,9,0,t.totalRows,6,t.currentPage,t.isSearching,"th\xf4ng b\xe1o")},null)}var k=e["\u0275ccf"]("app-notification",v,function(l){return e["\u0275vid"](0,[(l()(),e["\u0275eld"](0,0,null,null,1,"app-notification",[],null,null,null,b,S)),e["\u0275did"](1,245760,null,0,v,[w.a,P.a,m],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),I=t("SZbH"),x=t("Ccia"),N=t("Enzn"),O=function(){},$=t("WrAr");t.d(n,"NotificationModuleNgFactory",function(){return D});var D=e["\u0275cmf"](i,[],function(l){return e["\u0275mod"]([e["\u0275mpd"](512,e.ComponentFactoryResolver,e["\u0275CodegenComponentFactoryResolver"],[[8,[u.a,a.a,k]],[3,e.ComponentFactoryResolver],e.NgModuleRef]),e["\u0275mpd"](4608,o.NgLocalization,o.NgLocaleLocalization,[e.LOCALE_ID,[2,o["\u0275angular_packages_common_common_a"]]]),e["\u0275mpd"](4608,m,m,[h.c,I.k]),e["\u0275mpd"](1073742336,o.CommonModule,o.CommonModule,[]),e["\u0275mpd"](1073742336,P.r,P.r,[[2,P.x],[2,P.o]]),e["\u0275mpd"](1073742336,O,O,[]),e["\u0275mpd"](1073742336,$.a,$.a,[]),e["\u0275mpd"](1073742336,i,i,[]),e["\u0275mpd"](1024,P.m,function(){return[[{path:"",component:x.a,canActivate:[N.a],children:[{path:"",component:v,resolve:{data:m}}]}]]},[])])})},wkBG:function(l,n,t){"use strict";t.d(n,"a",function(){return i});var e=t("CcnG"),i=function(){function l(){this.pageSize=20,this.isShowSummary=!1,this.pageShow=5,this.currentPage=5,this.isDisabled=!1,this.pageName=!1,this.pageClick=new e.EventEmitter,this.isShowPaging=!0,this.isShowNext=!1,this.isShowPrevious=!1,this.totalPage=0,this.fromPageSummary=1,this.toPageSummary=1,this.listPageShow=[]}return l.prototype.ngOnInit=function(){},l.prototype.ngOnChanges=function(l){l.hasOwnProperty("totalRows")&&0!==l.totalRows.currentValue&&this.buildPaging(),l.hasOwnProperty("totalRows")&&0===l.totalRows.currentValue&&(this.summaryMessage="Ch\u01b0a c\xf3 "+this.pageName+" n\xe0o \u0111\u1ec3 hi\u1ec3n th\u1ecb.")},l.prototype.onClick=function(l){this.currentPage=l,this.refreshPaging(),this.pageClick.emit(l)},l.prototype.previousClick=function(){this.currentPage-=1,this.refreshPaging(),this.pageClick.emit(this.currentPage)},l.prototype.nextClick=function(){this.currentPage+=1,this.refreshPaging(),this.pageClick.emit(this.currentPage)},l.prototype.buildPaging=function(){var l=this.pageShow;if(this.totalPage=Math.ceil(this.totalRows/this.pageSize),this.isShowPaging=!(this.totalPage<=1),this.totalPage>0){this.listPageShow=[],l=this.totalPage<this.pageShow?this.totalPage:this.pageShow;for(var n=1;n<=l;n++)this.listPageShow.push(n);this.isShowPrevious=this.currentPage>1,this.isShowNext=this.currentPage<this.totalPage,this.renderSummary()}},l.prototype.refreshPaging=function(){if(this.totalPage>this.pageShow){var l=Math.floor(this.pageShow/2),n=this.currentPage-(l-(this.pageShow%2>0?0:1)),t=this.currentPage+l;n<1&&(n=1,t=this.pageShow),t>this.totalPage&&(t=this.totalPage),this.totalPage-this.currentPage<l&&(n=this.totalPage-this.pageShow+1,t=this.totalPage),this.listPageShow=[];for(var e=n;e<this.currentPage;e++)this.listPageShow.push(e);for(e=this.currentPage;e<=t;e++)this.listPageShow.push(e)}this.isShowPrevious=this.currentPage>1,this.isShowNext=this.currentPage<this.totalPage,this.renderSummary()},l.prototype.renderSummary=function(){this.fromPageSummary=(this.currentPage-1)*this.pageSize+1,this.toPageSummary=this.currentPage*this.pageSize,this.toPageSummary>this.totalRows&&(this.toPageSummary=this.totalRows)},l}()}}]);