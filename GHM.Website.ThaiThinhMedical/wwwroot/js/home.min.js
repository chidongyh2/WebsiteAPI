var HomeViewModel=function(){function n(){var n=this;this.customerId=ko.observable();this.contactName=ko.observable("");this.contactPhoneNumber=ko.observable("");this.contactEmail=ko.observable("");this.contactContent=ko.observable("");this.isShowPopup=ko.observable(!0);this.isContactNameFocus=ko.observable(!1);this.isPhoneNumberFocus=ko.observable(!1);this.isEmailFocus=ko.observable(!1);this.isContentFocus=ko.observable(!1);this.isContactNameError=ko.observable(!1);this.isPhoneNumberError=ko.observable(!1);this.isEmailError=ko.observable(!1);this.isContentError=ko.observable(!1);this.isSendingContact=ko.observable(!1);this.sendFeedback=function(){if($.trim(n.contactName())===""){toastr.error("Vui lòng nhập tên.");n.isContactNameFocus(!0);n.isContactNameError(!0);return}if($.trim(n.contactPhoneNumber())===""){toastr.error("Vui lòng nhập số điện thoại.");n.isPhoneNumberFocus(!0);n.isPhoneNumberError(!0);return}if(!$.isNumeric(n.contactPhoneNumber())){toastr.error("Số điện thoại phải là số.");n.isPhoneNumberFocus(!0);n.isPhoneNumberError(!0);return}if($.trim(n.contactEmail())!==""&&!n.validateEmail(n.contactEmail())){toastr.error("Email chưa đúng định dạng. Vui lòng kiểm tra lại");n.isEmailFocus(!0);n.isEmailError(!0);return}if($.trim(n.contactContent())===""){toastr.error("Vui lòng nhập nội dung.");n.isContentFocus(!0);n.isContentError(!0);return}n.isSendingContact(!0);var t=$("input[name='__RequestVerificationToken']").val();$.post("/gui-lien-he",{customerId:n.customerId(),fullName:n.contactName(),phoneNumber:n.contactPhoneNumber(),email:n.contactEmail(),content:n.contactContent(),__RequestVerificationToken:t},function(t){if(t===-1){toastr.error("Vui lòng nhập họ tên");n.isContactNameError(!0);n.isContactNameFocus(!0);return}if(t===-2){toastr.error("Vui lòng nhập số điện thoại");n.isPhoneNumberFocus(!0);n.isPhoneNumberError(!0);return}if(t===-3){toastr.error("Vui lòng nhập nội dung.");n.isContentFocus(!0);n.isContentError(!0);return}if(t===-4){toastr.error("Email không được để trống.");n.isContentFocus(!0);n.isContentError(!0);return}if(t>0){toastr.success("Cám ơn bạn đã gửi liên hệ cho chúng tôi. Chúng tôi sẽ phản hồi lại ý kiến của bạn trong thời gian sớm nhất. Xin cảm ơn!","Gửi thành công!");n.isContactNameError(!1);n.isPhoneNumberError(!1);n.isEmailError(!1);n.isContentError(!1);n.contactContent("");return}}).always(function(){return n.isSendingContact(!1)})};$(document).ready(function(){$("#mainSlider").owlCarousel({navigation:!1,slideSpeed:300,paginationSpeed:400,singleItem:!0,autoPlay:!0,stopOnHover:!0,lazyLoad:!0});$("#facultySlider").lightSlider({item:4,auto:!0,loop:!0,slideMove:1,easing:"cubic-bezier(0.25, 0, 0.25, 1)",speed:1500,pause:3e3,slideEndAnimation:!0,slideMargin:15,pauseOnHover:!0,responsive:[{breakpoint:800,settings:{item:2,slideMove:1}},{breakpoint:480,settings:{item:1,slideMove:1}}]});$("#videoSlider").lightSlider({item:4,auto:!0,loop:!0,slideMove:1,easing:"cubic-bezier(0.25, 0, 0.25, 1)",speed:1500,pause:3e3,slideEndAnimation:!0,slideMargin:15,pauseOnHover:!0,controls:!1,responsive:[{breakpoint:800,settings:{item:2,slideMove:1}},{breakpoint:480,settings:{item:1,slideMove:1}}]});currentPatient!=null&&(n.contactName(currentPatient.HoTenBenhNhan),n.customerId(currentPatient.MaBenhNhan));$('[data-toggle="tooltip"]').tooltip()})}return n.prototype.closePopup=function(){this.isShowPopup(!1)},n.prototype.validateEmail=function(n){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(n)},n}();ko.applyBindings(new HomeViewModel,document.getElementsByClassName("body-content")[0]);