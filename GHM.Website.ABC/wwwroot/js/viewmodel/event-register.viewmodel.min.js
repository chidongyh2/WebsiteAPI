function EventRegisterViewModel(){self.fullName=ko.observable("");self.email=ko.observable("");self.address=ko.observable("");self.phoneNumber=ko.observable("");self.isSending=ko.observable(!1);self.isFullNameError=ko.observable(!1);self.isPhoneNumberError=ko.observable(!1);self.isEmailError=ko.observable(!1);self.isAddressError=ko.observable(!1);self.isFullNameFocus=ko.observable(!1);self.isEmailFocus=ko.observable(!1);self.isAddressFocus=ko.observable(!1);self.isPhoneNumberFocus=ko.observable(!1);self.eventId=ko.observable("");self.listEventDay=ko.observableArray([]);self.eventDays=ko.observableArray([]);self.selectedSeminars=ko.observable(!1);self.selectedProfessional=ko.observable(!1);self.selectedContent=ko.observable(!1);self.selectedVideo=ko.observable(!1);self.selectedRegister=ko.observable(!1);self.isCheckAllDay=ko.observable(!1);self.listVideo=ko.observableArray([]);self.endTime=ko.observable();self.day=ko.observable(0);self.hours=ko.observable(0);self.minutes=ko.observable(0);self.seconds=ko.observable(0);self.videoLinkId=ko.observable("");self.videoTitle=ko.observable("");self.isSelectVideo=ko.observable(!1);self.id=ko.observable("");self.linkHref=ko.observable("#content");self.eventDayJoin=ko.observable("");self.selectedItem=function(n){self.selectedSeminars(!1);self.selectedProfessional(!1);self.selectedContent(!1);self.selectedVideo(!1);self.selectedRegister(!1);switch(n){case 0:self.selectedSeminars(!0);break;case 1:self.selectedProfessional(!0);break;case 2:self.selectedContent(!0);break;case 3:self.selectedVideo(!0);break;case 4:self.selectedRegister(!0);break;case 5:self.selectedSeminars(!0)}};self.selectEventDay=function(n){n.IsSelect(!n.IsSelect());n.IsSelect()?self.eventDays.push(n.Id):self.eventDays.remove(function(t){return t===n.Id});self.eventDays()&&self.eventDays().length===self.listEventDay().length?self.isCheckAllDay(!0):self.isCheckAllDay(!1)};self.checkAllEventDay=function(){self.isCheckAllDay(!self.isCheckAllDay());self.isCheckAllDay()?self.eventDays(_.map(self.listEventDay(),n=>n.Id)):self.eventDays([])};self.register=function(){if(!self.fullName()||self.fullName()===""){toastr.error("Vui lòng nhập họ tên");self.isFullNameError(!0);self.isFullNameFocus(!0);return}if(!self.phoneNumber()||self.phoneNumber()===""){toastr.error("Vui lòng nhập số điện thoại");self.isPhoneNumberError(!0);self.isPhoneNumberFocus(!0);return}if(!self.email()||self.email()===""){toastr.error("Vui lòng nhập email.");self.isEmailError(!0);self.isEmailFocus(!0);return}if(self.email()&&self.email()!==""&&!self.validateEmail(self.email())){toastr.error("ĐỊnh dạng email không đúng");self.isEmailError(!0);self.isEmailFocus(!0);return}if(!self.address()||self.address()===""){toastr.error("Vui lòng nhập nội dung cần trao đổi");self.isAddressError(!0);self.isAddressFocus(!0);return}if(!self.eventDays()||self.eventDays().length===0){toastr.error("Vui lòng chọn ngày tham dự");return}self.isSending(!0);$.post("/dang-ky-su-kien",{eventId:self.eventId(),fullName:self.fullName(),phoneNumber:self.phoneNumber(),email:self.email(),address:self.address(),type:2,eventDays:ko.mapping.toJS(self.eventDays())},function(n){if(self.isSending(!1),n.code===-1){toastr.error("Vui lòng nhập họ tên.");self.isFullNameError(!0);self.isFullNameFocus(!0);return}if(n.code===-2){toastr.error("Vui lòng nhập số điện thoại.");self.isPhoneNumberError(!0);self.isPhoneNumberFocus(!0);return}if(n.code===-3){toastr.error("Vui lòng nhập email.");self.isEmailError(!0);self.isEmailFocus(!0);return}if(n.code===-5){toastr.error("Vui lòng nhập nội dung bạn muốn trao đổi");self.isAddressError(!0);self.isAddressFocus(!0);return}if(n.code===-6){toastr.error("Vui lòng chọn ngày đăng ký");return}n.code>0&&(toastr.success("Cảm ơn bạn đã đăng ký. Chúng tôi sẽ liên lạc với bạn trong thời gian sớm nhất"),self.fullName(""),self.email(""),self.phoneNumber(""),self.address(""),self.eventDays([]),self.isCheckAllDay(!1))})};self.validateEmail=function(n){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(n)};self.countDown=function(n){var t=setInterval(()=>{var i=Date.parse(n)-Date.parse(new Date);i>0?(self.seconds(Math.floor(parseInt(i/1e3)%60)),self.minutes(Math.floor(parseInt(i/6e4)%60)),self.hours(Math.floor(parseInt(i/36e5)%24)),self.day(Math.floor(i/864e5))):clearInterval(t)},1e3)};self.selectVideo=function(n){n&&(self.videoLinkId(n.VideoLinkId),self.videoTitle(n.Title),self.id(n.Id),self.isSelectVideo(!0))};self.gotoRegister=function(){$("html, body").animate({scrollTop:$("#register").offset().top-100},1e3);setTimeout(()=>{$("#register_full_name").focus()},100)};$(".loader").delay(100).fadeOut();$(".animationload").delay(100).fadeOut("fast");$(document).ready(function(){if($(window).scroll(function(){var n=$(window).scrollTop();n>100?$(".navbar.navbar-fixed-top").addClass("scroll-fixed-navbar"):$(".navbar.navbar-fixed-top").removeClass("scroll-fixed-navbar")}),$("#video-silder").lightSlider({item:3,auto:!1,loop:!0,slideMove:1,speed:1500,pause:3e3,slideEndAnimation:!1,slideMargin:15,pauseOnHover:!1,controls:!0,prevHtml:'<i class="fa fa-chevron-left" aria-hidden="true"><\/i>',nextHtml:'<i class="fa fa-chevron-right" aria-hidden="true"><\/i>',pager:!1,responsive:[{breakpoint:800,settings:{item:2,slideMove:1}},{breakpoint:480,settings:{item:2,slideMove:1}}]}),self.videoLinkId(videoLinkId),self.videoTitle(videoTitle),self.id(videoId),eventInfo&&eventInfo.EventInfo){var n=eventInfo.EventDays;self.listEventDay(n);_.each(self.listEventDay(),n=>{n.IsSelect=ko.observable(!1)});self.endTime(eventInfo.EventInfo.StartDate);self.eventId(eventInfo.EventInfo.Id);self.countDown(self.endTime());self.eventDayJoin(_.join(_.map(self.listEventDay(),n=>n.Name)," & "))}self.listVideo(listYoutube);$(".lazy").Lazy();$("#registerAbout, #registerContent, #GoToRegister").click(function(){self.gotoRegister()});$.fn.scrollTo=function(n){var t={offset:-80,speed:"slow",override:null,easing:null};return n&&(n.override&&(n.override=override("#")!==-1?n.override:"#"+n.override),$.extend(t,n)),this.each(function(n,i){$(i).click(function(n){var r;$(i).attr("href").match(/#/)!==null&&(self.linkHref($(i).attr("href")),n.preventDefault(),r=t.override?t.override:$(i).attr("href"),history.pushState?(history.pushState(null,null,r),$("html,body").stop().animate({scrollTop:$(r).offset().top+t.offset},t.speed,t.easing)):$("html,body").stop().animate({scrollTop:$(r).offset().top+t.offset},t.speed,t.easing,function(){window.location.hash=r}))})})};$("#GoToSeminars, #GoToProfessional, #GoTocontent, #GoTovideo, #GoToRegister").scrollTo({speed:1400});headerWrapper=parseInt($("#registerMainNav").height())})}var viewModel=new EventRegisterViewModel;ko.applyBindings(viewModel,document.getElementsByClassName("event-ladingpage-registers")[0]);