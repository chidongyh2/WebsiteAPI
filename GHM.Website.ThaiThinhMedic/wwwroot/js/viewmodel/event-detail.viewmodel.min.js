function EventDetailViewModel(){var n=this;n.fullName=ko.observable("");n.email=ko.observable("");n.address=ko.observable("");n.phoneNumber=ko.observable("");n.isSending=ko.observable(!1);n.isFullNameError=ko.observable(!1);n.isPhoneNumberError=ko.observable(!1);n.isEmailError=ko.observable(!1);n.isAddressError=ko.observable(!1);n.isFullNameFocus=ko.observable(!1);n.isEmailFocus=ko.observable(!1);n.isAddressFocus=ko.observable(!1);n.isPhoneNumberFocus=ko.observable(!1);n.eventId=ko.observable();n.listEventDay=ko.observableArray([]);n.eventDays=ko.observableArray([]);n.isCheckAllDay=ko.observable(!1);n.images=ko.observableArray([]);n.imageId=ko.observable();n.imageUrl=ko.observable();n.imageTitle=ko.observable();n.selectEventDay=function(t){t.IsSelect(!t.IsSelect());t.IsSelect()?n.eventDays.push(t.Id):n.eventDays.remove(function(n){return n===t.Id});n.eventDays()&&n.eventDays().length===n.listEventDay().length?n.isCheckAllDay(!0):n.isCheckAllDay(!1)};n.checkAllEventDay=function(){n.isCheckAllDay(!n.isCheckAllDay());n.isCheckAllDay()?n.eventDays(_.map(n.listEventDay(),n=>n.Id)):n.eventDays([])};n.register=function(){if(!n.fullName()||n.fullName()===""){toastr.error("Please enter your full name.");n.isFullNameError(!0);n.isFullNameFocus(!0);return}if(!n.email()||n.email()===""){toastr.error("Please enter your email.");n.isEmailError(!0);n.isEmailFocus(!0);return}if(n.email()&&n.email()!==""&&!n.validateEmail(n.email())){toastr.error("Invalid format email");n.isEmailError(!0);n.isEmailFocus(!0);return}if(!n.phoneNumber()||n.phoneNumber()===""){toastr.error("Please enter your phoneNumber");n.isPhoneNumberError(!0);n.isPhoneNumberFocus(!0);return}if(!n.address()||n.address()===""){toastr.error("Please enter your mesage");n.isAddressError(!0);n.isAddressFocus(!0);return}if(!n.eventDays()||n.eventDays().length===0){toastr.error("Please select event day");return}n.isSending(!0);$.post("/dang-ky-su-kien",{eventId:n.eventId(),fullName:n.fullName(),phoneNumber:n.phoneNumber(),email:n.email(),address:n.address(),type:1,eventDays:ko.mapping.toJS(n.eventDays())},function(t){if(n.isSending(!1),t.code===-1){toastr.error("Please enter your full name.");n.isFullNameError(!0);n.isFullNameFocus(!0);return}if(t.code===-2){toastr.error("Please enter phone number.");n.isPhoneNumberError(!0);n.isPhoneNumberFocus(!0);return}if(t.code===-3){toastr.error("Please enter email.");n.isEmailError(!0);n.isEmailFocus(!0);return}if(t.code===-5){toastr.error("Please enter your address");n.isAddressError(!0);n.isAddressFocus(!0);return}if(t.code===-6){toastr.error("Please select event day");return}t.code>0&&(toastr.success("Thank you for the register. We will contact you as soon as possible."),n.fullName(""),n.email(""),n.phoneNumber(""),n.address(""),n.eventDays([]),n.isCheckAllDay(!1))})};n.validateEmail=function(n){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(n)};n.selectImage=function(t){n.imageId(t.Id);n.imageUrl(t.Thumbnail);n.imageTitle(t.Title)};$(document).ready(function(){var i,t;n.eventId(eventId);eventInfo&&(i=eventInfo.EventDays,n.listEventDay(i),_.each(n.listEventDay(),n=>{n.IsSelect=ko.observable(!1)}));n.images(listImage);n.images()&&n.images().length>0&&(t=n.images()[0],n.imageId(t.Id),n.imageUrl(t.Thumbnail),n.imageTitle(t.Title));$(".btn-register").click(function(){$("html, body").animate({scrollTop:$("#contact_form").offset().top-100},1e3);setTimeout(()=>{$("#register_full_name").focus()},100)});$("#professionalsSlider").lightSlider({item:3,auto:!0,loop:!0,slideMove:1,speed:1500,pause:3e3,slideEndAnimation:!1,slideMargin:20,pauseOnHover:!1,controls:!0,prevHtml:'<i class="fa fa-chevron-left" aria-hidden="true"><\/i>',nextHtml:'<i class="fa fa-chevron-right" aria-hidden="true"><\/i>',pager:!1,responsive:[{breakpoint:800,settings:{item:3,slideMove:1}},{breakpoint:480,settings:{item:2,slideMove:1}}]});$("#sponsorsSlider").lightSlider({item:4,auto:!1,loop:!0,slideMove:1,speed:1500,pause:3e3,slideEndAnimation:!1,slideMargin:20,pauseOnHover:!1,controls:!0,prevHtml:'<i class="fa fa-chevron-left" aria-hidden="true"><\/i>',nextHtml:'<i class="fa fa-chevron-right" aria-hidden="true"><\/i>',pager:!1,responsive:[{breakpoint:800,settings:{item:3,slideMove:1}},{breakpoint:480,settings:{item:2,slideMove:1}}]});$("#image-library-silder").lightSlider({item:5,auto:!1,loop:!0,slideMove:1,speed:1500,pause:3e3,slideEndAnimation:!1,slideMargin:10,pauseOnHover:!1,controls:!0,prevHtml:'<i class="fa fa-chevron-left" aria-hidden="true"><\/i>',nextHtml:'<i class="fa fa-chevron-right" aria-hidden="true"><\/i>',pager:!1,responsive:[{breakpoint:800,settings:{item:3,slideMove:1}},{breakpoint:480,settings:{item:2,slideMove:1}}]})})}var viewModel=new EventDetailViewModel;ko.applyBindings(viewModel,document.getElementsByClassName("event-detail")[0]);