ko.components.register("comment-component",{viewModel:function(n){var t=this;t.objectId=n.objectId?ko.observable(n.objectId):ko.observable(-1);t.objectType=n.objectType?ko.observable(n.objectType):ko.observable(-1);t.listComments=ko.observableArray([]);t.getComment=function(){$.get("/get-comment",{objectId:t.objectId(),objectType:t.objectType(),page:1,pageSize:20},function(n){t.listComments(n.items);console.log(n.items)})};$(document).ready(function(){t.getComment()})},template:`<div class="comments">
       <div class="line"></div>
            <h3 class="title">Bình luận</h3>       
            <comment-box-component params="objectId: objectId, objectType: objectType"></comment-box-component>
           <comment-list-component params="objectId: objectId, objectType: objectType, listComments: listComments"></comment-list-component>
       </div>`});ko.components.register("comment-box-component",{viewModel:function(n){var t=this;t.objectId=n.objectId?n.objectId:ko.observable(-1);t.objectType=n.objectType?n.objectType:ko.observable(-1);t.parentId=n.parentId?n.parentId:ko.observable(null);t.userId=n.userId?n.userId:ko.observable(null);t.userType=n.userType?n.userType:ko.observable(0);t.fullName=ko.observable();t.email=ko.observable();t.content=ko.observable();t.isSending=ko.observable(!1);t.save=function(){t.isSending(!0);$.post("/comment",{objectId:t.objectId(),objectType:t.objectType(),fullName:t.fullName(),email:t.email(),content:t.content(),parentId:t.parentId(),userId:t.userId(),userType:t.userType(),__RequestVerificationToken:token},function(n){t.isSending(!1);n>0&&(t.fullName(""),t.email(""),t.content(""))})}},template:`<div class="box-comment">
       <form id="postComment" class="form-horizontal" data-bind="submit: save">
       <div class="row">
           <div class="col-sm-6">
               <div class="form-group">
                 <input class="form-control" data-bind="value: fullName" placeholder="Họ tên của bạn">
                </div>
            </div>
            <div class="col-sm-6">
                <div class="form-group">
                    <input class="form-control" data-bind="value: email" placeholder="Email của bạn"> 
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-12">
                 <div class="form-group">
                       <textarea class="form-control" data-bind="value: content" spellcheck="false" placeholder="Mời bạn nhập câu hỏi hoặc đánh giá cho sản phẩm."></textarea> 
                 </div>
            </div>
        </div>  
        <div class="row">
             <div class="col-sm-12">
                 <button type="submit" class="btn btn-send" data-bind="enable:!isSending()"> 
                     <i class="fa fa-spin fa-spinner" data-bind="visible:isSending()"style="display:none"></i>
                     Gửi bình luận
                  </button>
              </div>
        </div>      
       </form>       
</div>`});ko.components.register("comment-list-component",{viewModel:function(n){var t=this;t.objectId=n.objectId?n.objectId:ko.observable(-1);t.objectType=n.objectType?n.objectType:ko.observable(-1);t.listComments=n.listComments?n.listComments:ko.observableArray([]);$(document).ready(function(){})},template:`<div class="list-comment" data-bind="foreach: listComments">
       <div class="comment-item">
          <div class="avatar">
                <img src="/images/no-avartar.jpg" style="width:100%">
            </div>  
                <div class="content">
                    <p class="intro">
                            <strong class="name" data-bind="text:  fullName "></strong>
                            <span data-bind="moment(createTime).fromNow()"></span>
                    </p>
                <div class="comment-details" data-bind="text: content ">
                </div>
                </div>
             </div>   
         </div>  
 </div>  
       </div>`});