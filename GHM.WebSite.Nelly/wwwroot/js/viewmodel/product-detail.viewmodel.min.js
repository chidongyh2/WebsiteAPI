function ProductDetailViewModel(){var n=this;n.productCategoryTree=ko.observableArray([]);n.listProductImage=ko.observableArray([]);n.productThumbnail=ko.observable();n.listCategory=ko.observableArray([]);n.listProductAttribute=ko.observableArray([]);n.listAttributeValue=ko.observableArray([]);n.listAttributeContent=ko.observableArray([]);n.rendProductCategoryActive=function(){_.each(n.listProductCategory(),function(t,i){t.IsActive(i<=n.lastIndex()&&i>=n.firstIndex())})};n.showChildren=function(){};n.rendTree=function(t){_.each(t,function(t){t.state.show=ko.observable(t.state.opened);t.children&&t.children.length>0&&n.rendTree(t.children)})};n.selectThumbnail=function(t){t&&(n.productThumbnail(t.url),$(".zoomWindowContainer div").stop().css("background-image","url("+url+t.url+")"),$("#thumbnail").attr("zoom-image",url+t.url),$("#thumbnail").elevateZoom())};n.renderAttribute=function(){var i,r,t;n.listAttributeValue([]);n.listAttributeContent([]);i=_.filter(n.listProductAttribute(),function(n){return!n.isSelfContent});i&&i.length>0&&(r=_.groupBy(i,function(n){return n.attributeId}),_.each(r,function(t){var i=[];_.each(t,function(n){i.push(n.attributeValueName)});n.listAttributeValue.push({attributeName:t[0].attributeName,values:i.join(", ")})}));t=_.filter(n.listProductAttribute(),function(n){return n.isSelfContent});t&&t.length>0&&_.each(t,function(n,t){n.isSelected=ko.observable(t===0)});n.listAttributeContent(t)};$(document).ready(function(){n.rendTree(treeData);n.productCategoryTree(treeData);n.listProductImage(productImages);n.listCategory(productCategories);n.listProductAttribute(productAttributes);productInfo&&n.productThumbnail(productInfo.thumbnail);$("#product-image-silder").lightSlider({item:4,auto:!1,loop:!0,slideMove:1,speed:1500,pause:3e3,slideMargin:10,pauseOnHover:!1,controls:!0,prevHtml:'<img src="/images/facion/pev.png" />',nextHtml:'<img src="/images/facion/nex.png" />',pager:!1,responsive:[{breakpoint:800,settings:{item:4,slideMove:1}},{breakpoint:480,settings:{item:3,slideMove:1}}]});$("#thumbnail").ezPlus({zoomWindowFadeIn:50,zoomLensFadeIn:50,imageCrossfade:!0,zoomWindowWidth:500,zoomWindowHeight:500,scrollZoom:!0,cursor:"pointer"});n.renderAttribute();console.log(n.listAttributeContent(),n.listAttributeValue())})}var viewModel=new ProductDetailViewModel;ko.applyBindings(viewModel,document.getElementsByClassName("product-detail")[0]);