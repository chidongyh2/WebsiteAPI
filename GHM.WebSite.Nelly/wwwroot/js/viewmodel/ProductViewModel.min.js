function ProductViewModel(){var n=this;n.listProductCategory=ko.observableArray([]);n.productCategoryId=ko.observable();n.productCategorySeoLink=ko.observable();n.listProduct=ko.observableArray([]);n.totalRows=ko.observable(0);n.pageSize=ko.observable(12);n.currentPage=ko.observable(1);n.totalPage=ko.observable(1);n.listPage=ko.observableArray([]);n.selectProductCategory=function(t){n.productCategoryId(t.Id);n.productCategorySeoLink(t.SeoLink);n.currentPage(1);n.search()};n.search=function(){$.get("/json/GetProductByCategory",{seolink:n.productCategorySeoLink(),page:n.currentPage(),pageSize:n.pageSize()},function(t){n.listProduct(t.items);n.renderPage(t.totalRows)})};n.renderPage=function(t){if(n.totalRows(t),n.totalPage(Math.ceil(n.totalRows()/n.pageSize())),n.listPage([]),n.totalPage()>1)for(var i=1;i<=n.totalPage();i++)n.listPage.push({page:i})};n.searchPageIndex=function(t){n.currentPage(t.page);n.search()};n.firstPage=function(){n.currentPage(1);n.search();$("html, body").animate({scrollTop:$("#Products").offset().top-50},1e3)};n.lastPage=function(){n.currentPage(n.totalPage());n.search();$("html, body").animate({scrollTop:$("#Products").offset().top-50},1e3)};n.prevPage=function(){n.currentPage(n.currentPage()-1);n.search();$("html, body").animate({scrollTop:$("#Products").offset().top-50},1e3)};n.nextPage=function(){n.currentPage(n.currentPage()+1);n.search();$("html, body").animate({scrollTop:$("#Products").offset().top-50},1e3)};$(document).ready(function(){n.listProductCategory(productCategories);var t=_.find(n.listProductCategory(),function(n){return n.Id=productCategoryId});t&&n.productCategoryId(t.Id);n.listProduct(products);n.renderPage(totalRows)})}var viewModel=new ProductViewModel;ko.applyBindings(viewModel,document.getElementsByClassName("album-videos")[0]);