"use strict";typeof Object.create!="function"&&(Object.create=function(n){function t(){}return t.prototype=n,new t}),function(n,t){var i={init:function(t,i){function f(){var n=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var i=(n+Math.random()*16)%16|0;return n=Math.floor(n/16),(t==="x"?i:i&3|8).toString(16)})}var r=this,u;if(r.elem=i,r.$elem=n(i),r.options=n.extend({},n.fn.ezPlus.options,r.responsiveConfig(t||{})),r.imageSrc=r.$elem.attr("data-"+r.options.attrImageZoomSrc)?r.$elem.attr("data-"+r.options.attrImageZoomSrc):r.$elem.attr("src"),r.options.enabled){r.options.tint&&(r.options.lensColour="transparent",r.options.lensOpacity="1");r.options.zoomType==="inner"&&(r.options.showLens=!1);r.options.zoomType==="lens"&&(r.options.zoomWindowWidth=0);r.options.zoomId===-1&&(r.options.zoomId=f());r.$elem.parent().removeAttr("title").removeAttr("alt");r.zoomImage=r.imageSrc;r.refresh(1);u=r.options.galleryEvent+".ezpspace";u+=r.options.touchEnabled?" touchend.ezpspace":"";r.$galleries=n(r.options.gallery?"#"+r.options.gallery:r.options.gallerySelector);r.$galleries.on(u,r.options.galleryItem,function(t){return r.options.galleryActiveClass&&(n(r.options.galleryItem,r.$galleries).removeClass(r.options.galleryActiveClass),n(this).addClass(r.options.galleryActiveClass)),this.tagName==="A"&&t.preventDefault(),r.zoomImagePre=n(this).data(r.options.attrImageZoomSrc)?n(this).data(r.options.attrImageZoomSrc):n(this).data("image"),r.swaptheimage(n(this).data("image"),r.zoomImagePre),this.tagName==="A"?!1:void 0})}},refresh:function(n){var t=this;setTimeout(function(){t.fetch(t.imageSrc,t.$elem,t.options.minZoomLevel)},n||t.options.refresh)},fetch:function(n,t,i){var r=this,u=new Image;u.onload=function(){r.largeWidth=u.width/t.width()<=i?t.width()*i:u.width;r.largeHeight=u.height/t.height()<=i?t.height()*i:u.height;r.startZoom();r.currentImage=r.imageSrc;r.options.onZoomedImageLoaded(r.$elem)};r.setImageSource(u,n);return},setImageSource:function(n,t){n.src=t},startZoom:function(){function e(){return{display:"none",position:"absolute",height:t.options.zoomWindowHeight,width:t.options.zoomWindowWidth,border:""+t.options.borderSize+"px solid "+t.options.borderColour,backgroundSize:""+t.largeWidth/t.currentZoomLevel+"px "+t.largeHeight/t.currentZoomLevel+"px",backgroundPosition:"0px 0px",backgroundRepeat:"no-repeat",backgroundColor:""+t.options.zoomWindowBgColour,overflow:"hidden",zIndex:100}}function o(){var i=t.$elem.css("border-left-width");return t.options.scrollZoom&&(t.zoomLens=n('<div class="zoomLens"/>')),{display:"none",position:"absolute",height:t.nzHeight,width:t.nzWidth,marginTop:i,marginLeft:i,border:""+t.options.borderSize+"px solid "+t.options.borderColour,backgroundPosition:"0px 0px",backgroundRepeat:"no-repeat",cursor:t.options.cursor,overflow:"hidden",zIndex:t.options.zIndex}}function s(){return t.lensHeight=t.nzHeight<t.options.zoomWindowHeight/t.heightRatio?t.nzHeight:t.options.zoomWindowHeight/t.heightRatio,t.lensWidth=t.largeWidth<t.options.zoomWindowWidth?t.nzWidth:t.options.zoomWindowWidth/t.widthRatio,{display:"none",position:"absolute",height:t.lensHeight,width:t.lensWidth,border:""+t.options.lensBorderSize+"px solid "+t.options.lensBorderColour,backgroundPosition:"0px 0px",backgroundRepeat:"no-repeat",backgroundColor:t.options.lensColour,opacity:t.options.lensOpacity,cursor:t.options.cursor,zIndex:999,overflow:"hidden"}}function f(n){(t.lastX!==n.clientX||t.lastY!==n.clientY)&&(t.setPosition(n),t.currentLoc=n);t.lastX=n.clientX;t.lastY=n.clientY}var t=this,r,u,i;if(t.nzWidth=t.$elem.width(),t.nzHeight=t.$elem.height(),t.isWindowActive=!1,t.isLensActive=!1,t.isTintActive=!1,t.overWindow=!1,t.options.imageCrossfade&&(r=n('<div class="zoomWrapper"/>').css({height:t.nzHeight,width:t.nzWidth}),t.$elem.parent().hasClass("zoomWrapper")&&t.$elem.unwrap(),t.zoomWrap=t.$elem.wrap(r),t.$elem.css({position:"absolute"})),t.zoomLock=1,t.scrollingLock=!1,t.changeBgSize=!1,t.currentZoomLevel=t.options.zoomLevel,t.updateOffset(t),t.widthRatio=t.largeWidth/t.currentZoomLevel/t.nzWidth,t.heightRatio=t.largeHeight/t.currentZoomLevel/t.nzHeight,t.options.zoomType==="window"&&(t.zoomWindowStyle=e()),t.options.zoomType==="inner"&&(t.zoomWindowStyle=o()),t.options.zoomType==="window"&&(t.lensStyle=s()),t.tintStyle={display:"block",position:"absolute",height:t.nzHeight,width:t.nzWidth,backgroundColor:t.options.tintColour,opacity:0},t.lensRound={},t.options.zoomType==="lens"&&(t.lensStyle={display:"none",position:"absolute",float:"left",height:t.options.lensSize,width:t.options.lensSize,border:""+t.options.borderSize+"px solid "+t.options.borderColour,backgroundPosition:"0px 0px",backgroundRepeat:"no-repeat",backgroundColor:t.options.lensColour,cursor:t.options.cursor}),t.options.lensShape==="round"&&(t.lensRound={borderRadius:t.options.lensSize/2+t.options.borderSize}),t.zoomContainer=n('<div class="'+t.options.container+'" uuid="'+t.options.zoomId+'"/>'),t.zoomContainer.css({position:"absolute",top:t.nzOffset.top,left:t.nzOffset.left,height:t.nzHeight,width:t.nzWidth,zIndex:t.options.zIndex}),t.$elem.attr("id")&&t.zoomContainer.attr("id",t.$elem.attr("id")+"-"+t.options.container),n("."+t.options.container).remove(),n(t.options.zoomContainerAppendTo).append(t.zoomContainer),t.options.containLensZoom&&t.options.zoomType==="lens"&&t.zoomContainer.css("overflow","hidden"),t.options.zoomType!=="inner"&&(t.zoomLens=n('<div class="zoomLens"/>').css(n.extend({},t.lensStyle,t.lensRound)).appendTo(t.zoomContainer).click(function(){t.$elem.trigger("click")}),t.options.tint&&(t.tintContainer=n('<div class="tintContainer"/>'),t.zoomTint=n('<div class="zoomTint"/>').css(t.tintStyle),t.zoomLens.wrap(t.tintContainer),t.zoomTintcss=t.zoomLens.after(t.zoomTint),t.zoomTintImage=n('<img src="'+t.$elem.attr("src")+'">').css({position:"absolute",top:0,left:0,height:t.nzHeight,width:t.nzWidth,maxWidth:"none"}).appendTo(t.zoomLens).click(function(){t.$elem.trigger("click")}))),u=isNaN(t.options.zoomWindowPosition)?"body":t.zoomContainer,t.zoomWindow=n('<div class="zoomWindow"/>').css(n.extend({zIndex:999,top:t.windowOffsetTop,left:t.windowOffsetLeft},t.zoomWindowStyle)).appendTo(u).click(function(){t.$elem.trigger("click")}),t.zoomWindowContainer=n('<div class="zoomWindowContainer" />').css({width:t.options.zoomWindowWidth}),t.zoomWindow.wrap(t.zoomWindowContainer),t.options.zoomType==="lens"&&(t.zoomContainer.css("display","none"),t.zoomLens.css({backgroundImage:'url("'+t.imageSrc+'")'})),t.options.zoomType==="window"&&t.zoomWindow.css({backgroundImage:'url("'+t.imageSrc+'")'}),t.options.zoomType==="inner"&&t.zoomWindow.css({backgroundImage:'url("'+t.imageSrc+'")'}),t.options.touchEnabled){t.$elem.on("touchmove.ezpspace",function(n){n.preventDefault();var i=n.originalEvent.touches[0]||n.originalEvent.changedTouches[0];t.setPosition(i)});t.zoomContainer.on("touchmove.ezpspace",function(n){t.setElements("show");n.preventDefault();var i=n.originalEvent.touches[0]||n.originalEvent.changedTouches[0];t.setPosition(i)});t.zoomContainer.add(t.$elem).on("touchend.ezpspace",function(){t.showHideWindow("hide");t.options.showLens&&t.showHideLens("hide");t.options.tint&&t.options.zoomType!=="inner"&&t.showHideTint("hide")});if(t.options.showLens){t.zoomLens.on("touchmove.ezpspace",function(n){n.preventDefault();var i=n.originalEvent.touches[0]||n.originalEvent.changedTouches[0];t.setPosition(i)});t.zoomLens.on("touchend.ezpspace",function(){t.showHideWindow("hide");t.options.showLens&&t.showHideLens("hide");t.options.tint&&t.options.zoomType!=="inner"&&t.showHideTint("hide")})}}t.zoomContainer.on("click.ezpspace touchstart.ezpspace",t.options.onImageClick);t.zoomContainer.add(t.$elem).on("mousemove.ezpspace",function(n){t.overWindow===!1&&t.setElements("show");f(n)});if(i=null,t.options.zoomType!=="inner"&&(i=t.zoomLens),t.options.tint&&t.options.zoomType!=="inner"&&(i=t.zoomTint),t.options.zoomType==="inner"&&(i=t.zoomWindow),i)i.on("mousemove.ezpspace",f);if(t.zoomContainer.add(t.$elem).hover(function(){t.overWindow===!1&&t.setElements("show")},function(){if(!t.scrollLock){t.setElements("hide");t.options.onDestroy(t.$elem)}}),t.options.zoomType!=="inner"&&t.zoomWindow.hover(function(){t.overWindow=!0;t.setElements("hide")},function(){t.overWindow=!1}),t.minZoomLevel=t.options.minZoomLevel?t.options.minZoomLevel:t.options.scrollZoomIncrement*2,t.options.scrollZoom)t.zoomContainer.add(t.$elem).on("wheel DOMMouseScroll MozMousePixelScroll",function(i){var u,r;return(t.scrollLock=!0,clearTimeout(n.data(this,"timer")),n.data(this,"timer",setTimeout(function(){t.scrollLock=!1},250)),u=i.originalEvent.deltaY||i.originalEvent.detail*-1,i.stopImmediatePropagation(),i.stopPropagation(),i.preventDefault(),u===0)?!1:(u/120>0?(r=parseFloat(t.currentZoomLevel)-t.options.scrollZoomIncrement,r>=parseFloat(t.minZoomLevel)&&t.changeZoomLevel(r)):(t.fullheight||t.fullwidth)&&t.options.mantainZoomAspectRatio||(r=parseFloat(t.currentZoomLevel)+t.options.scrollZoomIncrement,t.options.maxZoomLevel?r<=t.options.maxZoomLevel&&t.changeZoomLevel(r):t.changeZoomLevel(r)),!1)})},destroy:function(){var t=this;t.$elem.off(".ezpspace");t.$galleries.off(".ezpspace");n(t.zoomContainer).remove();!t.options.loadingIcon||!t.spinner||!t.spinner.length||(t.spinner.remove(),delete t.spinner)},getIdentifier:function(){var n=this;return n.options.zoomId},setElements:function(n){var t=this;if(!t.options.zoomEnabled)return!1;n==="show"&&t.isWindowSet&&(t.options.zoomType==="inner"&&t.showHideWindow("show"),t.options.zoomType==="window"&&t.showHideWindow("show"),t.options.showLens&&(t.showHideZoomContainer("show"),t.showHideLens("show")),t.options.tint&&t.options.zoomType!=="inner"&&t.showHideTint("show"));n==="hide"&&(t.options.zoomType==="window"&&t.showHideWindow("hide"),t.options.tint||t.showHideWindow("hide"),t.options.showLens&&(t.showHideZoomContainer("hide"),t.showHideLens("hide")),t.options.tint&&t.showHideTint("hide"))},setPosition:function(n){var t=this,i,r;if(!t.options.zoomEnabled||n===undefined)return!1;if(t.nzHeight=t.$elem.height(),t.nzWidth=t.$elem.width(),t.updateOffset(t),t.options.tint&&t.options.zoomType!=="inner"&&t.zoomTint.css({top:0,left:0}),t.options.responsive&&!t.options.scrollZoom&&t.options.showLens&&(t.lensHeight=t.nzHeight<t.options.zoomWindowWidth/t.widthRatio?t.nzHeight:t.options.zoomWindowHeight/t.heightRatio,t.lensWidth=t.largeWidth<t.options.zoomWindowWidth?t.nzWidth:t.options.zoomWindowWidth/t.widthRatio,t.widthRatio=t.largeWidth/t.nzWidth,t.heightRatio=t.largeHeight/t.nzHeight,t.options.zoomType!=="lens"&&(t.lensHeight=t.nzHeight<t.options.zoomWindowWidth/t.widthRatio?t.nzHeight:t.options.zoomWindowHeight/t.heightRatio,t.lensWidth=t.nzWidth<t.options.zoomWindowHeight/t.heightRatio?t.nzWidth:t.options.zoomWindowWidth/t.widthRatio,t.zoomLens.css({width:t.lensWidth,height:t.lensHeight}),t.options.tint&&t.zoomTintImage.css({width:t.nzWidth,height:t.nzHeight})),t.options.zoomType==="lens"&&t.zoomLens.css({width:t.options.lensSize,height:t.options.lensSize})),t.zoomContainer.css({top:t.nzOffset.top,left:t.nzOffset.left,width:t.nzWidth,height:t.nzHeight}),t.mouseLeft=parseInt(n.pageX-t.pageOffsetX-t.nzOffset.left),t.mouseTop=parseInt(n.pageY-t.pageOffsetY-t.nzOffset.top),t.options.zoomType==="window"&&(i=t.zoomLens.height()/2,r=t.zoomLens.width()/2,t.Etoppos=t.mouseTop<0+i,t.Eboppos=t.mouseTop>t.nzHeight-i-t.options.lensBorderSize*2,t.Eloppos=t.mouseLeft<0+r,t.Eroppos=t.mouseLeft>t.nzWidth-r-t.options.lensBorderSize*2),t.options.zoomType==="inner"&&(t.Etoppos=t.mouseTop<t.nzHeight/2/t.heightRatio,t.Eboppos=t.mouseTop>t.nzHeight-t.nzHeight/2/t.heightRatio,t.Eloppos=t.mouseLeft<0+t.nzWidth/2/t.widthRatio,t.Eroppos=t.mouseLeft>t.nzWidth-t.nzWidth/2/t.widthRatio-t.options.lensBorderSize*2),t.mouseLeft<0||t.mouseTop<0||t.mouseLeft>t.nzWidth||t.mouseTop>t.nzHeight){t.setElements("hide");return}t.options.showLens&&(t.lensLeftPos=Math.floor(t.mouseLeft-t.zoomLens.width()/2),t.lensTopPos=Math.floor(t.mouseTop-t.zoomLens.height()/2));t.Etoppos&&(t.lensTopPos=0);t.Eloppos&&(t.windowLeftPos=0,t.lensLeftPos=0,t.tintpos=0);t.options.zoomType==="window"&&(t.Eboppos&&(t.lensTopPos=Math.max(t.nzHeight-t.zoomLens.height()-t.options.lensBorderSize*2,0)),t.Eroppos&&(t.lensLeftPos=t.nzWidth-t.zoomLens.width()-t.options.lensBorderSize*2));t.options.zoomType==="inner"&&(t.Eboppos&&(t.lensTopPos=Math.max(t.nzHeight-t.options.lensBorderSize*2,0)),t.Eroppos&&(t.lensLeftPos=t.nzWidth-t.nzWidth-t.options.lensBorderSize*2));t.options.zoomType==="lens"&&(t.windowLeftPos=((n.pageX-t.pageOffsetX-t.nzOffset.left)*t.widthRatio-t.zoomLens.width()/2)*-1,t.windowTopPos=((n.pageY-t.pageOffsetY-t.nzOffset.top)*t.heightRatio-t.zoomLens.height()/2)*-1,t.zoomLens.css({backgroundPosition:""+t.windowLeftPos+"px "+t.windowTopPos+"px"}),t.changeBgSize&&(t.nzHeight>t.nzWidth?(t.options.zoomType==="lens"&&t.zoomLens.css({backgroundSize:""+t.largeWidth/t.newvalueheight+"px "+t.largeHeight/t.newvalueheight+"px"}),t.zoomWindow.css({backgroundSize:""+t.largeWidth/t.newvalueheight+"px "+t.largeHeight/t.newvalueheight+"px"})):(t.options.zoomType==="lens"&&t.zoomLens.css({backgroundSize:""+t.largeWidth/t.newvaluewidth+"px "+t.largeHeight/t.newvaluewidth+"px"}),t.zoomWindow.css({backgroundSize:""+t.largeWidth/t.newvaluewidth+"px "+t.largeHeight/t.newvaluewidth+"px"})),t.changeBgSize=!1),t.setWindowPosition(n));t.options.tint&&t.options.zoomType!=="inner"&&t.setTintPosition(n);t.options.zoomType==="window"&&t.setWindowPosition(n);t.options.zoomType==="inner"&&t.setWindowPosition(n);t.options.showLens&&(t.fullwidth&&t.options.zoomType!=="lens"&&(t.lensLeftPos=0),t.zoomLens.css({left:t.lensLeftPos,top:t.lensTopPos}))},showHideZoomContainer:function(n){var t=this;n==="show"&&t.zoomContainer&&t.zoomContainer.show();n==="hide"&&t.zoomContainer&&t.zoomContainer.hide()},showHideWindow:function(n){var t=this;if(n==="show"&&!t.isWindowActive&&t.zoomWindow){t.options.onShow(t);t.options.zoomWindowFadeIn?t.zoomWindow.stop(!0,!0,!1).fadeIn(t.options.zoomWindowFadeIn):t.zoomWindow.show();t.isWindowActive=!0}if(n==="hide"&&t.isWindowActive){t.options.zoomWindowFadeOut?t.zoomWindow.stop(!0,!0).fadeOut(t.options.zoomWindowFadeOut,function(){t.loop&&(clearInterval(t.loop),t.loop=!1)}):t.zoomWindow.hide();t.options.onHide(t);t.isWindowActive=!1}},showHideLens:function(n){var t=this;n==="show"&&(t.isLensActive||(t.zoomLens&&(t.options.lensFadeIn?t.zoomLens.stop(!0,!0,!1).fadeIn(t.options.lensFadeIn):t.zoomLens.show()),t.isLensActive=!0));n==="hide"&&t.isLensActive&&(t.zoomLens&&(t.options.lensFadeOut?t.zoomLens.stop(!0,!0).fadeOut(t.options.lensFadeOut):t.zoomLens.hide()),t.isLensActive=!1)},showHideTint:function(n){var t=this;n==="show"&&!t.isTintActive&&t.zoomTint&&(t.options.zoomTintFadeIn?t.zoomTint.css("opacity",t.options.tintOpacity).animate().stop(!0,!0).fadeIn("slow"):(t.zoomTint.css("opacity",t.options.tintOpacity).animate(),t.zoomTint.show()),t.isTintActive=!0);n==="hide"&&t.isTintActive&&(t.options.zoomTintFadeOut?t.zoomTint.stop(!0,!0).fadeOut(t.options.zoomTintFadeOut):t.zoomTint.hide(),t.isTintActive=!1)},setLensPosition:function(){},setWindowPosition:function(t){var i=this,u,r;if(isNaN(i.options.zoomWindowPosition))i.externalContainer=n(i.options.zoomWindowPosition),i.externalContainer.length||(i.externalContainer=n("#"+i.options.zoomWindowPosition)),i.externalContainerWidth=i.externalContainer.width(),i.externalContainerHeight=i.externalContainer.height(),i.externalContainerOffset=i.externalContainer.offset(),i.windowOffsetTop=i.externalContainerOffset.top,i.windowOffsetLeft=i.externalContainerOffset.left;else switch(i.options.zoomWindowPosition){case 1:i.windowOffsetTop=i.options.zoomWindowOffsetY;i.windowOffsetLeft=+i.nzWidth;break;case 2:i.options.zoomWindowHeight>i.nzHeight?(i.windowOffsetTop=(i.options.zoomWindowHeight/2-i.nzHeight/2)*-1,i.windowOffsetLeft=i.nzWidth):n.noop();break;case 3:i.windowOffsetTop=i.nzHeight-i.zoomWindow.height()-i.options.borderSize*2;i.windowOffsetLeft=i.nzWidth;break;case 4:i.windowOffsetTop=i.nzHeight;i.windowOffsetLeft=i.nzWidth;break;case 5:i.windowOffsetTop=i.nzHeight;i.windowOffsetLeft=i.nzWidth-i.zoomWindow.width()-i.options.borderSize*2;break;case 6:i.options.zoomWindowHeight>i.nzHeight?(i.windowOffsetTop=i.nzHeight,i.windowOffsetLeft=(i.options.zoomWindowWidth/2-i.nzWidth/2+i.options.borderSize*2)*-1):n.noop();break;case 7:i.windowOffsetTop=i.nzHeight;i.windowOffsetLeft=0;break;case 8:i.windowOffsetTop=i.nzHeight;i.windowOffsetLeft=(i.zoomWindow.width()+i.options.borderSize*2)*-1;break;case 9:i.windowOffsetTop=i.nzHeight-i.zoomWindow.height()-i.options.borderSize*2;i.windowOffsetLeft=(i.zoomWindow.width()+i.options.borderSize*2)*-1;break;case 10:i.options.zoomWindowHeight>i.nzHeight?(i.windowOffsetTop=(i.options.zoomWindowHeight/2-i.nzHeight/2)*-1,i.windowOffsetLeft=(i.zoomWindow.width()+i.options.borderSize*2)*-1):n.noop();break;case 11:i.windowOffsetTop=i.options.zoomWindowOffsetY;i.windowOffsetLeft=(i.zoomWindow.width()+i.options.borderSize*2)*-1;break;case 12:i.windowOffsetTop=(i.zoomWindow.height()+i.options.borderSize*2)*-1;i.windowOffsetLeft=(i.zoomWindow.width()+i.options.borderSize*2)*-1;break;case 13:i.windowOffsetTop=(i.zoomWindow.height()+i.options.borderSize*2)*-1;i.windowOffsetLeft=0;break;case 14:i.options.zoomWindowHeight>i.nzHeight?(i.windowOffsetTop=(i.zoomWindow.height()+i.options.borderSize*2)*-1,i.windowOffsetLeft=(i.options.zoomWindowWidth/2-i.nzWidth/2+i.options.borderSize*2)*-1):n.noop();break;case 15:i.windowOffsetTop=(i.zoomWindow.height()+i.options.borderSize*2)*-1;i.windowOffsetLeft=i.nzWidth-i.zoomWindow.width()-i.options.borderSize*2;break;case 16:i.windowOffsetTop=(i.zoomWindow.height()+i.options.borderSize*2)*-1;i.windowOffsetLeft=i.nzWidth;break;default:i.windowOffsetTop=i.options.zoomWindowOffsetY;i.windowOffsetLeft=i.nzWidth}i.isWindowSet=!0;i.windowOffsetTop=i.windowOffsetTop+i.options.zoomWindowOffsetY;i.windowOffsetLeft=i.windowOffsetLeft+i.options.zoomWindowOffsetX;i.zoomWindow.css({top:i.windowOffsetTop,left:i.windowOffsetLeft});i.options.zoomType==="inner"&&i.zoomWindow.css({top:0,left:0});i.windowLeftPos=((t.pageX-i.pageOffsetX-i.nzOffset.left)*i.widthRatio-i.zoomWindow.width()/2)*-1;i.windowTopPos=((t.pageY-i.pageOffsetY-i.nzOffset.top)*i.heightRatio-i.zoomWindow.height()/2)*-1;i.Etoppos&&(i.windowTopPos=0);i.Eloppos&&(i.windowLeftPos=0);i.Eboppos&&(i.windowTopPos=(i.largeHeight/i.currentZoomLevel-i.zoomWindow.height())*-1);i.Eroppos&&(i.windowLeftPos=(i.largeWidth/i.currentZoomLevel-i.zoomWindow.width())*-1);i.fullheight&&(i.windowTopPos=0);i.fullwidth&&(i.windowLeftPos=0);(i.options.zoomType==="window"||i.options.zoomType==="inner")&&(i.zoomLock===1&&(i.widthRatio<=1&&(i.windowLeftPos=0),i.heightRatio<=1&&(i.windowTopPos=0)),i.options.zoomType==="window"&&(i.largeHeight<i.options.zoomWindowHeight&&(i.windowTopPos=0),i.largeWidth<i.options.zoomWindowWidth&&(i.windowLeftPos=0)),i.options.easing?(i.xp||(i.xp=0),i.yp||(i.yp=0),u=16,r=parseInt(i.options.easing),typeof r=="number"&&isFinite(r)&&Math.floor(r)===r&&(u=r),i.loop||(i.loop=setInterval(function(){i.xp+=(i.windowLeftPos-i.xp)/i.options.easingAmount;i.yp+=(i.windowTopPos-i.yp)/i.options.easingAmount;i.scrollingLock?(clearInterval(i.loop),i.xp=i.windowLeftPos,i.yp=i.windowTopPos,i.xp=((t.pageX-i.pageOffsetX-i.nzOffset.left)*i.widthRatio-i.zoomWindow.width()/2)*-1,i.yp=((t.pageY-i.pageOffsetY-i.nzOffset.top)*i.heightRatio-i.zoomWindow.height()/2)*-1,i.changeBgSize&&(i.nzHeight>i.nzWidth?(i.options.zoomType==="lens"&&i.zoomLens.css({backgroundSize:""+i.largeWidth/i.newvalueheight+"px "+i.largeHeight/i.newvalueheight+"px"}),i.zoomWindow.css({backgroundSize:""+i.largeWidth/i.newvalueheight+"px "+i.largeHeight/i.newvalueheight+"px"})):(i.options.zoomType!=="lens"&&i.zoomLens.css({backgroundSize:""+i.largeWidth/i.newvaluewidth+"px "+i.largeHeight/i.newvalueheight+"px"}),i.zoomWindow.css({backgroundSize:""+i.largeWidth/i.newvaluewidth+"px "+i.largeHeight/i.newvaluewidth+"px"})),i.changeBgSize=!1),i.zoomWindow.css({backgroundPosition:""+i.windowLeftPos+"px "+i.windowTopPos+"px"}),i.scrollingLock=!1,i.loop=!1):Math.round(Math.abs(i.xp-i.windowLeftPos)+Math.abs(i.yp-i.windowTopPos))<1?(clearInterval(i.loop),i.zoomWindow.css({backgroundPosition:""+i.windowLeftPos+"px "+i.windowTopPos+"px"}),i.loop=!1):(i.changeBgSize&&(i.nzHeight>i.nzWidth?(i.options.zoomType==="lens"&&i.zoomLens.css({backgroundSize:""+i.largeWidth/i.newvalueheight+"px "+i.largeHeight/i.newvalueheight+"px"}),i.zoomWindow.css({backgroundSize:""+i.largeWidth/i.newvalueheight+"px "+i.largeHeight/i.newvalueheight+"px"})):(i.options.zoomType!=="lens"&&i.zoomLens.css({backgroundSize:""+i.largeWidth/i.newvaluewidth+"px "+i.largeHeight/i.newvaluewidth+"px"}),i.zoomWindow.css({backgroundSize:""+i.largeWidth/i.newvaluewidth+"px "+i.largeHeight/i.newvaluewidth+"px"})),i.changeBgSize=!1),i.zoomWindow.css({backgroundPosition:""+i.xp+"px "+i.yp+"px"}))},u))):(i.changeBgSize&&(i.nzHeight>i.nzWidth?(i.options.zoomType==="lens"&&i.zoomLens.css({backgroundSize:""+i.largeWidth/i.newvalueheight+"px "+i.largeHeight/i.newvalueheight+"px"}),i.zoomWindow.css({backgroundSize:""+i.largeWidth/i.newvalueheight+"px "+i.largeHeight/i.newvalueheight+"px"})):(i.options.zoomType==="lens"&&i.zoomLens.css({backgroundSize:""+i.largeWidth/i.newvaluewidth+"px "+i.largeHeight/i.newvaluewidth+"px"}),i.largeHeight/i.newvaluewidth<i.options.zoomWindowHeight?i.zoomWindow.css({backgroundSize:""+i.largeWidth/i.newvaluewidth+"px "+i.largeHeight/i.newvaluewidth+"px"}):i.zoomWindow.css({backgroundSize:""+i.largeWidth/i.newvalueheight+"px "+i.largeHeight/i.newvalueheight+"px"})),i.changeBgSize=!1),i.zoomWindow.css({backgroundPosition:""+i.windowLeftPos+"px "+i.windowTopPos+"px"})))},setTintPosition:function(n){var t=this,i=t.zoomLens.width(),r=t.zoomLens.height();t.updateOffset(t);t.tintpos=(n.pageX-t.pageOffsetX-t.nzOffset.left-i/2)*-1;t.tintposy=(n.pageY-t.pageOffsetY-t.nzOffset.top-r/2)*-1;t.Etoppos&&(t.tintposy=0);t.Eloppos&&(t.tintpos=0);t.Eboppos&&(t.tintposy=(t.nzHeight-r-t.options.lensBorderSize*2)*-1);t.Eroppos&&(t.tintpos=(t.nzWidth-i-t.options.lensBorderSize*2)*-1);t.options.tint&&(t.fullheight&&(t.tintposy=0),t.fullwidth&&(t.tintpos=0),t.zoomTintImage.css({left:t.tintpos,top:t.tintposy}))},swaptheimage:function(t,i){var r=this,u=new Image,f;r.options.loadingIcon&&!r.spinner?(f={background:'url("'+r.options.loadingIcon+'") no-repeat',height:r.nzHeight,width:r.nzWidth,zIndex:2e3,position:"absolute",backgroundPosition:"center center"},r.options.zoomType==="inner"&&f.setProperty("top",0),r.spinner=n('<div class="ezp-spinner"><\/div>').css(f),r.$elem.after(r.spinner)):r.spinner&&r.spinner.show();r.options.onImageSwap(r.$elem);u.onload=function(){r.largeWidth=u.width;r.largeHeight=u.height;r.zoomImage=i;r.zoomWindow.css({backgroundSize:""+r.largeWidth+"px "+r.largeHeight+"px"});r.swapAction(t,i);return};r.setImageSource(u,i)},swapAction:function(t,i){var r=this,f=r.$elem.width(),u=r.$elem.height(),s=new Image,l,a,v,y,h,e,c,o;s.onload=function(){r.nzHeight=s.height;r.nzWidth=s.width;r.options.onImageSwapComplete(r.$elem);r.doneCallback();return};r.setImageSource(s,t);r.currentZoomLevel=r.options.zoomLevel;r.options.maxZoomLevel=!1;r.options.zoomType==="lens"&&r.zoomLens.css("background-image",'url("'+i+'")');r.options.zoomType==="window"&&r.zoomWindow.css("background-image",'url("'+i+'")');r.options.zoomType==="inner"&&r.zoomWindow.css("background-image",'url("'+i+'")');r.currentImage=i;r.options.imageCrossfade?(l=r.$elem,a=l.clone(),r.$elem.attr("src",t),r.$elem.after(a),a.stop(!0).fadeOut(r.options.imageCrossfade,function(){n(this).remove()}),r.$elem.width("auto").removeAttr("width"),r.$elem.height("auto").removeAttr("height"),l.fadeIn(r.options.imageCrossfade),r.options.tint&&r.options.zoomType!=="inner"&&(v=r.zoomTintImage,y=v.clone(),r.zoomTintImage.attr("src",i),r.zoomTintImage.after(y),y.stop(!0).fadeOut(r.options.imageCrossfade,function(){n(this).remove()}),v.fadeIn(r.options.imageCrossfade),r.zoomTint.css({height:u,width:f})),r.zoomContainer.css({height:u,width:f}),r.options.zoomType==="inner"&&(r.options.constrainType||(r.zoomWrap.parent().css({height:u,width:f}),r.zoomWindow.css({height:u,width:f}))),r.options.imageCrossfade&&r.zoomWrap.css({height:u,width:f})):(r.$elem.attr("src",t),r.options.tint&&(r.zoomTintImage.attr("src",i),r.zoomTintImage.attr("height",u),r.zoomTintImage.css("height",u),r.zoomTint.css("height",u)),r.zoomContainer.css({height:u,width:f}),r.options.imageCrossfade&&r.zoomWrap.css({height:u,width:f}));r.options.constrainType&&(r.options.constrainType==="height"&&(h={height:r.options.constrainSize,width:"auto"},r.zoomContainer.css(h),r.options.imageCrossfade?(r.zoomWrap.css(h),r.constwidth=r.zoomWrap.width()):(r.$elem.css(h),r.constwidth=f),e={height:r.options.constrainSize,width:r.constwidth},r.options.zoomType==="inner"&&(r.zoomWrap.parent().css(e),r.zoomWindow.css(e)),r.options.tint&&(r.tintContainer.css(e),r.zoomTint.css(e),r.zoomTintImage.css(e))),r.options.constrainType==="width"&&(c={height:"auto",width:r.options.constrainSize},r.zoomContainer.css(c),r.options.imageCrossfade?(r.zoomWrap.css(c),r.constheight=r.zoomWrap.height()):(r.$elem.css(c),r.constheight=u),o={height:r.constheight,width:r.options.constrainSize},r.options.zoomType==="inner"&&(r.zoomWrap.parent().css(o),r.zoomWindow.css(o)),r.options.tint&&(r.tintContainer.css(o),r.zoomTint.css(o),r.zoomTintImage.css(o))))},doneCallback:function(){var n=this;!n.options.loadingIcon||!n.spinner||!n.spinner.length||n.spinner.hide();n.updateOffset(n);n.nzWidth=n.$elem.width();n.nzHeight=n.$elem.height();n.currentZoomLevel=n.options.zoomLevel;n.widthRatio=n.largeWidth/n.nzWidth;n.heightRatio=n.largeHeight/n.nzHeight;n.options.zoomType==="window"&&(n.lensHeight=n.nzHeight<n.options.zoomWindowHeight/n.heightRatio?n.nzHeight:n.options.zoomWindowHeight/n.heightRatio,n.lensWidth=n.nzWidth<n.options.zoomWindowWidth?n.nzWidth:n.options.zoomWindowWidth/n.widthRatio,n.zoomLens&&n.zoomLens.css({width:n.lensWidth,height:n.lensHeight}))},getCurrentImage:function(){var n=this;return n.zoomImage},getGalleryList:function(){var t=this;return t.gallerylist=[],t.options.gallery?n("#"+t.options.gallery+" a").each(function(){var i="";n(this).data(t.options.attrImageZoomSrc)?i=n(this).data(t.options.attrImageZoomSrc):n(this).data("image")&&(i=n(this).data("image"));i===t.zoomImage?t.gallerylist.unshift({href:""+i+"",title:n(this).find("img").attr("title")}):t.gallerylist.push({href:""+i+"",title:n(this).find("img").attr("title")})}):t.gallerylist.push({href:""+t.zoomImage+"",title:n(this).find("img").attr("title")}),t.gallerylist},changeZoomLevel:function(n){var t=this,f;t.scrollingLock=!0;t.newvalue=parseFloat(n).toFixed(2);var i=t.newvalue,r=t.largeHeight/(t.options.zoomWindowHeight/t.nzHeight*t.nzHeight),u=t.largeWidth/(t.options.zoomWindowWidth/t.nzWidth*t.nzWidth);t.options.zoomType!=="inner"&&(r<=i?(t.heightRatio=t.largeHeight/r/t.nzHeight,t.newvalueheight=r,t.fullheight=!0):(t.heightRatio=t.largeHeight/i/t.nzHeight,t.newvalueheight=i,t.fullheight=!1),u<=i?(t.widthRatio=t.largeWidth/u/t.nzWidth,t.newvaluewidth=u,t.fullwidth=!0):(t.widthRatio=t.largeWidth/i/t.nzWidth,t.newvaluewidth=i,t.fullwidth=!1),t.options.zoomType==="lens"&&(r<=i?(t.fullwidth=!0,t.newvaluewidth=r):(t.widthRatio=t.largeWidth/i/t.nzWidth,t.newvaluewidth=i,t.fullwidth=!1)));t.options.zoomType==="inner"&&(r=parseFloat(t.largeHeight/t.nzHeight).toFixed(2),u=parseFloat(t.largeWidth/t.nzWidth).toFixed(2),i>r&&(i=r),i>u&&(i=u),r<=i?(t.heightRatio=t.largeHeight/i/t.nzHeight,t.newvalueheight=i>r?r:i,t.fullheight=!0):(t.heightRatio=t.largeHeight/i/t.nzHeight,t.newvalueheight=i>r?r:i,t.fullheight=!1),u<=i?(t.widthRatio=t.largeWidth/i/t.nzWidth,t.newvaluewidth=i>u?u:i,t.fullwidth=!0):(t.widthRatio=t.largeWidth/i/t.nzWidth,t.newvaluewidth=i,t.fullwidth=!1));f=!1;t.options.zoomType==="inner"&&(t.nzWidth>=t.nzHeight&&(t.newvaluewidth<=u?f=!0:(f=!1,t.fullheight=!0,t.fullwidth=!0)),t.nzHeight>t.nzWidth&&(t.newvaluewidth<=u?f=!0:(f=!1,t.fullheight=!0,t.fullwidth=!0)));t.options.zoomType!=="inner"&&(f=!0);f&&(t.zoomLock=0,t.changeZoom=!0,t.options.zoomWindowHeight/t.heightRatio<=t.nzHeight&&(t.currentZoomLevel=t.newvalueheight,t.options.zoomType!=="lens"&&t.options.zoomType!=="inner"&&(t.changeBgSize=!0,t.zoomLens.css({height:t.options.zoomWindowHeight/t.heightRatio})),(t.options.zoomType==="lens"||t.options.zoomType==="inner")&&(t.changeBgSize=!0)),t.options.zoomWindowWidth/t.widthRatio<=t.nzWidth&&(t.options.zoomType!=="inner"&&t.newvaluewidth>t.newvalueheight&&(t.currentZoomLevel=t.newvaluewidth),t.options.zoomType!=="lens"&&t.options.zoomType!=="inner"&&(t.changeBgSize=!0,t.zoomLens.css({width:t.options.zoomWindowWidth/t.widthRatio})),(t.options.zoomType==="lens"||t.options.zoomType==="inner")&&(t.changeBgSize=!0)),t.options.zoomType==="inner"&&(t.changeBgSize=!0,t.nzWidth>t.nzHeight?t.currentZoomLevel=t.newvaluewidth:t.nzHeight>=t.nzWidth&&(t.currentZoomLevel=t.newvaluewidth)));t.setPosition(t.currentLoc)},closeAll:function(){var n=this;n.zoomWindow&&n.zoomWindow.hide();n.zoomLens&&n.zoomLens.hide();n.zoomTint&&n.zoomTint.hide()},updateOffset:function(t){if(t.options.zoomContainerAppendTo!=="body"){t.nzOffset=t.$elem.offset();var i=n(t.options.zoomContainerAppendTo).offset();t.nzOffset.top=t.$elem.offset().top-i.top;t.nzOffset.left=t.$elem.offset().left-i.left;t.pageOffsetX=i.left;t.pageOffsetY=i.top}else t.nzOffset=t.$elem.offset(),t.pageOffsetX=0,t.pageOffsetY=0},changeState:function(n){var t=this;n==="enable"&&(t.options.zoomEnabled=!0);n==="disable"&&(t.options.zoomEnabled=!1)},responsiveConfig:function(t){return t.respond&&t.respond.length>0?n.extend({},t,this.configByScreenWidth(t)):t},configByScreenWidth:function(i){var r=n(t).width(),u=n.grep(i.respond,function(n){var t=n.range.split("-");return r>=t[0]&&r<=t[1]});return u.length>0?u[0]:i}};n.fn.ezPlus=function(t){return this.each(function(){var r=Object.create(i);r.init(t,this);n.data(this,"ezPlus",r)})};n.fn.ezPlus.options={container:"ZoomContainer",attrImageZoomSrc:"zoom-image",borderColour:"#888",borderSize:4,constrainSize:!1,constrainType:!1,containLensZoom:!1,cursor:"inherit",debug:!1,easing:!1,easingAmount:12,enabled:!0,gallery:!1,galleryActiveClass:"zoomGalleryActive",gallerySelector:!1,galleryItem:"a",galleryEvent:"click",imageCrossfade:!1,lensBorderColour:"#000",lensBorderSize:1,lensColour:"white",lensFadeIn:!1,lensFadeOut:!1,lensOpacity:.4,lensShape:"square",lensSize:200,lenszoom:!1,loadingIcon:!1,mantainZoomAspectRatio:!1,maxZoomLevel:!1,minZoomLevel:1.01,onComplete:n.noop,onDestroy:n.noop,onImageClick:n.noop,onImageSwap:n.noop,onImageSwapComplete:n.noop,onShow:n.noop,onHide:n.noop,onZoomedImageLoaded:n.noop,preloading:1,respond:[],responsive:!0,scrollZoom:!1,scrollZoomIncrement:.1,showLens:!0,tint:!1,tintColour:"#333",tintOpacity:.4,touchEnabled:!0,zoomActivation:"hover",zoomContainerAppendTo:"body",zoomId:-1,zoomLevel:1,zoomTintFadeIn:!1,zoomTintFadeOut:!1,zoomType:"window",zoomWindowAlwaysShow:!1,zoomWindowBgColour:"#fff",zoomWindowFadeIn:!1,zoomWindowFadeOut:!1,zoomWindowHeight:400,zoomWindowOffsetX:0,zoomWindowOffsetY:0,zoomWindowPosition:1,zoomWindowWidth:400,zoomEnabled:!0,zIndex:999}}(window.jQuery,window,document);